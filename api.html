---
title: CUPS API Programming Guide
layout: documentation
---

<h2 class="title">Contents</h2>
<ul class="contents">
<li><a href="#OVERVIEW">Overview</a></li>
<li><a href="#COMPILING">Compiling Programs</a><ul class="subcontents">
	<li><a href="#XCODE">Compiling with Xcode</a></li>
	<li><a href="#COMMANDLINE">Compiling with GCC</a></li>
</ul></li>
<li><a href="#ARRAY">Array API</a><ul class="subcontents">
	<li><a href="#MANAGING_ARRAYS">Managing Arrays</a></li>
	<li><a href="#FINDING_AND_ENUMERATING">Finding and Enumerating Elements</a></li>
</ul></li>
<li><a href="#CUPS">CUPS API</a><ul class="subcontents">
	<li><a href="#CLIENTS_AND_SERVERS">Clients and Servers</a></li>
	<li><a href="#PRINTERS_AND_CLASSES">Printers and Classes</a></li>
	<li><a href="#OPTIONS">Options</a></li>
	<li><a href="#PRINT_JOBS">Print Jobs</a></li>
	<li><a href="#ERROR_HANDLING">Error Handling</a></li>
	<li><a href="#PASSWORDS_AND_AUTHENTICATION">Passwords and Authentication</a></li>
</ul></li>
<li><a href="#FILEDIR">File and Directory APIs</a></li>
<li><a href="#HTTPIPP">HTTP and IPP APIs</a><ul class="subcontents">
	<li><a href="#CREATING_URI_STRINGS">Creating URI Strings</a></li>
	<li><a href="#SENDING_REQUESTS_WITH_FILES">Sending Requests with Files</a></li>
	<li><a href="#ASYNCHRONOUS_REQUEST_PROCESSING">Asynchronous Request Processing</a></li>
</ul></li>
<li><a href="#RASTER">Raster API</a></li>
<li><a href="#TASKS">Functions by Task</a><ul class="subcontents">
	<li><a href="#OPENCLOSE">Opening and Closing Raster Streams</a></li>
	<li><a href="#READING">Reading Raster Streams</a></li>
	<li><a href="#WRITING">Writing Raster Streams</a></li>
</ul></li>
<li><a href="#FUNCTIONS">Functions</a><ul class="code">
	<li><a href="#DllMain" title="Main entry for library.">DllMain</a></li>
	<li><a href="#cupsAddDest" title="Add a destination to the list of destinations.">cupsAddDest</a></li>
	<li><a href="#cupsAddOption" title="Add an option to an option array.">cupsAddOption</a></li>
	<li><a href="#cupsArrayAdd" title="Add an element to the array.">cupsArrayAdd</a></li>
	<li><a href="#cupsArrayClear" title="Clear the array.">cupsArrayClear</a></li>
	<li><a href="#cupsArrayCount" title="Get the number of elements in the array.">cupsArrayCount</a></li>
	<li><a href="#cupsArrayCurrent" title="Return the current element in the array.">cupsArrayCurrent</a></li>
	<li><a href="#cupsArrayDelete" title="Free all memory used by the array.">cupsArrayDelete</a></li>
	<li><a href="#cupsArrayDup" title="Duplicate the array.">cupsArrayDup</a></li>
	<li><a href="#cupsArrayFind" title="Find an element in the array.">cupsArrayFind</a></li>
	<li><a href="#cupsArrayFirst" title="Get the first element in the array.">cupsArrayFirst</a></li>
	<li><a href="#cupsArrayGetIndex" title="Get the index of the current element.">cupsArrayGetIndex</a></li>
	<li><a href="#cupsArrayGetInsert" title="Get the index of the last inserted element.">cupsArrayGetInsert</a></li>
	<li><a href="#cupsArrayIndex" title="Get the N-th element in the array.">cupsArrayIndex</a></li>
	<li><a href="#cupsArrayInsert" title="Insert an element in the array.">cupsArrayInsert</a></li>
	<li><a href="#cupsArrayLast" title="Get the last element in the array.">cupsArrayLast</a></li>
	<li><a href="#cupsArrayNew" title="Create a new array.">cupsArrayNew</a></li>
	<li><a href="#cupsArrayNew2" title="Create a new array with hash.">cupsArrayNew2</a></li>
	<li><a href="#cupsArrayNew3" title="Create a new array with hash and/or free function.">cupsArrayNew3</a></li>
	<li><a href="#cupsArrayNext" title="Get the next element in the array.">cupsArrayNext</a></li>
	<li><a href="#cupsArrayPrev" title="Get the previous element in the array.">cupsArrayPrev</a></li>
	<li><a href="#cupsArrayRemove" title="Remove an element from the array.">cupsArrayRemove</a></li>
	<li><a href="#cupsArrayRestore" title="Reset the current element to the last cupsArraySave.">cupsArrayRestore</a></li>
	<li><a href="#cupsArraySave" title="Mark the current element for a later cupsArrayRestore.">cupsArraySave</a></li>
	<li><a href="#cupsArrayUserData" title="Return the user data for an array.">cupsArrayUserData</a></li>
	<li><a href="#cupsCancelDestJob" title="Include necessary headers...">cupsCancelDestJob</a></li>
	<li><a href="#cupsCancelJob" title="Cancel a print job on the default server.">cupsCancelJob</a></li>
	<li><a href="#cupsCancelJob2" title="Cancel or purge a print job.">cupsCancelJob2</a></li>
	<li><a href="#cupsCharsetToUTF8" title="Convert legacy character set to UTF-8.">cupsCharsetToUTF8</a></li>
	<li><a href="#cupsCheckDestSupported" title="Check that the option and value are supported
by the destination.">cupsCheckDestSupported</a></li>
	<li><a href="#cupsCloseDestJob" title="Close a job and start printing.">cupsCloseDestJob</a></li>
	<li><a href="#cupsConnectDest" title="Connect to the server for a destination.">cupsConnectDest</a></li>
	<li><a href="#cupsConnectDestBlock" title="Connect to the server for a destination.">cupsConnectDestBlock</a></li>
	<li><a href="#cupsCopyDest" title="Callback block">cupsCopyDest</a></li>
	<li><a href="#cupsCopyDestConflicts" title="Get conflicts and resolutions for a new
option/value pair.">cupsCopyDestConflicts</a></li>
	<li><a href="#cupsCopyDestInfo" title="Get the supported values/capabilities for the
destination.">cupsCopyDestInfo</a></li>
	<li><a href="#cupsCreateDestJob" title="Create a job on a destination.">cupsCreateDestJob</a></li>
	<li><a href="#cupsCreateJob" title="Create an empty job for streaming.">cupsCreateJob</a></li>
	<li><a href="#cupsDirClose" title="Close a directory.">cupsDirClose</a></li>
	<li><a href="#cupsDirOpen" title="Open a directory.">cupsDirOpen</a></li>
	<li><a href="#cupsDirRead" title="Read the next directory entry.">cupsDirRead</a></li>
	<li><a href="#cupsDirRewind" title="Rewind to the start of the directory.">cupsDirRewind</a></li>
	<li><a href="#cupsDoAuthentication" title="Authenticate a request.">cupsDoAuthentication</a></li>
	<li><a href="#cupsDoFileRequest" title="Do an IPP request with a file.">cupsDoFileRequest</a></li>
	<li><a href="#cupsDoIORequest" title="Do an IPP request with file descriptors.">cupsDoIORequest</a></li>
	<li><a href="#cupsDoRequest" title="Do an IPP request.">cupsDoRequest</a></li>
	<li><a href="#cupsEncodeOptions" title="Encode printer options into IPP attributes.">cupsEncodeOptions</a></li>
	<li><a href="#cupsEncodeOptions2" title="Encode printer options into IPP attributes for a group.">cupsEncodeOptions2</a></li>
	<li><a href="#cupsEncryption" title="Get the current encryption settings.">cupsEncryption</a></li>
	<li><a href="#cupsEnumDests" title="Enumerate available destinations with a callback function.">cupsEnumDests</a></li>
	<li><a href="#cupsEnumDestsBlock" title="Enumerate available destinations with a block.">cupsEnumDestsBlock</a></li>
	<li><a href="#cupsFileClose" title="Close a CUPS file.">cupsFileClose</a></li>
	<li><a href="#cupsFileCompression" title="Return whether a file is compressed.">cupsFileCompression</a></li>
	<li><a href="#cupsFileEOF" title="Return the end-of-file status.">cupsFileEOF</a></li>
	<li><a href="#cupsFileFind" title="Find a file using the specified path.">cupsFileFind</a></li>
	<li><a href="#cupsFileFlush" title="Flush pending output.">cupsFileFlush</a></li>
	<li><a href="#cupsFileGetChar" title="Get a single character from a file.">cupsFileGetChar</a></li>
	<li><a href="#cupsFileGetConf" title="Get a line from a configuration file.">cupsFileGetConf</a></li>
	<li><a href="#cupsFileGetLine" title="Get a CR and/or LF-terminated line that may
contain binary data.">cupsFileGetLine</a></li>
	<li><a href="#cupsFileGets" title="Get a CR and/or LF-terminated line.">cupsFileGets</a></li>
	<li><a href="#cupsFileLock" title="Temporarily lock access to a file.">cupsFileLock</a></li>
	<li><a href="#cupsFileNumber" title="Return the file descriptor associated with a CUPS file.">cupsFileNumber</a></li>
	<li><a href="#cupsFileOpen" title="Open a CUPS file.">cupsFileOpen</a></li>
	<li><a href="#cupsFileOpenFd" title="Open a CUPS file using a file descriptor.">cupsFileOpenFd</a></li>
	<li><a href="#cupsFilePeekChar" title="Peek at the next character from a file.">cupsFilePeekChar</a></li>
	<li><a href="#cupsFilePrintf" title="Write a formatted string.">cupsFilePrintf</a></li>
	<li><a href="#cupsFilePutChar" title="Write a character.">cupsFilePutChar</a></li>
	<li><a href="#cupsFilePutConf" title="Write a configuration line.">cupsFilePutConf</a></li>
	<li><a href="#cupsFilePuts" title="Write a string.">cupsFilePuts</a></li>
	<li><a href="#cupsFileRead" title="Read from a file.">cupsFileRead</a></li>
	<li><a href="#cupsFileRewind" title="Set the current file position to the beginning of the
file.">cupsFileRewind</a></li>
	<li><a href="#cupsFileSeek" title="Seek in a file.">cupsFileSeek</a></li>
	<li><a href="#cupsFileStderr" title="Return a CUPS file associated with stderr.">cupsFileStderr</a></li>
	<li><a href="#cupsFileStdin" title="Return a CUPS file associated with stdin.">cupsFileStdin</a></li>
	<li><a href="#cupsFileStdout" title="Return a CUPS file associated with stdout.">cupsFileStdout</a></li>
	<li><a href="#cupsFileTell" title="Return the current file position.">cupsFileTell</a></li>
	<li><a href="#cupsFileUnlock" title="Unlock access to a file.">cupsFileUnlock</a></li>
	<li><a href="#cupsFileWrite" title="Write to a file.">cupsFileWrite</a></li>
	<li><a href="#cupsFindDestDefault" title="Find the default value(s) for the given option.">cupsFindDestDefault</a></li>
	<li><a href="#cupsFindDestReady" title="Find the default value(s) for the given option.">cupsFindDestReady</a></li>
	<li><a href="#cupsFindDestSupported" title="Find the default value(s) for the given option.">cupsFindDestSupported</a></li>
	<li><a href="#cupsFinishDestDocument" title="Finish the current document.">cupsFinishDestDocument</a></li>
	<li><a href="#cupsFinishDocument" title="Finish sending a document.">cupsFinishDocument</a></li>
	<li><a href="#cupsFreeDestInfo" title="Free destination information obtained using
cupsCopyDestInfo.">cupsFreeDestInfo</a></li>
	<li><a href="#cupsFreeDests" title="Free the memory used by the list of destinations.">cupsFreeDests</a></li>
	<li><a href="#cupsFreeJobs" title="Free memory used by job data.">cupsFreeJobs</a></li>
	<li><a href="#cupsFreeOptions" title="Free all memory used by options.">cupsFreeOptions</a></li>
	<li><a href="#cupsGetClasses" title="Get a list of printer classes from the default server.">cupsGetClasses</a></li>
	<li><a href="#cupsGetDefault" title="Get the default printer or class for the default server.">cupsGetDefault</a></li>
	<li><a href="#cupsGetDefault2" title="Get the default printer or class for the specified server.">cupsGetDefault2</a></li>
	<li><a href="#cupsGetDest" title="Get the named destination from the list.">cupsGetDest</a></li>
	<li><a href="#cupsGetDestMediaByIndex" title="Get a media name, dimension, and margins for a
specific size.">cupsGetDestMediaByIndex</a></li>
	<li><a href="#cupsGetDestMediaByName" title="Get media names, dimensions, and margins.">cupsGetDestMediaByName</a></li>
	<li><a href="#cupsGetDestMediaBySize" title="Get media names, dimensions, and margins.">cupsGetDestMediaBySize</a></li>
	<li><a href="#cupsGetDestMediaCount" title="Get the number of sizes supported by a
destination.">cupsGetDestMediaCount</a></li>
	<li><a href="#cupsGetDestMediaDefault" title="Get the default size for a destination.">cupsGetDestMediaDefault</a></li>
	<li><a href="#cupsGetDestWithURI" title="Get a destination associated with a URI.">cupsGetDestWithURI</a></li>
	<li><a href="#cupsGetDests" title="Get the list of destinations from the default server.">cupsGetDests</a></li>
	<li><a href="#cupsGetDests2" title="Get the list of destinations from the specified server.">cupsGetDests2</a></li>
	<li><a href="#cupsGetFd" title="Get a file from the server.">cupsGetFd</a></li>
	<li><a href="#cupsGetFile" title="Get a file from the server.">cupsGetFile</a></li>
	<li><a href="#cupsGetJobs" title="Get the jobs from the default server.">cupsGetJobs</a></li>
	<li><a href="#cupsGetJobs2" title="Get the jobs from the specified server.">cupsGetJobs2</a></li>
	<li><a href="#cupsGetNamedDest" title="Get options for the named destination.">cupsGetNamedDest</a></li>
	<li><a href="#cupsGetOption" title="Get an option value.">cupsGetOption</a></li>
	<li><a href="#cupsGetPassword" title="Get a password from the user.">cupsGetPassword</a></li>
	<li><a href="#cupsGetPassword2" title="Get a password from the user using the advanced
password callback.">cupsGetPassword2</a></li>
	<li><a href="#cupsGetPrinters" title="Get a list of printers from the default server.">cupsGetPrinters</a></li>
	<li><a href="#cupsGetResponse" title="Get a response to an IPP request.">cupsGetResponse</a></li>
	<li><a href="#cupsHashData" title="Perform a hash function on the given data.">cupsHashData</a></li>
	<li><a href="#cupsLangDefault" title="Return the default language.">cupsLangDefault</a></li>
	<li><a href="#cupsLangEncoding" title="Return the character encoding (us-ascii, etc.)
for the given language.">cupsLangEncoding</a></li>
	<li><a href="#cupsLangFlush" title="Flush all language data out of the cache.">cupsLangFlush</a></li>
	<li><a href="#cupsLangFree" title="Free language data.">cupsLangFree</a></li>
	<li><a href="#cupsLangGet" title="Get a language.">cupsLangGet</a></li>
	<li><a href="#cupsLastError" title="Return the last IPP status code received on the current
thread.">cupsLastError</a></li>
	<li><a href="#cupsLastErrorString" title="Return the last IPP status-message received on the
current thread.">cupsLastErrorString</a></li>
	<li><a href="#cupsLocalizeDestMedia" title="Get the localized string for a destination media
size.">cupsLocalizeDestMedia</a></li>
	<li><a href="#cupsLocalizeDestOption" title="Get the localized string for a destination
option.">cupsLocalizeDestOption</a></li>
	<li><a href="#cupsLocalizeDestValue" title="Get the localized string for a destination
option+value pair.">cupsLocalizeDestValue</a></li>
	<li><a href="#cupsNotifySubject" title="Return the subject for the given notification message.">cupsNotifySubject</a></li>
	<li><a href="#cupsNotifyText" title="Return the text for the given notification message.">cupsNotifyText</a></li>
	<li><a href="#cupsParseOptions" title="Parse options from a command-line argument.">cupsParseOptions</a></li>
	<li><a href="#cupsPrintFile" title="Print a file to a printer or class on the default server.">cupsPrintFile</a></li>
	<li><a href="#cupsPrintFile2" title="Print a file to a printer or class on the specified
server.">cupsPrintFile2</a></li>
	<li><a href="#cupsPrintFiles" title="Print one or more files to a printer or class on the
default server.">cupsPrintFiles</a></li>
	<li><a href="#cupsPrintFiles2" title="Print one or more files to a printer or class on the
specified server.">cupsPrintFiles2</a></li>
	<li><a href="#cupsPutFd" title="Put a file on the server.">cupsPutFd</a></li>
	<li><a href="#cupsPutFile" title="Put a file on the server.">cupsPutFile</a></li>
	<li><a href="#cupsRasterClose" title="Close a raster stream.">cupsRasterClose</a></li>
	<li><a href="#cupsRasterErrorString" title="Return the last error from a raster function.">cupsRasterErrorString</a></li>
	<li><a href="#cupsRasterInitPWGHeader" title="Initialize a page header for PWG Raster output.">cupsRasterInitPWGHeader</a></li>
	<li><a href="#cupsRasterOpen" title="Open a raster stream using a file descriptor.">cupsRasterOpen</a></li>
	<li><a href="#cupsRasterOpenIO" title="Open a raster stream using a callback function.">cupsRasterOpenIO</a></li>
	<li><a href="#cupsRasterReadHeader" title="Read a raster page header and store it in a
version 1 page header structure.">cupsRasterReadHeader</a></li>
	<li><a href="#cupsRasterReadHeader2" title="Read a raster page header and store it in a
version 2 page header structure.">cupsRasterReadHeader2</a></li>
	<li><a href="#cupsRasterReadPixels" title="Read raster pixels.">cupsRasterReadPixels</a></li>
	<li><a href="#cupsRasterWriteHeader" title="Write a raster page header from a version 1 page
header structure.">cupsRasterWriteHeader</a></li>
	<li><a href="#cupsRasterWriteHeader2" title="Write a raster page header from a version 2
page header structure.">cupsRasterWriteHeader2</a></li>
	<li><a href="#cupsRasterWritePixels" title="Write raster pixels.">cupsRasterWritePixels</a></li>
	<li><a href="#cupsReadResponseData" title="Read additional data after the IPP response.">cupsReadResponseData</a></li>
	<li><a href="#cupsRemoveDest" title="Remove a destination from the destination list.">cupsRemoveDest</a></li>
	<li><a href="#cupsRemoveOption" title="Remove an option from an option array.">cupsRemoveOption</a></li>
	<li><a href="#cupsSendRequest" title="Send an IPP request.">cupsSendRequest</a></li>
	<li><a href="#cupsServer" title="Return the hostname/address of the current server.">cupsServer</a></li>
	<li><a href="#cupsSetClientCertCB" title="Set the client certificate callback.">cupsSetClientCertCB</a></li>
	<li><a href="#cupsSetCredentials" title="Set the default credentials to be used for SSL/TLS
connections.">cupsSetCredentials</a></li>
	<li><a href="#cupsSetDefaultDest" title="Set the default destination.">cupsSetDefaultDest</a></li>
	<li><a href="#cupsSetDests" title="Save the list of destinations for the default server.">cupsSetDests</a></li>
	<li><a href="#cupsSetDests2" title="Save the list of destinations for the specified server.">cupsSetDests2</a></li>
	<li><a href="#cupsSetEncryption" title="Set the encryption preference.">cupsSetEncryption</a></li>
	<li><a href="#cupsSetPasswordCB" title="Set the password callback for CUPS.">cupsSetPasswordCB</a></li>
	<li><a href="#cupsSetPasswordCB2" title="Set the advanced password callback for CUPS.">cupsSetPasswordCB2</a></li>
	<li><a href="#cupsSetServer" title="Set the default server name and port.">cupsSetServer</a></li>
	<li><a href="#cupsSetServerCertCB" title="Set the server certificate callback.">cupsSetServerCertCB</a></li>
	<li><a href="#cupsSetUser" title="Set the default user name.">cupsSetUser</a></li>
	<li><a href="#cupsSetUserAgent" title="Set the default HTTP User-Agent string.">cupsSetUserAgent</a></li>
	<li><a href="#cupsStartDestDocument" title="Start a new document.">cupsStartDestDocument</a></li>
	<li><a href="#cupsStartDocument" title="Add a document to a job created with cupsCreateJob().">cupsStartDocument</a></li>
	<li><a href="#cupsTempFd" title="Creates a temporary file.">cupsTempFd</a></li>
	<li><a href="#cupsTempFile" title="Generates a temporary filename.">cupsTempFile</a></li>
	<li><a href="#cupsTempFile2" title="Creates a temporary CUPS file.">cupsTempFile2</a></li>
	<li><a href="#cupsUTF32ToUTF8" title="Convert UTF-32 to UTF-8.">cupsUTF32ToUTF8</a></li>
	<li><a href="#cupsUTF8ToCharset" title="Convert UTF-8 to legacy character set.">cupsUTF8ToCharset</a></li>
	<li><a href="#cupsUTF8ToUTF32" title="Convert UTF-8 to UTF-32.">cupsUTF8ToUTF32</a></li>
	<li><a href="#cupsUser" title="Return the current user's name.">cupsUser</a></li>
	<li><a href="#cupsUserAgent" title="Return the default HTTP User-Agent string.">cupsUserAgent</a></li>
	<li><a href="#cupsWriteRequestData" title="Write additional data after an IPP request.">cupsWriteRequestData</a></li>
	<li><a href="#get_error_buffer" title="Return a pointer to thread local storage.">get_error_buffer</a></li>
	<li><a href="#httpAcceptConnection" title="Accept a new HTTP client connection from the
specified listening socket.">httpAcceptConnection</a></li>
	<li><a href="#httpAddCredential" title="Allocates and adds a single credential to an array.">httpAddCredential</a></li>
	<li><a href="#httpAddrAny" title="Check for the &quot;any&quot; address.">httpAddrAny</a></li>
	<li><a href="#httpAddrClose" title="Close a socket created by httpAddrConnect or
httpAddrListen.">httpAddrClose</a></li>
	<li><a href="#httpAddrConnect" title="Connect to any of the addresses in the list.">httpAddrConnect</a></li>
	<li><a href="#httpAddrConnect2" title="Connect to any of the addresses in the list with a
timeout and optional cancel.">httpAddrConnect2</a></li>
	<li><a href="#httpAddrCopyList" title="Copy an address list.">httpAddrCopyList</a></li>
	<li><a href="#httpAddrEqual" title="Compare two addresses.">httpAddrEqual</a></li>
	<li><a href="#httpAddrFamily" title="Get the address family of an address.">httpAddrFamily</a></li>
	<li><a href="#httpAddrFreeList" title="Free an address list.">httpAddrFreeList</a></li>
	<li><a href="#httpAddrGetList" title="Get a list of addresses for a hostname.">httpAddrGetList</a></li>
	<li><a href="#httpAddrLength" title="Return the length of the address in bytes.">httpAddrLength</a></li>
	<li><a href="#httpAddrListen" title="Create a listening socket bound to the specified
address and port.">httpAddrListen</a></li>
	<li><a href="#httpAddrLocalhost" title="Check for the local loopback address.">httpAddrLocalhost</a></li>
	<li><a href="#httpAddrLookup" title="Lookup the hostname associated with the address.">httpAddrLookup</a></li>
	<li><a href="#httpAddrPort" title="Get the port number associated with an address.">httpAddrPort</a></li>
	<li><a href="#httpAddrString" title="Convert an address to a numeric string.">httpAddrString</a></li>
	<li><a href="#httpAssembleURI" title="Assemble a uniform resource identifier from its
components.">httpAssembleURI</a></li>
	<li><a href="#httpAssembleURIf" title="Assemble a uniform resource identifier from its
components with a formatted resource.">httpAssembleURIf</a></li>
	<li><a href="#httpAssembleUUID" title="Assemble a name-based UUID URN conforming to RFC 4122.">httpAssembleUUID</a></li>
	<li><a href="#httpBlocking" title="Set blocking/non-blocking behavior on a connection.">httpBlocking</a></li>
	<li><a href="#httpCheck" title="Check to see if there is a pending response from the server.">httpCheck</a></li>
	<li><a href="#httpClearCookie" title="Clear the cookie value(s).">httpClearCookie</a></li>
	<li><a href="#httpClearFields" title="Clear HTTP request fields.">httpClearFields</a></li>
	<li><a href="#httpClose" title="Close an HTTP connection.">httpClose</a></li>
	<li><a href="#httpCompareCredentials" title="Compare two sets of X.509 credentials.">httpCompareCredentials</a></li>
	<li><a href="#httpConnect" title="Connect to a HTTP server.">httpConnect</a></li>
	<li><a href="#httpConnect2" title="Connect to a HTTP server.">httpConnect2</a></li>
	<li><a href="#httpConnectEncrypt" title="Connect to a HTTP server using encryption.">httpConnectEncrypt</a></li>
	<li><a href="#httpCopyCredentials" title="Local functions...">httpCopyCredentials</a></li>
	<li><a href="#httpCredentialsAreValidForName" title="">httpCredentialsAreValidForName</a></li>
	<li><a href="#httpCredentialsGetExpiration" title="">httpCredentialsGetExpiration</a></li>
	<li><a href="#httpCredentialsGetTrust" title="">httpCredentialsGetTrust</a></li>
	<li><a href="#httpCredentialsString" title="">httpCredentialsString</a></li>
	<li><a href="#httpDecode64" title="Base64-decode a string.">httpDecode64</a></li>
	<li><a href="#httpDecode64_2" title="Base64-decode a string.">httpDecode64_2</a></li>
	<li><a href="#httpDelete" title="Send a DELETE request to the server.">httpDelete</a></li>
	<li><a href="#httpEncode64" title="Base64-encode a string.">httpEncode64</a></li>
	<li><a href="#httpEncode64_2" title="Base64-encode a string.">httpEncode64_2</a></li>
	<li><a href="#httpEncryption" title="Set the required encryption on the link.">httpEncryption</a></li>
	<li><a href="#httpError" title="Get the last error on a connection.">httpError</a></li>
	<li><a href="#httpFieldValue" title="Return the HTTP field enumeration value for a field
name.">httpFieldValue</a></li>
	<li><a href="#httpFlush" title="Flush data from a HTTP connection.">httpFlush</a></li>
	<li><a href="#httpFlushWrite" title="Flush data in write buffer.">httpFlushWrite</a></li>
	<li><a href="#httpFreeCredentials" title="Free an array of credentials.">httpFreeCredentials</a></li>
	<li><a href="#httpGet" title="Send a GET request to the server.">httpGet</a></li>
	<li><a href="#httpGetActivity" title="Get the most recent activity for a connection.">httpGetActivity</a></li>
	<li><a href="#httpGetAddress" title="Get the address of the connected peer of a connection.">httpGetAddress</a></li>
	<li><a href="#httpGetAuthString" title="Get the current authorization string.">httpGetAuthString</a></li>
	<li><a href="#httpGetBlocking" title="Get the blocking/non-block state of a connection.">httpGetBlocking</a></li>
	<li><a href="#httpGetContentEncoding" title="Get a common content encoding, if any, between
the client and server.">httpGetContentEncoding</a></li>
	<li><a href="#httpGetCookie" title="Get any cookie data from the response.">httpGetCookie</a></li>
	<li><a href="#httpGetDateString" title="Get a formatted date/time string from a time value.">httpGetDateString</a></li>
	<li><a href="#httpGetDateString2" title="Get a formatted date/time string from a time value.">httpGetDateString2</a></li>
	<li><a href="#httpGetDateTime" title="Get a time value from a formatted date/time string.">httpGetDateTime</a></li>
	<li><a href="#httpGetEncryption" title="Get the current encryption mode of a connection.">httpGetEncryption</a></li>
	<li><a href="#httpGetExpect" title="Get the value of the Expect header, if any.">httpGetExpect</a></li>
	<li><a href="#httpGetFd" title="Get the file descriptor associated with a connection.">httpGetFd</a></li>
	<li><a href="#httpGetField" title="Get a field value from a request/response.">httpGetField</a></li>
	<li><a href="#httpGetHostByName" title="Lookup a hostname or IPv4 address, and return
address records for the specified name.">httpGetHostByName</a></li>
	<li><a href="#httpGetHostname" title="Get the FQDN for the connection or local system.">httpGetHostname</a></li>
	<li><a href="#httpGetKeepAlive" title="Get the current Keep-Alive state of the connection.">httpGetKeepAlive</a></li>
	<li><a href="#httpGetLength" title="Get the amount of data remaining from the
content-length or transfer-encoding fields.">httpGetLength</a></li>
	<li><a href="#httpGetLength2" title="Get the amount of data remaining from the
content-length or transfer-encoding fields.">httpGetLength2</a></li>
	<li><a href="#httpGetPending" title="Get the number of bytes that are buffered for writing.">httpGetPending</a></li>
	<li><a href="#httpGetReady" title="Get the number of bytes that can be read without blocking.">httpGetReady</a></li>
	<li><a href="#httpGetRemaining" title="Get the number of remaining bytes in the message
body or current chunk.">httpGetRemaining</a></li>
	<li><a href="#httpGetState" title="Get the current state of the HTTP request.">httpGetState</a></li>
	<li><a href="#httpGetStatus" title="Get the status of the last HTTP request.">httpGetStatus</a></li>
	<li><a href="#httpGetSubField" title="Get a sub-field value.">httpGetSubField</a></li>
	<li><a href="#httpGetSubField2" title="Get a sub-field value.">httpGetSubField2</a></li>
	<li><a href="#httpGetVersion" title="Get the HTTP version at the other end.">httpGetVersion</a></li>
	<li><a href="#httpGets" title="Get a line of text from a HTTP connection.">httpGets</a></li>
	<li><a href="#httpHead" title="Send a HEAD request to the server.">httpHead</a></li>
	<li><a href="#httpInitialize" title="Initialize the HTTP interface library and set the
default HTTP proxy (if any).">httpInitialize</a></li>
	<li><a href="#httpIsChunked" title="Report whether a message body is chunked.">httpIsChunked</a></li>
	<li><a href="#httpIsEncrypted" title="Report whether a connection is encrypted.">httpIsEncrypted</a></li>
	<li><a href="#httpLoadCredentials" title="">httpLoadCredentials</a></li>
	<li><a href="#httpMD5" title="Compute the MD5 sum of the username:group:password.">httpMD5</a></li>
	<li><a href="#httpMD5Final" title="Combine the MD5 sum of the username, group, and password
with the server-supplied nonce value, method, and
request-uri.">httpMD5Final</a></li>
	<li><a href="#httpMD5String" title="Convert an MD5 sum to a character string.">httpMD5String</a></li>
	<li><a href="#httpOptions" title="Send an OPTIONS request to the server.">httpOptions</a></li>
	<li><a href="#httpPeek" title="Peek at data from a HTTP connection.">httpPeek</a></li>
	<li><a href="#httpPost" title="Send a POST request to the server.">httpPost</a></li>
	<li><a href="#httpPut" title="Send a PUT request to the server.">httpPut</a></li>
	<li><a href="#httpRead" title="Read data from a HTTP connection.">httpRead</a></li>
	<li><a href="#httpRead2" title="Read data from a HTTP connection.">httpRead2</a></li>
	<li><a href="#httpReadRequest" title="Read a HTTP request from a connection.">httpReadRequest</a></li>
	<li><a href="#httpReconnect" title="Reconnect to a HTTP server.">httpReconnect</a></li>
	<li><a href="#httpReconnect2" title="Reconnect to a HTTP server with timeout and optional
cancel.">httpReconnect2</a></li>
	<li><a href="#httpResolveHostname" title="Resolve the hostname of the HTTP connection
address.">httpResolveHostname</a></li>
	<li><a href="#httpSaveCredentials" title="">httpSaveCredentials</a></li>
	<li><a href="#httpSeparate" title="Separate a Universal Resource Identifier into its
components.">httpSeparate</a></li>
	<li><a href="#httpSeparate2" title="Separate a Universal Resource Identifier into its
components.">httpSeparate2</a></li>
	<li><a href="#httpSeparateURI" title="Separate a Universal Resource Identifier into its
components.">httpSeparateURI</a></li>
	<li><a href="#httpSetAuthString" title="Set the current authorization string.">httpSetAuthString</a></li>
	<li><a href="#httpSetCookie" title="Set the cookie value(s).">httpSetCookie</a></li>
	<li><a href="#httpSetCredentials" title="Set the credentials associated with an encrypted
connection.">httpSetCredentials</a></li>
	<li><a href="#httpSetDefaultField" title="Set the default value of an HTTP header.">httpSetDefaultField</a></li>
	<li><a href="#httpSetExpect" title="Set the Expect: header in a request.">httpSetExpect</a></li>
	<li><a href="#httpSetField" title="Set the value of an HTTP header.">httpSetField</a></li>
	<li><a href="#httpSetKeepAlive" title="Set the current Keep-Alive state of a connection.">httpSetKeepAlive</a></li>
	<li><a href="#httpSetLength" title="Set the content-length and content-encoding.">httpSetLength</a></li>
	<li><a href="#httpSetTimeout" title="Set read/write timeouts and an optional callback.">httpSetTimeout</a></li>
	<li><a href="#httpShutdown" title="Shutdown one side of an HTTP connection.">httpShutdown</a></li>
	<li><a href="#httpStateString" title="Return the string describing a HTTP state value.">httpStateString</a></li>
	<li><a href="#httpStatus" title="Return a short string describing a HTTP status code.">httpStatus</a></li>
	<li><a href="#httpTrace" title="Send an TRACE request to the server.">httpTrace</a></li>
	<li><a href="#httpURIStatusString" title="Return a string describing a URI status code.">httpURIStatusString</a></li>
	<li><a href="#httpUpdate" title="Update the current HTTP state for incoming data.">httpUpdate</a></li>
	<li><a href="#httpWait" title="Wait for data available on a connection.">httpWait</a></li>
	<li><a href="#httpWrite" title="Write data to a HTTP connection.">httpWrite</a></li>
	<li><a href="#httpWrite2" title="Write data to a HTTP connection.">httpWrite2</a></li>
	<li><a href="#httpWriteResponse" title="Write a HTTP response to a client connection.">httpWriteResponse</a></li>
	<li><a href="#ippAddBoolean" title="Add a boolean attribute to an IPP message.">ippAddBoolean</a></li>
	<li><a href="#ippAddBooleans" title="Add an array of boolean values.">ippAddBooleans</a></li>
	<li><a href="#ippAddCollection" title="Add a collection value.">ippAddCollection</a></li>
	<li><a href="#ippAddCollections" title="Add an array of collection values.">ippAddCollections</a></li>
	<li><a href="#ippAddDate" title="Add a date attribute to an IPP message.">ippAddDate</a></li>
	<li><a href="#ippAddInteger" title="Add a integer attribute to an IPP message.">ippAddInteger</a></li>
	<li><a href="#ippAddIntegers" title="Add an array of integer values.">ippAddIntegers</a></li>
	<li><a href="#ippAddOctetString" title="Add an octetString value to an IPP message.">ippAddOctetString</a></li>
	<li><a href="#ippAddOutOfBand" title="Add an out-of-band value to an IPP message.">ippAddOutOfBand</a></li>
	<li><a href="#ippAddRange" title="Add a range of values to an IPP message.">ippAddRange</a></li>
	<li><a href="#ippAddRanges" title="Add ranges of values to an IPP message.">ippAddRanges</a></li>
	<li><a href="#ippAddResolution" title="Add a resolution value to an IPP message.">ippAddResolution</a></li>
	<li><a href="#ippAddResolutions" title="Add resolution values to an IPP message.">ippAddResolutions</a></li>
	<li><a href="#ippAddSeparator" title="Add a group separator to an IPP message.">ippAddSeparator</a></li>
	<li><a href="#ippAddString" title="Add a language-encoded string to an IPP message.">ippAddString</a></li>
	<li><a href="#ippAddStringf" title="Add a formatted string to an IPP message.">ippAddStringf</a></li>
	<li><a href="#ippAddStringfv" title="Add a formatted string to an IPP message.">ippAddStringfv</a></li>
	<li><a href="#ippAddStrings" title="Add language-encoded strings to an IPP message.">ippAddStrings</a></li>
	<li><a href="#ippAttributeString" title="Convert the attribute's value to a string.">ippAttributeString</a></li>
	<li><a href="#ippContainsInteger" title="Determine whether an attribute contains the
specified value or is within the list of ranges.">ippContainsInteger</a></li>
	<li><a href="#ippContainsString" title="Determine whether an attribute contains the
specified string value.">ippContainsString</a></li>
	<li><a href="#ippCopyAttribute" title="Copy an attribute.">ippCopyAttribute</a></li>
	<li><a href="#ippCopyAttributes" title="Copy attributes from one IPP message to another.">ippCopyAttributes</a></li>
	<li><a href="#ippCreateRequestedArray" title="Create a CUPS array of attribute names from the
given requested-attributes attribute.">ippCreateRequestedArray</a></li>
	<li><a href="#ippDateToTime" title="Convert from RFC 1903 Date/Time format to UNIX time
in seconds.">ippDateToTime</a></li>
	<li><a href="#ippDelete" title="Delete an IPP message.">ippDelete</a></li>
	<li><a href="#ippDeleteAttribute" title="Delete a single attribute in an IPP message.">ippDeleteAttribute</a></li>
	<li><a href="#ippDeleteValues" title="Delete values in an attribute.">ippDeleteValues</a></li>
	<li><a href="#ippEnumString" title="Return a string corresponding to the enum value.">ippEnumString</a></li>
	<li><a href="#ippEnumValue" title="Return the value associated with a given enum string.">ippEnumValue</a></li>
	<li><a href="#ippErrorString" title="Return a name for the given status code.">ippErrorString</a></li>
	<li><a href="#ippErrorValue" title="Return a status code for the given name.">ippErrorValue</a></li>
	<li><a href="#ippFindAttribute" title="Find a named attribute in a request.">ippFindAttribute</a></li>
	<li><a href="#ippFindNextAttribute" title="Find the next named attribute in a request.">ippFindNextAttribute</a></li>
	<li><a href="#ippFirstAttribute" title="Return the first attribute in the message.">ippFirstAttribute</a></li>
	<li><a href="#ippGetBoolean" title="Get a boolean value for an attribute.">ippGetBoolean</a></li>
	<li><a href="#ippGetCollection" title="Get a collection value for an attribute.">ippGetCollection</a></li>
	<li><a href="#ippGetCount" title="Get the number of values in an attribute.">ippGetCount</a></li>
	<li><a href="#ippGetDate" title="Get a date value for an attribute.">ippGetDate</a></li>
	<li><a href="#ippGetGroupTag" title="Get the group associated with an attribute.">ippGetGroupTag</a></li>
	<li><a href="#ippGetInteger" title="Get the integer/enum value for an attribute.">ippGetInteger</a></li>
	<li><a href="#ippGetName" title="Get the attribute name.">ippGetName</a></li>
	<li><a href="#ippGetOctetString" title="Get an octetString value from an IPP attribute.">ippGetOctetString</a></li>
	<li><a href="#ippGetOperation" title="Get the operation ID in an IPP message.">ippGetOperation</a></li>
	<li><a href="#ippGetRange" title="Get a rangeOfInteger value from an attribute.">ippGetRange</a></li>
	<li><a href="#ippGetRequestId" title="Get the request ID from an IPP message.">ippGetRequestId</a></li>
	<li><a href="#ippGetResolution" title="Get a resolution value for an attribute.">ippGetResolution</a></li>
	<li><a href="#ippGetState" title="Get the IPP message state.">ippGetState</a></li>
	<li><a href="#ippGetStatusCode" title="Get the status code from an IPP response or event message.">ippGetStatusCode</a></li>
	<li><a href="#ippGetString" title="Return the value...">ippGetString</a></li>
	<li><a href="#ippGetValueTag" title="Get the value tag for an attribute.">ippGetValueTag</a></li>
	<li><a href="#ippGetVersion" title="Get the major and minor version number from an IPP message.">ippGetVersion</a></li>
	<li><a href="#ippLength" title="Compute the length of an IPP message.">ippLength</a></li>
	<li><a href="#ippNew" title="Allocate a new IPP message.">ippNew</a></li>
	<li><a href="#ippNewRequest" title="Allocate a new IPP request message.">ippNewRequest</a></li>
	<li><a href="#ippNewResponse" title="Allocate a new IPP response message.">ippNewResponse</a></li>
	<li><a href="#ippNextAttribute" title="Return the next attribute in the message.">ippNextAttribute</a></li>
	<li><a href="#ippOpString" title="Return a name for the given operation id.">ippOpString</a></li>
	<li><a href="#ippOpValue" title="Return an operation id for the given name.">ippOpValue</a></li>
	<li><a href="#ippPort" title="Return the default IPP port number.">ippPort</a></li>
	<li><a href="#ippRead" title="Read data for an IPP message from a HTTP connection.">ippRead</a></li>
	<li><a href="#ippReadFile" title="Read data for an IPP message from a file.">ippReadFile</a></li>
	<li><a href="#ippReadIO" title="Read data for an IPP message.">ippReadIO</a></li>
	<li><a href="#ippSetBoolean" title="Set a boolean value in an attribute.">ippSetBoolean</a></li>
	<li><a href="#ippSetCollection" title="Set a collection value in an attribute.">ippSetCollection</a></li>
	<li><a href="#ippSetDate" title="Set a date value in an attribute.">ippSetDate</a></li>
	<li><a href="#ippSetGroupTag" title="Set the group tag of an attribute.">ippSetGroupTag</a></li>
	<li><a href="#ippSetInteger" title="Set an integer or enum value in an attribute.">ippSetInteger</a></li>
	<li><a href="#ippSetName" title="Set the name of an attribute.">ippSetName</a></li>
	<li><a href="#ippSetOctetString" title="Set an octetString value in an IPP attribute.">ippSetOctetString</a></li>
	<li><a href="#ippSetOperation" title="Set the operation ID in an IPP request message.">ippSetOperation</a></li>
	<li><a href="#ippSetPort" title="Set the default port number.">ippSetPort</a></li>
	<li><a href="#ippSetRange" title="Set a rangeOfInteger value in an attribute.">ippSetRange</a></li>
	<li><a href="#ippSetRequestId" title="Set the request ID in an IPP message.">ippSetRequestId</a></li>
	<li><a href="#ippSetResolution" title="Set a resolution value in an attribute.">ippSetResolution</a></li>
	<li><a href="#ippSetState" title="Set the current state of the IPP message.">ippSetState</a></li>
	<li><a href="#ippSetStatusCode" title="Set the status code in an IPP response or event message.">ippSetStatusCode</a></li>
	<li><a href="#ippSetString" title="Set a string value in an attribute.">ippSetString</a></li>
	<li><a href="#ippSetStringf" title="Set a formatted string value of an attribute.">ippSetStringf</a></li>
	<li><a href="#ippSetStringfv" title="Set a formatted string value of an attribute.">ippSetStringfv</a></li>
	<li><a href="#ippSetValueTag" title="Set the value tag of an attribute.">ippSetValueTag</a></li>
	<li><a href="#ippSetVersion" title="Set the version number in an IPP message.">ippSetVersion</a></li>
	<li><a href="#ippStateString" title="Return the name corresponding to a state value.">ippStateString</a></li>
	<li><a href="#ippTagString" title="Return the tag name corresponding to a tag value.">ippTagString</a></li>
	<li><a href="#ippTagValue" title="Return the tag value corresponding to a tag name.">ippTagValue</a></li>
	<li><a href="#ippTimeToDate" title="Convert from UNIX time to RFC 1903 format.">ippTimeToDate</a></li>
	<li><a href="#ippValidateAttribute" title="Validate the contents of an attribute.">ippValidateAttribute</a></li>
	<li><a href="#ippValidateAttributes" title="Validate all attributes in an IPP message.">ippValidateAttributes</a></li>
	<li><a href="#ippWrite" title="Write data for an IPP message to a HTTP connection.">ippWrite</a></li>
	<li><a href="#ippWriteFile" title="Write data for an IPP message to a file.">ippWriteFile</a></li>
	<li><a href="#ippWriteIO" title="Write data for an IPP message.">ippWriteIO</a></li>
	<li><a href="#pwgFormatSizeName" title="Generate a PWG self-describing media size name.">pwgFormatSizeName</a></li>
	<li><a href="#pwgInitSize" title="Initialize a pwg_size_t structure using IPP Job Template
attributes.">pwgInitSize</a></li>
	<li><a href="#pwgMediaForLegacy" title="Find a PWG media size by ISO/IPP legacy name.">pwgMediaForLegacy</a></li>
	<li><a href="#pwgMediaForPPD" title="Find a PWG media size by Adobe PPD name.">pwgMediaForPPD</a></li>
	<li><a href="#pwgMediaForPWG" title="Find a PWG media size by 5101.1 self-describing name.">pwgMediaForPWG</a></li>
	<li><a href="#pwgMediaForSize" title="Get the PWG media size for the given dimensions.">pwgMediaForSize</a></li>
</ul></li>
<li><a href="#TYPES">Data Types</a><ul class="code">
	<li><a href="#gss_auth_identity_desc" title="Local functions...">gss_auth_identity_desc</a></li>
</ul></li>
<li><a href="#STRUCTURES">Structures</a><ul class="code">
	<li><a href="#gss_auth_identity" title="Local functions...">gss_auth_identity</a></li>
	<li><a href="#pollfd" title="User data (unused)">pollfd</a></li>
</ul></li>
<li><a href="#VARIABLES">Variables</a><ul class="code">
	<li><a href="#CF_RETURNS_RETAINED" title="Get the Apple language identifier associated with a
locale ID.">CF_RETURNS_RETAINED</a></li>
</ul></li>
</ul>
<h2 class="title"><a name="OVERVIEW">Overview</a></h2>

<p>The IPP Sample project provides APIs for IPP client and server applications in the "cups" library. Most library functions are accessed by including the <var>&lt;cups/cups.h&gt;</var> header, while the raster functions are found in the <var>&lt;cups/raster.h&gt;</var> header.</p>

<h2 class="title"><a name="COMPILING">Compiling Programs</a></h2>

<p>The library can be used from any C, C++, or Objective C program. The method of compiling against the library varies depending on the operating system and installation of the IPP Sample project. <!-- The following sections show how to compile a simple program (shown below) in two common environments. --></p>

<p>The following simple program lists the available printers on the network:</p>

<pre class="example">
#include &lt;stdio.h&gt;
#include &lt;cups/cups.h&gt;

int main(void)
{
  int i;
  cups_dest_t *dests, *dest;
  int num_dests = cupsGetDests(&amp;dests);

  for (i = num_dests, dest = dests; i &gt; 0; i --, dest ++)
  {
    if (dest->instance)
      printf("%s/%s\n", dest->name, dest->instance);
    else
      puts(dest->name);
  }

  return (0);
}
</pre>

<!--
<h3><a name="XCODE">Compiling with Xcode</a></h3>

<p>In Xcode, choose <var>New Project...</var> from the <var>File</var> menu,
then select the <var>Standard Tool</var> project type under <var>Command Line
Utility</var>. Click <var>Next</var> and choose a project directory. Click
<var>Next</var> to create the project.</p>

<p>In the project window, double-click on the <var>Targets</var> group and
control-click on the simple target to show the context menu. Choose
<var>Existing Framework...</var> from the <var>Add</var> submenu. When the file
chooser sheet appears, press the <kbd>/</kbd> key and enter "/usr/lib". Scroll
down the file list and select the <var>libcups.a</var> file. Click the
<var>Add</var> button in the file chooser and attributes sheets.</p>

<p>In the project window, double-click on the <var>main.c</var> source file.
Replace the template source code with the listing above and save it. Click the
<var>Build and Go</var> button to build the sample program and run it.</p>

<h3><a name="COMMANDLINE">Compiling with GCC</a></h3>

<p>From the command-line, create a file called <var>sample.c</var> using your
favorite editor and then run the following command to compile it with GCC and
run it:</p>

<pre class="command">
gcc -o simple `cups-config --cflags` simple.c `cups-config --libs`
./simple
</pre>

<p>The <code>cups-config</code> command provides the compiler flags
("cups-config --cflags") and libraries ("cups-config --libs") needed for the
local system.</p>
-->

<h2 class='title'><a name='ARRAY'>Array API</a></h2>

<p>The CUPS array API provides a high-performance generic array container.
The contents of the array container can be sorted and the container itself is
designed for optimal speed and memory usage under a wide variety of conditions.
Sorted arrays use a binary search algorithm from the last found or inserted
element to quickly find matching elements in the array. Arrays created with the
optional hash function can often find elements with a single lookup. The
<a href='#cups_array_t'><code>cups_array_t</code></a> type is used when
referring to a CUPS array.</p>

<h3><a name='MANAGING_ARRAYS'>Managing Arrays</a></h3>

<p>Arrays are created using either the
<a href='#cupsArrayNew'><code>cupsArrayNew</code></a>,
<a href='#cupsArrayNew2'><code>cupsArrayNew2</code></a>, or
<a href='#cupsArrayNew2'><code>cupsArrayNew3</code></a> functions. The
first function creates a new array with the specified callback function
and user data pointer:</p>

<pre class='example'>
#include &lt;cups/array.h&gt;

static int compare_func(void *first, void *second, void *user_data);

void *user_data;
<a href='#cups_array_t'>cups_array_t</a> *array = <a href='#cupsArrayNew'>cupsArrayNew</a>(compare_func, user_data);
</pre>

<p>The comparison function (type
<a href="#cups_arrayfunc_t"><code>cups_arrayfunc_t</code></a>) is called
whenever an element is added to the array and can be <code>NULL</code> to
create an unsorted array. The function returns -1 if the first element should
come before the second, 0 if the first and second elements should have the same
ordering, and 1 if the first element should come after the second.</p>

<p>The "user_data" pointer is passed to your comparison function. Pass
<code>NULL</code> if you do not need to associate the elements in your array
with additional information.</p>

<p>The <a href='#cupsArrayNew2'><code>cupsArrayNew2</code></a> function adds
two more arguments to support hashed lookups, which can potentially provide
instantaneous ("O(1)") lookups in your array:</p>

<pre class='example'>
#include &lt;cups/array.h&gt;

#define HASH_SIZE 512 /* Size of hash table */

static int compare_func(void *first, void *second, void *user_data);
static int hash_func(void *element, void *user_data);

void *user_data;
<a href='#cups_array_t'>cups_array_t</a> *hash_array = <a href='#cupsArrayNew2'>cupsArrayNew2</a>(compare_func, user_data, hash_func, HASH_SIZE);
</pre>

<p>The hash function (type
<a href="#cups_ahash_func_t"><code>cups_ahash_func_t</code></a>) should return a
number from 0 to (hash_size-1) that (hopefully) uniquely identifies the
element and is called whenever you look up an element in the array with
<a href='#cupsArrayFind'><code>cupsArrayFind</code></a>. The hash size is
only limited by available memory, but generally should not be larger than
16384 to realize any performance improvement.</p>

<p>The <a href='#cupsArrayNew3'><code>cupsArrayNew3</code></a> function adds
copy and free callbacks to support basic memory management of elements:</p>

<pre class='example'>
#include &lt;cups/array.h&gt;

#define HASH_SIZE 512 /* Size of hash table */

static int compare_func(void *first, void *second, void *user_data);
static void *copy_func(void *element, void *user_data);
static void free_func(void *element, void *user_data);
static int hash_func(void *element, void *user_data);

void *user_data;
<a href='#cups_array_t'>cups_array_t</a> *array = <a href='#cupsArrayNew3'>cupsArrayNew3</a>(compare_func, user_data, NULL, 0, copy_func, free_func);

<a href='#cups_array_t'>cups_array_t</a> *hash_array = <a href='#cupsArrayNew3'>cupsArrayNew3</a>(compare_func, user_data, hash_func, HASH_SIZE, copy_func, free_func);
</pre>

<p>Once you have created the array, you add elements using the
<a href='#cupsArrayAdd'><code>cupsArrayAdd</code></a>
<a href='#cupsArrayInsert'><code>cupsArrayInsert</code></a> functions.
The first function adds an element to the array, adding the new element
after any elements that have the same order, while the second inserts the
element before others with the same order. For unsorted arrays,
<a href='#cupsArrayAdd'><code>cupsArrayAdd</code></a> appends the element to
the end of the array while
<a href='#cupsArrayInsert'><code>cupsArrayInsert</code></a> inserts the
element at the beginning of the array. For example, the following code
creates a sorted array of character strings:</p>

<pre class='example'>
#include &lt;cups/array.h&gt;

/* Use strcmp() to compare strings - it will ignore the user_data pointer */
<a href='#cups_array_t'>cups_array_t</a> *array = <a href='#cupsArrayNew'>cupsArrayNew</a>((<a href='#cups_array_func_t'>cups_array_func_t</a>)strcmp, NULL);

/* Add four strings to the array */
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "One Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Two Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Red Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Blue Fish");
</pre>

<p>Elements are removed using the
<a href='#cupsArrayRemove'><code>cupsArrayRemove</code></a> function, for
example:</p>

<pre class='example'>
#include &lt;cups/array.h&gt;

/* Use strcmp() to compare strings - it will ignore the user_data pointer */
<a href='#cups_array_t'>cups_array_t</a> *array = <a href='#cupsArrayNew'>cupsArrayNew</a>((<a href='#cups_array_func_t'>cups_array_func_t</a>)strcmp, NULL);

/* Add four strings to the array */
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "One Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Two Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Red Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Blue Fish");

/* Remove "Red Fish" */
<a href='#cupsArrayRemove'>cupsArrayRemove</a>(array, "Red Fish");
</pre>

<p>Finally, you free the memory used by the array using the
<a href='#cupsArrayDelete'><code>cupsArrayDelete</code></a> function. All
of the memory for the array and hash table (if any) is freed, however <em>CUPS
does not free the elements unless you provide copy and free functions</em>.</p>

<h3><a name='FINDING_AND_ENUMERATING'>Finding and Enumerating Elements</a></h3>

<p>CUPS provides several functions to find and enumerate elements in an
array. Each one sets or updates a "current index" into the array, such that
future lookups will start where the last one left off:</p>

<dl>
	<dt><a href='#cupsArrayFind'><code>cupsArrayFind</code></a></dt>
	<dd>Returns the first matching element.</dd>
	<dt><a href='#cupsArrayFirst'><code>cupsArrayFirst</code></a></dt>
	<dd>Returns the first element in the array.</dd>
	<dt><a href='#cupsArrayIndex'><code>cupsArrayIndex</code></a></dt>
	<dd>Returns the Nth element in the array, starting at 0.</dd>
	<dt><a href='#cupsArrayLast'><code>cupsArrayLast</code></a></dt>
	<dd>Returns the last element in the array.</dd>
	<dt><a href='#cupsArrayNext'><code>cupsArrayNext</code></a></dt>
	<dd>Returns the next element in the array.</dd>
	<dt><a href='#cupsArrayPrev'><code>cupsArrayPrev</code></a></dt>
	<dd>Returns the previous element in the array.</dd>
</dl>

<p>Each of these functions returns <code>NULL</code> when there is no
corresponding element.  For example, a simple <code>for</code> loop using the
<a href='#cupsArrayFirst'><code>cupsArrayFirst</code></a> and
<a href='#cupsArrayNext'><code>cupsArrayNext</code></a> functions will
enumerate all of the strings in our previous example:</p>

<pre class='example'>
#include &lt;cups/array.h&gt;

/* Use strcmp() to compare strings - it will ignore the user_data pointer */
<a href='#cups_array_t'>cups_array_t</a> *array = <a href='#cupsArrayNew'>cupsArrayNew</a>((<a href='#cups_array_func_t'>cups_array_func_t</a>)strcmp, NULL);

/* Add four strings to the array */
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "One Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Two Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Red Fish");
<a href='#cupsArrayAdd'>cupsArrayAdd</a>(array, "Blue Fish");

/* Show all of the strings in the array */
char *s;
for (s = (char *)<a href='#cupsArrayFirst'>cupsArrayFirst</a>(array); s != NULL; s = (char *)<a href='#cupsArrayNext'>cupsArrayNext</a>(array))
  puts(s);
</pre>

<h2 class='title'><a name='CUPS'>CUPS API</a></h2>

<p>The CUPS API provides the convenience functions needed to support
applications, filters, printer drivers, and backends that need to interface
with the CUPS scheduler.</p>

<h3><a name='CLIENTS_AND_SERVERS'>Clients and Servers</a></h3>

<p>CUPS is based on the Internet Printing Protocol ("IPP"), which allows
clients (applications) to communicate with a server (the scheduler) to get a
list of printers, send print jobs, and so forth. You identify which server
you want to communicate with using a pointer to the opaque structure
<code>http_t</code>. All of the examples in this document use the
<code>CUPS_HTTP_DEFAULT</code> constant, referring to the default connection
to the scheduler. The <a href='api-httpipp.html' target='_top'>HTTP and IPP
APIs</a> document provides more information on server connections.</p>

<h3><a name='PRINTERS_AND_CLASSES'>Printers and Classes</a></h3>

<p>Printers and classes (collections of printers) are accessed through
the <a href="#cups_dest_t"><code>cups_dest_t</code></a> structure which
includes the name (<code>name</code>), instance (<code>instance</code> -
a way of selecting certain saved options/settings), and the options and
attributes associated with that destination (<code>num_options</code> and
<code>options</code>). Destinations are created using the
<a href="#cupsGetDests"><code>cupsGetDests</code></a> function and freed
using the <a href='#cupsFreeDests'><code>cupsFreeDests</code></a> function.
The <a href='#cupsGetDest'><code>cupsGetDest</code></a> function finds a
specific destination for printing:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dests;
int num_dests = <a href='#cupsGetDests'>cupsGetDests</a>(&amp;dests);
<a href='#cups_dest_t'>cups_dest_t</a> *dest = <a href='#cupsGetDest'>cupsGetDest</a>("name", NULL, num_dests, dests);

/* do something with dest */

<a href='#cupsFreeDests'>cupsFreeDests</a>(num_dests, dests);
</pre>

<p>Passing <code>NULL</code> to
<a href='#cupsGetDest'><code>cupsGetDest</code></a> for the destination name
will return the default destination. Similarly, passing a <code>NULL</code>
instance will return the default instance for that destination.</p>

<div class='table'><table summary='Table 1: Printer Attributes' width='80%'>
<caption>Table 1: <a name='TABLE1'>Printer Attributes</a></caption>
<thead>
<tr>
	<th>Attribute Name</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>"auth-info-required"</td>
	<td>The type of authentication required for printing to this
	destination: "none", "username,password", "domain,username,password",
	or "negotiate" (Kerberos)</td>
</tr>
<tr>
	<td>"printer-info"</td>
	<td>The human-readable description of the destination such as "My
	Laser Printer".</td>
</tr>
<tr>
	<td>"printer-is-accepting-jobs"</td>
	<td>"true" if the destination is accepting new jobs, "false" if
	not.</td>
</tr>
<tr>
	<td>"printer-is-shared"</td>
	<td>"true" if the destination is being shared with other computers,
	"false" if not.</td>
</tr>
<tr>
	<td>"printer-location"</td>
	<td>The human-readable location of the destination such as "Lab 4".</td>
</tr>
<tr>
	<td>"printer-make-and-model"</td>
	<td>The human-readable make and model of the destination such as "HP
	LaserJet 4000 Series".</td>
</tr>
<tr>
	<td>"printer-state"</td>
	<td>"3" if the destination is idle, "4" if the destination is printing
	a job, and "5" if the destination is stopped.</td>
</tr>
<tr>
	<td>"printer-state-change-time"</td>
	<td>The UNIX time when the destination entered the current state.</td>
</tr>
<tr>
	<td>"printer-state-reasons"</td>
	<td>Additional comma-delimited state keywords for the destination
	such as "media-tray-empty-error" and "toner-low-warning".</td>
</tr>
<tr>
	<td>"printer-type"</td>
	<td>The <a href='#cups_printer_t'><code>cups_printer_t</code></a>
	value associated with the destination.</td>
</tr>
</tbody>
</table></div>

<h3><a name='OPTIONS'>Options</a></h3>

<p>Options are stored in arrays of
<a href='#cups_option_t'><code>cups_option_t</code></a> structures. Each
option has a name (<code>name</code>) and value (<code>value</code>)
associated with it. The <a href='#cups_dest_t'><code>cups_dest_t</code></a>
<code>num_options</code> and <code>options</code> members contain the
default options for a particular destination, along with several informational
attributes about the destination as shown in <a href='#TABLE1'>Table 1</a>.
The <a href='#cupsGetOption'><code>cupsGetOption</code></a> function gets
the value for the named option. For example, the following code lists the
available destinations and their human-readable descriptions:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dests;
int num_dests = <a href='#cupsGetDests'>cupsGetDests</a>(&amp;dests);
<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int i;
const char *value;

for (i = num_dests, dest = dests; i > 0; i --, dest ++)
  if (dest->instance == NULL)
  {
    value = <a href='#cupsGetOption'>cupsGetOption</a>("printer-info", dest->num_options, dest->options);
    printf("%s (%s)\n", dest->name, value ? value : "no description");
  }

<a href='#cupsFreeDests'>cupsFreeDests</a>(num_dests, dests);
</pre>

<p>You can create your own option arrays using the
<a href='#cupsAddOption'><code>cupsAddOption</code></a> function, which
adds a single named option to an array:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

int num_options = 0;
<a href='#cups_option_t'>cups_option_t</a> *options = NULL;

/* The returned num_options value is updated as needed */
num_options = <a href='#cupsAddOption'>cupsAddOption</a>("first", "value", num_options, &amp;options);

/* This adds a second option value */
num_options = <a href='#cupsAddOption'>cupsAddOption</a>("second", "value", num_options, &amp;options);

/* This replaces the first option we added */
num_options = <a href='#cupsAddOption'>cupsAddOption</a>("first", "new value", num_options, &amp;options);
</pre>

<p>Use a <code>for</code> loop to copy the options from a destination:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

int i;
int num_options = 0;
<a href='#cups_option_t'>cups_option_t</a> *options = NULL;
<a href='#cups_dest_t'>cups_dest_t</a> *dest;

for (i = 0; i &lt; dest->num_options; i ++)
  num_options = <a href='#cupsAddOption'>cupsAddOption</a>(dest->options[i].name, dest->options[i].value,
                              num_options, &amp;options);
</pre>

<p>Use the <a href='#cupsFreeOptions'><code>cupsFreeOptions</code></a>
function to free the options array when you are done using it:</p>

<pre class='example'>
<a href='#cupsFreeOptions'>cupsFreeOptions</a>(num_options, options);
</pre>

<h3><a name='PRINT_JOBS'>Print Jobs</a></h3>

<p>Print jobs are identified by a locally-unique job ID number from 1 to
2<sup>31</sup>-1 and have options and one or more files for printing to a
single destination. The <a href='#cupsPrintFile'><code>cupsPrintFile</code></a>
function creates a new job with one file. The following code prints the CUPS
test page file:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int num_options;
<a href='#cups_option_t'>cups_option_t</a> *options;
int job_id;

/* Print a single file */
job_id = <a href='#cupsPrintFile'>cupsPrintFile</a>(dest->name, "/usr/share/cups/data/testprint.ps",
                        "Test Print", num_options, options);
</pre>

<p>The <a href='#cupsPrintFiles'><code>cupsPrintFiles</code></a> function
creates a job with multiple files. The files are provided in a
<code>char *</code> array:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int num_options;
<a href='#cups_option_t'>cups_option_t</a> *options;
int job_id;
char *files[3] = { "file1.pdf", "file2.pdf", "file3.pdf" };

/* Print three files */
job_id = <a href='#cupsPrintFiles'>cupsPrintFiles</a>(dest->name, 3, files, "Test Print", num_options, options);
</pre>

<p>Finally, the <a href='#cupsCreateJob'><code>cupsCreateJob</code></a>
function creates a new job with no files in it. Files are added using the
<a href='#cupsStartDocument'><code>cupsStartDocument</code></a>,
<a href='api-httpipp.html#cupsWriteRequestData'><code>cupsWriteRequestData</code></a>,
and <a href='#cupsFinishDocument'><code>cupsFinishDocument</code></a> functions.
The following example creates a job with 10 text files for printing:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int num_options;
<a href='#cups_option_t'>cups_option_t</a> *options;
int job_id;
int i;
char buffer[1024];

/* Create the job */
job_id = <a href='#cupsCreateJob'>cupsCreateJob</a>(CUPS_HTTP_DEFAULT, dest->name, "10 Text Files",
                       num_options, options);

/* If the job is created, add 10 files */
if (job_id > 0)
{
  for (i = 1; i &lt;= 10; i ++)
  {
    snprintf(buffer, sizeof(buffer), "file%d.txt", i);

    <a href='#cupsStartDocument'>cupsStartDocument</a>(CUPS_HTTP_DEFAULT, dest->name, job_id, buffer,
                      CUPS_FORMAT_TEXT, i == 10);

    snprintf(buffer, sizeof(buffer),
             "File %d\n"
             "\n"
             "One fish,\n"
             "Two fish,\n
             "Red fish,\n
             "Blue fish\n", i);

    /* cupsWriteRequestData can be called as many times as needed */
    <a href='#cupsWriteRequestData'>cupsWriteRequestData</a>(CUPS_HTTP_DEFAULT, buffer, strlen(buffer));

    <a href='#cupsFinishDocument'>cupsFinishDocument</a>(CUPS_HTTP_DEFAULT, dest->name);
  }
}
</pre>

<p>Once you have created a job, you can monitor its status using the
<a href='#cupsGetJobs'><code>cupsGetJobs</code></a> function, which returns
an array of <a href='#cups_job_t'><code>cups_job_t</code></a> structures.
Each contains the job ID (<code>id</code>), destination name
(<code>dest</code>), title (<code>title</code>), and other information
associated with the job. The job array is freed using the
<a href='#cupsFreeJobs'><code>cupsFreeJobs</code></a> function. The following
example monitors a specific job ID, showing the current job state once every
5 seconds until the job is completed:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int job_id;
int num_jobs;
<a href='#cups_job_t'>cups_job_t</a> *jobs;
int i;
ipp_jstate_t job_state = IPP_JOB_PENDING;

while (job_state &lt; IPP_JOB_STOPPED)
{
  /* Get my jobs (1) with any state (-1) */
  num_jobs = <a href='#cupsGetJobs'>cupsGetJobs</a>(&amp;jobs, dest->name, 1, -1);

  /* Loop to find my job */
  job_state = IPP_JOB_COMPLETED;

  for (i = 0; i &lt; num_jobs; i ++)
    if (jobs[i].id == job_id)
    {
      job_state = jobs[i].state;
      break;
    }

  /* Free the job array */
  <a href='#cupsFreeJobs'>cupsFreeJobs</a>(num_jobs, jobs);

  /* Show the current state */
  switch (job_state)
  {
    case IPP_JOB_PENDING :
        printf("Job %d is pending.\n", job_id);
        break;
    case IPP_JOB_HELD :
        printf("Job %d is held.\n", job_id);
        break;
    case IPP_JOB_PROCESSING :
        printf("Job %d is processing.\n", job_id);
        break;
    case IPP_JOB_STOPPED :
        printf("Job %d is stopped.\n", job_id);
        break;
    case IPP_JOB_CANCELED :
        printf("Job %d is canceled.\n", job_id);
        break;
    case IPP_JOB_ABORTED :
        printf("Job %d is aborted.\n", job_id);
        break;
    case IPP_JOB_COMPLETED :
        printf("Job %d is completed.\n", job_id);
        break;
  }

  /* Sleep if the job is not finished */
  if (job_state &lt; IPP_JOB_STOPPED)
    sleep(5);
}
</pre>

<p>To cancel a job, use the
<a href='#cupsCancelJob'><code>cupsCancelJob</code></a> function with the
job ID:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

<a href='#cups_dest_t'>cups_dest_t</a> *dest;
int job_id;

<a href='#cupsCancelJob'>cupsCancelJob</a>(dest->name, job_id);
</pre>

<h3><a name='ERROR_HANDLING'>Error Handling</a></h3>

<p>If any of the CUPS API printing functions returns an error, the reason for
that error can be found by calling the
<a href='#cupsLastError'><code>cupsLastError</code></a> and
<a href='#cupsLastErrorString'><code>cupsLastErrorString</code></a> functions.
<a href='#cupsLastError'><code>cupsLastError</code></a> returns the last IPP
error code
(<a href='api-httpipp.html#ipp_status_t'><code>ipp_status_t</code></a>)
that was encountered, while
<a href='#cupsLastErrorString'><code>cupsLastErrorString</code></a> returns
a (localized) human-readable string that can be shown to the user. For example,
if any of the job creation functions returns a job ID of 0, you can use
<a href='#cupsLastErrorString'><code>cupsLastErrorString</code></a> to show
the reason why the job could not be created:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

int job_id;

if (job_id == 0)
  puts(cupsLastErrorString());
</pre>

<h3><a name='PASSWORDS_AND_AUTHENTICATION'>Passwords and Authentication</a></h3>

<p>CUPS supports authentication of any request, including submission of print
jobs. The default mechanism for getting the username and password is to use the
login user and a password from the console.</p>

<p>To support other types of applications, in particular Graphical User
Interfaces ("GUIs"), the CUPS API provides functions to set the default
username and to register a callback function that returns a password string.</p>

<p>The <a href="#cupsSetPasswordCB"><code>cupsSetPasswordCB</code></a>
function is used to set a password callback in your program. Only one
function can be used at any time.</p>

<p>The <a href="#cupsSetUser"><code>cupsSetUser</code></a> function sets the
current username for authentication. This function can be called by your
password callback function to change the current username as needed.</p>

<p>The following example shows a simple password callback that gets a
username and password from the user:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;

const char *
my_password_cb(const char *prompt)
{
  char	user[65];


  puts(prompt);

  /* Get a username from the user */
  printf("Username: ");
  if (fgets(user, sizeof(user), stdin) == NULL)
    return (NULL);

  /* Strip the newline from the string and set the user */
  user[strlen(user) - 1] = '\0';

  <a href='#cupsSetUser'>cupsSetUser</a>(user);

  /* Use getpass() to ask for the password... */
  return (getpass("Password: "));
}

<a href='#cupsSetPasswordCB'>cupsSetPasswordCB</a>(my_password_cb);
</pre>

<p>Similarly, a GUI could display the prompt string in a window with input
fields for the username and password. The username should default to the
string returned by the <a href="#cupsUser"><code>cupsUser</code></a>
function.</p>

<h2 class='title'><a name="FILEDIR">File and Directory APIs</a></h2>

<p>The CUPS file and directory APIs provide portable interfaces
for manipulating files and listing files and directories. Unlike
stdio <code>FILE</code> streams, the <code>cupsFile</code> functions
allow you to open more than 256 files at any given time. They
also manage the platform-specific details of locking, large file
support, line endings (CR, LF, or CR LF), and reading and writing
files using Flate ("gzip") compression. Finally, you can also
connect, read from, and write to network connections using the
<code>cupsFile</code> functions.</p>

<p>The <code>cupsDir</code> functions manage the platform-specific
details of directory access/listing and provide a convenient way
to get both a list of files and the information (permissions,
size, timestamp, etc.) for each of those files.</p>

<h2 class='title'><a name='HTTPIPP'>HTTP and IPP APIs</a></h2>

<p>The CUPS HTTP and IPP APIs provide low-level access to the HTTP and IPP
protocols and CUPS scheduler. They are typically used by monitoring and
administration programs to perform specific functions not supported by the
high-level CUPS API functions.</p>

<p>The HTTP APIs use an opaque structure called
<a href='#http_t'><code>http_t</code></a> to manage connections to
a particular HTTP or IPP server. The
<a href='#httpConnectEncrypt'><code>httpConnectEncrypt</code></a> function is
used to create an instance of this structure for a particular server.
The constant <code>CUPS_HTTP_DEFAULT</code> can be used with all of the
<code>cups</code> functions to refer to the default CUPS server - the functions
create a per-thread <a href='#http_t'><code>http_t</code></a> as needed.</p>

<p>The IPP APIs use two opaque structures for requests (messages sent to the CUPS scheduler) and responses (messages sent back to your application from the scheduler). The <a href='#ipp_t'><code>ipp_t</code></a> type holds a complete request or response and is allocated using the <a href='#ippNew'><code>ippNew</code></a> or <a href='#ippNewRequest'><code>ippNewRequest</code></a> functions and freed using the <a href='#ippDelete'><code>ippDelete</code></a> function.</p>

<p>The second opaque structure is called <a href='#ipp_attribute_t'><code>ipp_attribute_t</code></a> and holds a single IPP attribute which consists of a group tag (<a href='#ippGetGroupTag'><code>ippGetGroupTag</code></a>), a value type tag (<a href='#ippGetValueTag'><code>ippGetValueTag</code></a>), the attribute name (<a href='#ippGetName'><code>ippGetName</code></a>), and 1 or more values (<a href='#ippGetCount'><code>ippGetCount</code></a>, <a href='#ippGetBoolean'><code>ippGetBoolean</code></a>, <a href='#ippGetCollection'><code>ippGetCollection</code></a>, <a href='#ippGetDate'><code>ippGetDate</code></a>, <a href='#ippGetInteger'><code>ippGetInteger</code></a>, <a href='#ippGetRange'><code>ippGetRange</code></a>, <a href='#ippGetResolution'><code>ippGetResolution</code></a>, and <a href='#ippGetString'><code>ippGetString</code></a>). Attributes are added to an <a href='#ipp_t'><code>ipp_t</code></a> pointer using one of the <code>ippAdd</code> functions. For example, use <a href='#ippAddString'><code>ippAddString</code></a> to add the "printer-uri" and "requesting-user-name" string attributes to a request:</p>

<pre class='example'>
<a href='#ipp_t'>ipp_t</a> *request = <a href='#ippNewRequest'>ippNewRequest</a>(IPP_GET_JOBS);

<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_URI, "printer-uri",
             NULL, "ipp://localhost/printers/");
<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_NAME, "requesting-user-name",
             NULL, cupsUser());
</pre>

<p>Once you have created an IPP request, use the <code>cups</code> functions to send the request to and read the response from the server. For example, the <a href='#cupsDoRequest'><code>cupsDoRequest</code></a> function can be used for simple query operations that do not involve files:</p>

<pre class='example'>
#include &lt;cups/cups.h&gt;


<a href='#ipp_t'>ipp_t</a> *<a name='get_jobs'>get_jobs</a>(void)
{
  <a href='#ipp_t'>ipp_t</a> *request = <a href='#ippNewRequest'>ippNewRequest</a>(IPP_GET_JOBS);

  <a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_URI, "printer-uri",
               NULL, "ipp://localhost/printers/");
  <a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_NAME, "requesting-user-name",
               NULL, cupsUser());

  return (<a href='#cupsDoRequest'>cupsDoRequest</a>(CUPS_HTTP_DEFAULT, request, "/"));
}
</pre>

<p>The <a href='#cupsDoRequest'><code>cupsDoRequest</code></a> function frees the request and returns an IPP response or <code>NULL</code> pointer if the request could not be sent to the server. Once you have a response from the server, you can either use the <a href='#ippFindAttribute'><code>ippFindAttribute</code></a> and <a href='#ippFindNextAttribute'><code>ippFindNextAttribute</code></a> functions to find specific attributes, for example:</p>

<pre class='example'>
<a href='#ipp_t'>ipp_t</a> *response;
<a href='#ipp_attribute_t'>ipp_attribute_t</a> *attr;

attr = <a href='#ippFindAttribute'>ippFindAttribute</a>(response, "printer-state", IPP_TAG_ENUM);
</pre>

<p>You can also walk the list of attributes with a simple <code>for</code> loop like this:</p>

<pre class='example'>
<a href='#ipp_t'>ipp_t</a> *response;
<a href='#ipp_attribute_t'>ipp_attribute_t</a> *attr;

for (attr = <a href='#ippFirstAttribute'>ippFirstAttribute</a>(response); attr != NULL; attr = <a href='#ippNextAttribute'>ippNextAttribute</a>(response))
  if (ippGetName(attr) == NULL)
    puts("--SEPARATOR--");
  else
    puts(ippGetName(attr));
</pre>

<p>The <code>for</code> loop approach is normally used when collecting attributes for multiple objects (jobs, printers, etc.) in a response. Attributes with <code>NULL</code> names indicate a separator between the attributes of each object. For example, the following code will list the jobs returned from our previous <a href='#get_jobs'><code>get_jobs</code></a> example code:</p>

<pre class='example'>
<a href='#ipp_t'>ipp_t</a> *response = <a href='#get_jobs'>get_jobs</a>();

if (response != NULL)
{
  <a href='#ipp_attribute_t'>ipp_attribute_t</a> *attr;
  const char *attrname;
  int job_id = 0;
  const char *job_name = NULL;
  const char *job_originating_user_name = NULL;

  puts("Job ID  Owner             Title");
  puts("------  ----------------  ---------------------------------");

  for (attr = <a href='#ippFirstAttribute'>ippFirstAttribute</a>(response); attr != NULL; attr = <a href='#ippNextAttribute'>ippNextAttribute</a>(response))
  {
   /* Attributes without names are separators between jobs */
    attrname = ippGetName(attr);
    if (attrname == NULL)
    {
      if (job_id > 0)
      {
        if (job_name == NULL)
          job_name = "(withheld)";

        if (job_originating_user_name == NULL)
          job_originating_user_name = "(withheld)";

        printf("%5d  %-16s  %s\n", job_id, job_originating_user_name, job_name);
      }

      job_id = 0;
      job_name = NULL;
      job_originating_user_name = NULL;
      continue;
    }
    else if (!strcmp(attrname, "job-id") &amp;&amp; ippGetValueTag(attr) == IPP_TAG_INTEGER)
      job_id = ippGetInteger(attr, 0);
    else if (!strcmp(attrname, "job-name") &amp;&amp; ippGetValueTag(attr) == IPP_TAG_NAME)
      job_name = ippGetString(attr, 0, NULL);
    else if (!strcmp(attrname, "job-originating-user-name") &amp;&amp;
             ippGetValueTag(attr) == IPP_TAG_NAME)
      job_originating_user_name = ippGetString(attr, 0, NULL);
  }

  if (job_id > 0)
  {
    if (job_name == NULL)
      job_name = "(withheld)";

    if (job_originating_user_name == NULL)
      job_originating_user_name = "(withheld)";

    printf("%5d  %-16s  %s\n", job_id, job_originating_user_name, job_name);
  }
}
</pre>

<h3><a name='CREATING_URI_STRINGS'>Creating URI Strings</a></h3>

<p>To ensure proper encoding, the
<a href='#httpAssembleURIf'><code>httpAssembleURIf</code></a> function must be
used to format a "printer-uri" string for all printer-based requests:</p>

<pre class='example'>
const char *name = "Foo";
char uri[1024];
<a href='#ipp_t'>ipp_t</a> *request;

<a href='#httpAssembleURIf'>httpAssembleURIf</a>(HTTP_URI_CODING_ALL, uri, sizeof(uri), "ipp", NULL, cupsServer(),
                 ippPort(), "/printers/%s", name);
<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_URI, "printer-uri", NULL, uri);
</pre>

<h3><a name='SENDING_REQUESTS_WITH_FILES'>Sending Requests with Files</a></h3>

<p>The <a href='#cupsDoFileRequest'><code>cupsDoFileRequest</code></a> and
<a href='#cupsDoIORequest'><code>cupsDoIORequest</code></a> functions are
used for requests involving files. The
<a href='#cupsDoFileRequest'><code>cupsDoFileRequest</code></a> function
attaches the named file to a request and is typically used when sending a print
file or changing a printer's PPD file:</p>

<pre class='example'>
const char *filename = "/usr/share/cups/data/testprint.ps";
const char *name = "Foo";
char uri[1024];
char resource[1024];
<a href='#ipp_t'>ipp_t</a> *request = <a href='#ippNewRequest'>ippNewRequest</a>(IPP_PRINT_JOB);
<a href='#ipp_t'>ipp_t</a> *response;

/* Use httpAssembleURIf for the printer-uri string */
<a href='#httpAssembleURIf'>httpAssembleURIf</a>(HTTP_URI_CODING_ALL, uri, sizeof(uri), "ipp", NULL, cupsServer(),
                 ippPort(), "/printers/%s", name);
<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_URI, "printer-uri", NULL, uri);
<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_NAME, "requesting-user-name",
             NULL, cupsUser());
<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_NAME, "job-name",
             NULL, "testprint.ps");

/* Use snprintf for the resource path */
snprintf(resource, sizeof(resource), "/printers/%s", name);

response = <a href='#cupsDoFileRequest'>cupsDoFileRequest</a>(CUPS_HTTP_DEFAULT, request, resource, filename);
</pre>

<p>The <a href='#cupsDoIORequest'><code>cupsDoIORequest</code></a> function
optionally attaches a file to the request and optionally saves a file in the
response from the server. It is used when using a pipe for the request
attachment or when using a request that returns a file, currently only
<code>CUPS_GET_DOCUMENT</code> and <code>CUPS_GET_PPD</code>. For example,
the following code will download the PPD file for the sample HP LaserJet
printer driver:</p>

<pre class='example'>
char tempfile[1024];
int tempfd;
<a href='#ipp_t'>ipp_t</a> *request = <a href='#ippNewRequest'>ippNewRequest</a>(CUPS_GET_PPD);
<a href='#ipp_t'>ipp_t</a> *response;

<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_NAME, "ppd-name",
             NULL, "laserjet.ppd");

tempfd = cupsTempFd(tempfile, sizeof(tempfile));

response = <a href='#cupsDoIORequest'>cupsDoIORequest</a>(CUPS_HTTP_DEFAULT, request, "/", -1, tempfd);
</pre>

<p>The example passes <code>-1</code> for the input file descriptor to specify
that no file is to be attached to the request. The PPD file attached to the
response is written to the temporary file descriptor we created using the
<code>cupsTempFd</code> function.</p>

<h3><a name='ASYNCHRONOUS_REQUEST_PROCESSING'>Asynchronous Request Processing</a></h3>

<p>The <a href='#cupsSendRequest'><code>cupsSendRequest</code></a> and
<a href='#cupsGetResponse'><code>cupsGetResponse</code></a> support
asynchronous communications with the server. Unlike the other request
functions, the IPP request is not automatically freed, so remember to
free your request with the <a href='#ippDelete'><code>ippDelete</code></a>
function.</p>

<p>File data is attached to the request using the
<a href='#cupsWriteRequestData'><code>cupsWriteRequestData</code></a>
function, while file data returned from the server is read using the
<a href='#cupsReadResponseData'><code>cupsReadResponseData</code></a>
function. We can rewrite the previous <code>CUPS_GET_PPD</code> example
to use the asynchronous functions quite easily:</p>

<pre class='example'>
char tempfile[1024];
int tempfd;
<a href='#ipp_t'>ipp_t</a> *request = <a href='#ippNewRequest'>ippNewRequest</a>(CUPS_GET_PPD);
<a href='#ipp_t'>ipp_t</a> *response;

<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_NAME, "ppd-name",
             NULL, "laserjet.ppd");

tempfd = cupsTempFd(tempfile, sizeof(tempfile));

if (<a href='#cupsSendRequest'>cupsSendRequest</a>(CUPS_HTTP_DEFAULT, request, "/") == HTTP_CONTINUE)
{
  response = <a href='#cupsGetResponse'>cupsGetResponse</a>(CUPS_HTTP_DEFAULT, "/");

  if (response != NULL)
  {
    ssize_t bytes;
    char buffer[8192];

    while ((bytes = <a href='#cupsReadResponseData'>cupsReadResponseData</a>(CUPS_HTTP_DEFAULT, buffer, sizeof(buffer))) > 0)
      write(tempfd, buffer, bytes);
  }
}

/* Free the request! */
<a href='#ippDelete'>ippDelete</a>(request);
</pre>

<p>The <a href='#cupsSendRequest'><code>cupsSendRequest</code></a> function
returns the initial HTTP request status, typically either
<code>HTTP_CONTINUE</code> or <code>HTTP_UNAUTHORIZED</code>. The latter status
is returned when the request requires authentication of some sort. The
<a href='#cupsDoAuthentication'><code>cupsDoAuthentication</code></a> function
must be called when your see <code>HTTP_UNAUTHORIZED</code> and the request
re-sent. We can add authentication support to our example code by using a
<code>do ... while</code> loop:</p>

<pre class='example'>
char tempfile[1024];
int tempfd;
<a href='#ipp_t'>ipp_t</a> *request = <a href='#ippNewRequest'>ippNewRequest</a>(CUPS_GET_PPD);
<a href='#ipp_t'>ipp_t</a> *response;
http_status_t status;

<a href='#ippAddString'>ippAddString</a>(request, IPP_TAG_OPERATION, IPP_TAG_NAME, "ppd-name",
             NULL, "laserjet.ppd");

tempfd = cupsTempFd(tempfile, sizeof(tempfile));

/* Loop for authentication */
do
{
  status = <a href='#cupsSendRequest'>cupsSendRequest</a>(CUPS_HTTP_DEFAULT, request, "/");

  if (status == HTTP_UNAUTHORIZED)
  {
    /* Try to authenticate, break out of the loop if that fails */
    if (<a href='#cupsDoAuthentication'>cupsDoAuthentication</a>(CUPS_HTTP_DEFAULT, "POST", "/"))
      break;
  }
}
while (status != HTTP_CONTINUE &amp;&amp; status != HTTP_UNAUTHORIZED);

if (status == HTTP_CONTINUE)
{
  response = <a href='#cupsGetResponse'>cupsGetResponse</a>(CUPS_HTTP_DEFAULT, "/");

  if (response != NULL)
  {
    ssize_t bytes;
    char buffer[8192];

    while ((bytes = <a href='#cupsReadResponseData'>cupsReadResponseData</a>(CUPS_HTTP_DEFAULT, buffer, sizeof(buffer))) > 0)
      write(tempfd, buffer, bytes);
  }
}

/* Free the request! */
<a href='#ippDelete'>ippDelete</a>(request);
</pre>


<h2 class='title'><a name="RASTER">Raster API</a></h2>

<p>The CUPS raster API provides a standard interface for reading and writing
CUPS raster streams which are used for printing to raster printers. Because the
raster format is updated from time to time, it is important to use this API to
avoid incompatibilities with newer versions of CUPS.</p>

<p>Two kinds of CUPS filters use the CUPS raster API - raster image processor
(RIP) filters such as <code>pstoraster</code> and <code>cgpdftoraster</code>
(macOS) that produce CUPS raster files and printer driver filters that
convert CUPS raster files into a format usable by the printer. Printer
driver filters are by far the most common.</p>

<p>CUPS raster files (<code>application/vnd.cups-raster</code>) consists of
a stream of raster page descriptions produced by one of the RIP filters such as
<var>pstoraster</var>, <var>imagetoraster</var>, or
<var>cgpdftoraster</var>. CUPS raster files are referred to using the
<a href='#cups_raster_t'><code>cups_raster_t</code></a> type and are
opened using the <a href='#cupsRasterOpen'><code>cupsRasterOpen</code></a>
function. For example, to read raster data from the standard input, open
file descriptor 0:</p>

<pre class="example">
#include &lt;cups/raster.h&gt;>

<a href="#cups_raster_t">cups_raster_t</a> *ras = <a href="#cupsRasterOpen">cupsRasterOpen</a>(0, CUPS_RASTER_READ);
</pre>

<p>Each page of data begins with a page dictionary structure called
<a href="#cups_page_header2_t"><code>cups_page_header2_t</code></a>. This
structure contains the colorspace, bits per color, media size, media type,
hardware resolution, and so forth used for the page.</p>

<p>You read the page header using the
<a href="#cupsRasterReadHeader2"><code>cupsRasterReadHeader2</code></a>
function:</p>

<pre class="example">
#include &lt;cups/raster.h&gt;>

<a href="#cups_raster_t">cups_raster_t</a> *ras = <a href="#cupsRasterOpen">cupsRasterOpen</a>(0, CUPS_RASTER_READ);
<a href="#cups_page_header2_t">cups_page_header2_t</a> header;

while (<a href="#cupsRasterReadHeader2">cupsRasterReadHeader2</a>(ras, &amp;header))
{
  /* setup this page */

  /* read raster data */

  /* finish this page */
}
</pre>

<p>After the page dictionary comes the page data which is a full-resolution,
possibly compressed bitmap representing the page in the printer's output
colorspace. You read uncompressed raster data using the
<a href="#cupsRasterReadPixels"><code>cupsRasterReadPixels</code></a>
function. A <code>for</code> loop is normally used to read the page one line
at a time:</p>

<pre class="example">
#include &lt;cups/raster.h&gt;>

<a href="#cups_raster_t">cups_raster_t</a> *ras = <a href="#cupsRasterOpen">cupsRasterOpen</a>(0, CUPS_RASTER_READ);
<a href="#cups_page_header2_t">cups_page_header2_t</a> header;
int page = 0;
int y;
char *buffer;

while (<a href="#cupsRasterReadHeader2">cupsRasterReadHeader2</a>(ras, &amp;header))
{
  /* setup this page */
  page ++;
  fprintf(stderr, "PAGE: %d %d\n", page, header.NumCopies);

  /* allocate memory for 1 line */
  buffer = malloc(header.cupsBytesPerLine);

  /* read raster data */
  for (y = 0; y &lt; header.cupsHeight; y ++)
  {
    if (<a href="#cupsRasterReadPixels">cupsRasterReadPixels</a>(ras, buffer, header.cupsBytesPerLine) == 0)
      break;

    /* write raster data to printer on stdout */
  }

  /* finish this page */
}
</pre>

<p>When you are done reading the raster data, call the
<a href="#cupsRasterClose"><code>cupsRasterClose</code></a> function to free
the memory used to read the raster file:</p>

<pre class="example">
<a href="#cups_raster_t">cups_raster_t</a> *ras;

<a href="#cupsRasterClose">cupsRasterClose</a>(ras);
</pre>


<h2 class='title'><a name="TASKS">Functions by Task</a></h2>

<h3><a name="OPENCLOSE">Opening and Closing Raster Streams</a></h3>

<ul class="code">

	<li><a href="#cupsRasterClose" title="Close a raster stream.">cupsRasterClose</a></li>
	<li><a href="#cupsRasterOpen" title="Open a raster stream.">cupsRasterOpen</a></li>

</ul>

<h3><a name="READING">Reading Raster Streams</a></h3>

<ul class="code">

	<li><a href="#cupsRasterReadHeader" title="Read a raster page header and store it in a version 1 page header structure.">cupsRasterReadHeader</a> <span class="info">Deprecated in CUPS 1.2/macOS 10.5</span></li>
	<li><a href="#cupsRasterReadHeader2" title="Read a raster page header and store it in a version 2 page header structure.">cupsRasterReadHeader2</a></li>
	<li><a href="#cupsRasterReadPixels" title="Read raster pixels.">cupsRasterReadPixels</a></li>

</ul>

<h3><a name="WRITING">Writing Raster Streams</a></h3>

<ul class="code">

	<li><a href="#cupsRasterInterpretPPD" title="Interpret PPD commands to create a page header.">cupsRasterInterpretPPD</a></li>
	<li><a href="#cupsRasterWriteHeader" title="Write a raster page header from a version 1 page header structure.">cupsRasterWriteHeader</a> <span class="info">Deprecated in CUPS 1.2/macOS 10.5</span></li>
	<li><a href="#cupsRasterWriteHeader2" title="Write a raster page header from a version 2 page header structure.">cupsRasterWriteHeader2</a></li>
	<li><a href="#cupsRasterWritePixels" title="Write raster pixels.">cupsRasterWritePixels</a></li>

</ul>
<h2 class="title"><a name="FUNCTIONS">Functions</a></h2>
<h3 class="function"><a name="DllMain">DllMain</a></h3>
<p class="description">Main entry for library.</p>
<p class="code">
BOOL WINAPI DllMain (<br>
&nbsp;&nbsp;&nbsp;&nbsp;HINSTANCE hinst,<br>
&nbsp;&nbsp;&nbsp;&nbsp;DWORD reason,<br>
&nbsp;&nbsp;&nbsp;&nbsp;LPVOID reserved<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>hinst</dt>
<dd class="description">DLL module handle</dd>
<dt>reason</dt>
<dd class="description">Reason</dd>
<dt>reserved</dt>
<dd class="description">Unused</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Success/failure</p>
<h3 class="function"><a name="cupsAddDest">cupsAddDest</a></h3>
<p class="description">Add a destination to the list of destinations.</p>
<p class="code">
int cupsAddDest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *instance,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_dests,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t **dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>instance</dt>
<dd class="description">Instance name or <code>NULL</code> for none/primary</dd>
<dt>num_dests</dt>
<dd class="description">Number of destinations</dd>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New number of destinations</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function cannot be used to add a new class or printer queue,
it only adds a new container of saved options for the named
destination or instance.<br>
<br>
If the named destination already exists, the destination list is
returned unchanged.  Adding a new instance of a destination creates
a copy of that destination's options.<br>
<br>
Use the <a href="#cupsSaveDests"><code>cupsSaveDests</code></a> function to save the updated list of
destinations to the user's lpoptions file.</p>
<h3 class="function"><a name="cupsAddOption">cupsAddOption</a></h3>
<p class="description">Add an option to an option array.</p>
<p class="code">
int cupsAddOption (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *value,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t **options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Name of option</dd>
<dt>value</dt>
<dd class="description">Value of option</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Pointer to options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of options</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">New option arrays can be initialized simply by passing 0 for the
&quot;num_options&quot; parameter.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayAdd">cupsArrayAdd</a></h3>
<p class="description">Add an element to the array.</p>
<p class="code">
int cupsArrayAdd (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *e<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
<dt>e</dt>
<dd class="description">Element</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">When adding an element to a sorted array, non-unique elements are
appended at the end of the run of identical elements.  For unsorted arrays,
the element is appended to the end of the array.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayClear">cupsArrayClear</a></h3>
<p class="description">Clear the array.</p>
<p class="code">
void cupsArrayClear (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is equivalent to removing all elements in the array.
The caller is responsible for freeing the memory used by the
elements themselves.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayCount">cupsArrayCount</a></h3>
<p class="description">Get the number of elements in the array.</p>
<p class="code">
int cupsArrayCount (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of elements</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayCurrent">cupsArrayCurrent</a></h3>
<p class="description">Return the current element in the array.</p>
<p class="code">
void *cupsArrayCurrent (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Element</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The current element is undefined until you call <a href="#cupsArrayFind"><code>cupsArrayFind</code></a>,
<a href="#cupsArrayFirst"><code>cupsArrayFirst</code></a>, or <a href="#cupsArrayIndex"><code>cupsArrayIndex</code></a>, or <a href="#cupsArrayLast"><code>cupsArrayLast</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayDelete">cupsArrayDelete</a></h3>
<p class="description">Free all memory used by the array.</p>
<p class="code">
void cupsArrayDelete (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The caller is responsible for freeing the memory used by the
elements themselves.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayDup">cupsArrayDup</a></h3>
<p class="description">Duplicate the array.</p>
<p class="code">
cups_array_t *cupsArrayDup (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Duplicate array</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayFind">cupsArrayFind</a></h3>
<p class="description">Find an element in the array.</p>
<p class="code">
void *cupsArrayFind (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *e<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
<dt>e</dt>
<dd class="description">Element</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Element found or <code>NULL</code></p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayFirst">cupsArrayFirst</a></h3>
<p class="description">Get the first element in the array.</p>
<p class="code">
void *cupsArrayFirst (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">First element or <code>NULL</code> if the array is empty</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="cupsArrayGetIndex">cupsArrayGetIndex</a></h3>
<p class="description">Get the index of the current element.</p>
<p class="code">
int cupsArrayGetIndex (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Index of the current element, starting at 0</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The current element is undefined until you call <a href="#cupsArrayFind"><code>cupsArrayFind</code></a>,
<a href="#cupsArrayFirst"><code>cupsArrayFirst</code></a>, or <a href="#cupsArrayIndex"><code>cupsArrayIndex</code></a>, or <a href="#cupsArrayLast"><code>cupsArrayLast</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="cupsArrayGetInsert">cupsArrayGetInsert</a></h3>
<p class="description">Get the index of the last inserted element.</p>
<p class="code">
int cupsArrayGetInsert (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Index of the last inserted element, starting at 0</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayIndex">cupsArrayIndex</a></h3>
<p class="description">Get the N-th element in the array.</p>
<p class="code">
void *cupsArrayIndex (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int n<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
<dt>n</dt>
<dd class="description">Index into array, starting at 0</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">N-th element or <code>NULL</code></p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayInsert">cupsArrayInsert</a></h3>
<p class="description">Insert an element in the array.</p>
<p class="code">
int cupsArrayInsert (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *e<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
<dt>e</dt>
<dd class="description">Element</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on failure, 1 on success</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">When inserting an element in a sorted array, non-unique elements are
inserted at the beginning of the run of identical elements.  For unsorted
arrays, the element is inserted at the beginning of the array.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayLast">cupsArrayLast</a></h3>
<p class="description">Get the last element in the array.</p>
<p class="code">
void *cupsArrayLast (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Last element or <code>NULL</code> if the array is empty</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayNew">cupsArrayNew</a></h3>
<p class="description">Create a new array.</p>
<p class="code">
cups_array_t *cupsArrayNew (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_func_t f,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *d<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>f</dt>
<dd class="description">Comparison function or <code>NULL</code> for an unsorted array</dd>
<dt>d</dt>
<dd class="description">User data pointer or <code>NULL</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Array</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The comparison function (&quot;f&quot;) is used to create a sorted array. The function
receives pointers to two elements and the user data pointer (&quot;d&quot;) - the user
data pointer argument can safely be omitted when not required so functions
like <code>strcmp</code> can be used for sorted string arrays.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="cupsArrayNew2">cupsArrayNew2</a></h3>
<p class="description">Create a new array with hash.</p>
<p class="code">
cups_array_t *cupsArrayNew2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_func_t f,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *d,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_ahash_func_t h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int hsize<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>f</dt>
<dd class="description">Comparison function or <code>NULL</code> for an unsorted array</dd>
<dt>d</dt>
<dd class="description">User data or <code>NULL</code></dd>
<dt>h</dt>
<dd class="description">Hash function or <code>NULL</code> for unhashed lookups</dd>
<dt>hsize</dt>
<dd class="description">Hash size (&gt;= 0)</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Array</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The comparison function (&quot;f&quot;) is used to create a sorted array. The function
receives pointers to two elements and the user data pointer (&quot;d&quot;) - the user
data pointer argument can safely be omitted when not required so functions
like <code>strcmp</code> can be used for sorted string arrays.<br>
<br>
The hash function (&quot;h&quot;) is used to implement cached lookups with the
specified hash size (&quot;hsize&quot;).

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.5/macOS 10.7&nbsp;</span><a name="cupsArrayNew3">cupsArrayNew3</a></h3>
<p class="description">Create a new array with hash and/or free function.</p>
<p class="code">
cups_array_t *cupsArrayNew3 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_func_t f,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *d,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_ahash_func_t h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int hsize,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_acopy_func_t cf,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_afree_func_t ff<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>f</dt>
<dd class="description">Comparison function or <code>NULL</code> for an unsorted array</dd>
<dt>d</dt>
<dd class="description">User data or <code>NULL</code></dd>
<dt>h</dt>
<dd class="description">Hash function or <code>NULL</code> for unhashed lookups</dd>
<dt>hsize</dt>
<dd class="description">Hash size (&gt;= 0)</dd>
<dt>cf</dt>
<dd class="description">Copy function</dd>
<dt>ff</dt>
<dd class="description">Free function</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Array</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The comparison function (&quot;f&quot;) is used to create a sorted array. The function
receives pointers to two elements and the user data pointer (&quot;d&quot;) - the user
data pointer argument can safely be omitted when not required so functions
like <code>strcmp</code> can be used for sorted string arrays.<br>
<br>
The hash function (&quot;h&quot;) is used to implement cached lookups with the
specified hash size (&quot;hsize&quot;).<br>
<br>
The copy function (&quot;cf&quot;) is used to automatically copy/retain elements when
added or the array is copied.<br>
<br>
The free function (&quot;cf&quot;) is used to automatically free/release elements when
removed or the array is deleted.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayNext">cupsArrayNext</a></h3>
<p class="description">Get the next element in the array.</p>
<p class="code">
void *cupsArrayNext (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Next element or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is equivalent to &quot;cupsArrayIndex(a, cupsArrayGetIndex(a) + 1)&quot;.<br>
<br>
The next element is undefined until you call <a href="#cupsArrayFind"><code>cupsArrayFind</code></a>,
<a href="#cupsArrayFirst"><code>cupsArrayFirst</code></a>, or <a href="#cupsArrayIndex"><code>cupsArrayIndex</code></a>, or <a href="#cupsArrayLast"><code>cupsArrayLast</code></a>
to set the current element.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayPrev">cupsArrayPrev</a></h3>
<p class="description">Get the previous element in the array.</p>
<p class="code">
void *cupsArrayPrev (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Previous element or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is equivalent to &quot;cupsArrayIndex(a, cupsArrayGetIndex(a) - 1)&quot;.<br>
<br>
The previous element is undefined until you call <a href="#cupsArrayFind"><code>cupsArrayFind</code></a>,
<a href="#cupsArrayFirst"><code>cupsArrayFirst</code></a>, or <a href="#cupsArrayIndex"><code>cupsArrayIndex</code></a>, or <a href="#cupsArrayLast"><code>cupsArrayLast</code></a>
to set the current element.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayRemove">cupsArrayRemove</a></h3>
<p class="description">Remove an element from the array.</p>
<p class="code">
int cupsArrayRemove (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *e<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
<dt>e</dt>
<dd class="description">Element</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">If more than one element matches &quot;e&quot;, only the first matching element is
removed.<br>
<br>
The caller is responsible for freeing the memory used by the
removed element.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayRestore">cupsArrayRestore</a></h3>
<p class="description">Reset the current element to the last <a href="#cupsArraySave"><code>cupsArraySave</code></a>.</p>
<p class="code">
void *cupsArrayRestore (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New current element</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArraySave">cupsArraySave</a></h3>
<p class="description">Mark the current element for a later <a href="#cupsArrayRestore"><code>cupsArrayRestore</code></a>.</p>
<p class="code">
int cupsArraySave (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The current element is undefined until you call <a href="#cupsArrayFind"><code>cupsArrayFind</code></a>,
<a href="#cupsArrayFirst"><code>cupsArrayFirst</code></a>, or <a href="#cupsArrayIndex"><code>cupsArrayIndex</code></a>, or <a href="#cupsArrayLast"><code>cupsArrayLast</code></a>
to set the current element.<br>
<br>
The save/restore stack is guaranteed to be at least 32 elements deep.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsArrayUserData">cupsArrayUserData</a></h3>
<p class="description">Return the user data for an array.</p>
<p class="code">
void *cupsArrayUserData (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *a<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>a</dt>
<dd class="description">Array</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">User data</p>
<h3 class="function"><a name="cupsCancelDestJob">cupsCancelDestJob</a></h3>
<p class="description">Include necessary headers...</p>
<p class="code">
ipp_status_t cupsCancelDestJob (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int job_id<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>job_id</dt>
<dd class="description">Job ID</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Cancel a job on a destination.</p>
<p class="discussion">The &quot;job_id&quot; is the number returned by cupsCreateDestJob.<br>
<br>
Returns <code>IPP_STATUS_OK</code> on success and
<code>IPP_STATUS_ERRPR_NOT_AUTHORIZED</code> or
<code>IPP_STATUS_ERROR_FORBIDDEN</code> on failure.

</p>
<h3 class="function"><a name="cupsCancelJob">cupsCancelJob</a></h3>
<p class="description">Cancel a print job on the default server.</p>
<p class="code">
int cupsCancelJob (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int job_id<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Name of printer or class</dd>
<dt>job_id</dt>
<dd class="description">Job ID, <code>CUPS_JOBID_CURRENT</code> for the current job, or <code>CUPS_JOBID_ALL</code> for all jobs</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Pass <code>CUPS_JOBID_ALL</code> to cancel all jobs or <code>CUPS_JOBID_CURRENT</code>
to cancel the current job on the named destination.<br>
<br>
Use the <a href="#cupsLastError"><code>cupsLastError</code></a> and <a href="#cupsLastErrorString"><code>cupsLastErrorString</code></a> functions to get
the cause of any failure.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsCancelJob2">cupsCancelJob2</a></h3>
<p class="description">Cancel or purge a print job.</p>
<p class="code">
ipp_status_t cupsCancelJob2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int job_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int purge<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>name</dt>
<dd class="description">Name of printer or class</dd>
<dt>job_id</dt>
<dd class="description">Job ID, <code>CUPS_JOBID_CURRENT</code> for the current job, or <code>CUPS_JOBID_ALL</code> for all jobs</dd>
<dt>purge</dt>
<dd class="description">1 to purge, 0 to cancel</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">IPP status</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Canceled jobs remain in the job history while purged jobs are removed
from the job history.<br>
<br>
Pass <code>CUPS_JOBID_ALL</code> to cancel all jobs or <code>CUPS_JOBID_CURRENT</code>
to cancel the current job on the named destination.<br>
<br>
Use the <a href="#cupsLastError"><code>cupsLastError</code></a> and <a href="#cupsLastErrorString"><code>cupsLastErrorString</code></a> functions to get
the cause of any failure.

</p>
<h3 class="function"><a name="cupsCharsetToUTF8">cupsCharsetToUTF8</a></h3>
<p class="description">Convert legacy character set to UTF-8.</p>
<p class="code">
int cupsCharsetToUTF8 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_utf8_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *src,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int maxout,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const cups_encoding_t encoding<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dest</dt>
<dd class="description">Target string</dd>
<dt>src</dt>
<dd class="description">Source string</dd>
<dt>maxout</dt>
<dd class="description">Max output</dd>
<dt>encoding</dt>
<dd class="description">Encoding</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Count or -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsCheckDestSupported">cupsCheckDestSupported</a></h3>
<p class="description">Check that the option and value are supported
by the destination.</p>
<p class="code">
int cupsCheckDestSupported (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *option,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>option</dt>
<dd class="description">Option</dd>
<dt>value</dt>
<dd class="description">Value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if supported, 0 otherwise</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Returns 1 if supported, 0 otherwise.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsCloseDestJob">cupsCloseDestJob</a></h3>
<p class="description">Close a job and start printing.</p>
<p class="code">
ipp_status_t cupsCloseDestJob (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int job_id<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>info</dt>
<dd class="description">Destination information</dd>
<dt>job_id</dt>
<dd class="description">Job ID</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">IPP status code</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Use when the last call to cupsStartDocument passed 0 for &quot;last_document&quot;.
&quot;job_id&quot; is the job ID returned by cupsCreateDestJob. Returns <code>IPP_STATUS_OK</code>
on success.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsConnectDest">cupsConnectDest</a></h3>
<p class="description">Connect to the server for a destination.</p>
<p class="code">
http_t *cupsConnectDest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int msec,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *cancel,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t resourcesize,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_cb_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *user_data<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>flags</dt>
<dd class="description">Connection flags</dd>
<dt>msec</dt>
<dd class="description">Timeout in milliseconds</dd>
<dt>cancel</dt>
<dd class="description">Pointer to &quot;cancel&quot; variable</dd>
<dt>resource</dt>
<dd class="description">Resource buffer</dd>
<dt>resourcesize</dt>
<dd class="description">Size of resource buffer</dd>
<dt>cb</dt>
<dd class="description">Callback function</dd>
<dt>user_data</dt>
<dd class="description">User data pointer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Connection to server or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Connect to the destination, returning a new http_t connection object and
optionally the resource path to use for the destination.  These calls will
block until a connection is made, the timeout expires, the integer pointed
to by &quot;cancel&quot; is non-zero, or the callback function (or block) returns 0,
The caller is responsible for calling httpClose() on the returned object.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsConnectDestBlock">cupsConnectDestBlock</a></h3>
<p class="description">Connect to the server for a destination.</p>
<p class="code">
http_t *cupsConnectDestBlock (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int msec,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *cancel,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t resourcesize,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_block_t block<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>flags</dt>
<dd class="description">Connection flags</dd>
<dt>msec</dt>
<dd class="description">Timeout in milliseconds</dd>
<dt>cancel</dt>
<dd class="description">Pointer to &quot;cancel&quot; variable</dd>
<dt>resource</dt>
<dd class="description">Resource buffer</dd>
<dt>resourcesize</dt>
<dd class="description">Size of resource buffer</dd>
<dt>block</dt>
<dd class="description">Callback block</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Connection to server or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Connect to the destination, returning a new http_t connection object and
optionally the resource path to use for the destination.  These calls will
block until a connection is made, the timeout expires, the integer pointed
to by &quot;cancel&quot; is non-zero, or the callback function (or block) returns 0,
The caller is responsible for calling httpClose() on the returned object.

</p>
<h3 class="function"><a name="cupsCopyDest">cupsCopyDest</a></h3>
<p class="description">Callback block</p>
<p class="code">
int cupsCopyDest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_dests,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t **dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dest</dt>
<dt>num_dests</dt>
<dt>dests</dt>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Copy a destination.</p>
<p class="discussion">Make a copy of the destination to an array of destinations (or just a single
copy) - for use with the cupsEnumDests* functions. The caller is responsible
for calling cupsFreeDests() on the returned object(s).

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsCopyDestConflicts">cupsCopyDestConflicts</a></h3>
<p class="description">Get conflicts and resolutions for a new
option/value pair.</p>
<p class="code">
int cupsCopyDestConflicts (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *new_option,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *new_value,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *num_conflicts,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t **conflicts,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *num_resolved,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t **resolved<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>num_options</dt>
<dd class="description">Number of current options</dd>
<dt>options</dt>
<dd class="description">Current options</dd>
<dt>new_option</dt>
<dd class="description">New option</dd>
<dt>new_value</dt>
<dd class="description">New value</dd>
<dt>num_conflicts</dt>
<dd class="description">Number of conflicting options</dd>
<dt>conflicts</dt>
<dd class="description">Conflicting options</dd>
<dt>num_resolved</dt>
<dd class="description">Number of options to resolve</dd>
<dt>resolved</dt>
<dd class="description">Resolved options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if there is a conflict, 0 if none, -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">&quot;num_options&quot; and &quot;options&quot; represent the currently selected options by the
user.  &quot;new_option&quot; and &quot;new_value&quot; are the setting the user has just
changed.<br>
<br>
Returns 1 if there is a conflict, 0 if there are no conflicts, and -1 if
there was an unrecoverable error such as a resolver loop.<br>
<br>
If &quot;num_conflicts&quot; and &quot;conflicts&quot; are not <code>NULL</code>, they are set to
contain the list of conflicting option/value pairs.  Similarly, if
&quot;num_resolved&quot; and &quot;resolved&quot; are not <code>NULL</code> they will be set to the
list of changes needed to resolve the conflict.<br>
<br>
If cupsCopyDestConflicts returns 1 but &quot;num_resolved&quot; and &quot;resolved&quot; are set
to 0 and <code>NULL</code>, respectively, then the conflict cannot be resolved.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsCopyDestInfo">cupsCopyDestInfo</a></h3>
<p class="description">Get the supported values/capabilities for the
destination.</p>
<p class="code">
cups_dinfo_t *cupsCopyDestInfo (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Destination information</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The caller is responsible for calling <a href="#cupsFreeDestInfo"><code>cupsFreeDestInfo</code></a> on the return
value. <code>NULL</code> is returned on error.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsCreateDestJob">cupsCreateDestJob</a></h3>
<p class="description">Create a job on a destination.</p>
<p class="code">
ipp_status_t cupsCreateDestJob (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *job_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *title,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>info</dt>
<dd class="description">Destination information</dd>
<dt>job_id</dt>
<dd class="description">Job ID or 0 on error</dd>
<dt>title</dt>
<dd class="description">Job name</dd>
<dt>num_options</dt>
<dd class="description">Number of job options</dd>
<dt>options</dt>
<dd class="description">Job options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">IPP status code</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Returns <code>IPP_STATUS_OK</code> or <code>IPP_STATUS_OK_SUBST</code> on success, saving the job ID
in the variable pointed to by &quot;job_id&quot;.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsCreateJob">cupsCreateJob</a></h3>
<p class="description">Create an empty job for streaming.</p>
<p class="code">
int cupsCreateJob (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *title,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>title</dt>
<dd class="description">Title of job</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Job ID or 0 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Use this function when you want to stream print data using the
<a href="#cupsStartDocument"><code>cupsStartDocument</code></a>, <a href="#cupsWriteRequestData"><code>cupsWriteRequestData</code></a>, and
<a href="#cupsFinishDocument"><code>cupsFinishDocument</code></a> functions.  If you have one or more files to
print, use the <a href="#cupsPrintFile2"><code>cupsPrintFile2</code></a> or <a href="#cupsPrintFiles2"><code>cupsPrintFiles2</code></a> function
instead.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsDirClose">cupsDirClose</a></h3>
<p class="description">Close a directory.</p>
<p class="code">
void cupsDirClose (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dir_t *dp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dp</dt>
<dd class="description">Directory pointer</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsDirOpen">cupsDirOpen</a></h3>
<p class="description">Open a directory.</p>
<p class="code">
cups_dir_t *cupsDirOpen (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *directory<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>directory</dt>
<dd class="description">Directory name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Directory pointer or <code>NULL</code> if the directory could not be opened.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsDirRead">cupsDirRead</a></h3>
<p class="description">Read the next directory entry.</p>
<p class="code">
cups_dentry_t *cupsDirRead (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dir_t *dp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dp</dt>
<dd class="description">Directory pointer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Directory entry or <code>NULL</code> when there are no more</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsDirRewind">cupsDirRewind</a></h3>
<p class="description">Rewind to the start of the directory.</p>
<p class="code">
void cupsDirRewind (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dir_t *dp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dp</dt>
<dd class="description">Directory pointer</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.20/macOS 10.4&nbsp;</span><a name="cupsDoAuthentication">cupsDoAuthentication</a></h3>
<p class="description">Authenticate a request.</p>
<p class="code">
int cupsDoAuthentication (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *method,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>method</dt>
<dd class="description">Request method (&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;)</dd>
<dt>resource</dt>
<dd class="description">Resource path</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function should be called in response to a <code>HTTP_STATUS_UNAUTHORIZED</code>
status, prior to resubmitting your request.

</p>
<h3 class="function"><a name="cupsDoFileRequest">cupsDoFileRequest</a></h3>
<p class="description">Do an IPP request with a file.</p>
<p class="code">
ipp_t *cupsDoFileRequest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *request,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *filename<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>request</dt>
<dd class="description">IPP request</dd>
<dt>resource</dt>
<dd class="description">HTTP resource for POST</dd>
<dt>filename</dt>
<dd class="description">File to send or <code>NULL</code> for none</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Response data</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function sends the IPP request and attached file to the specified
server, retrying and authenticating as necessary.  The request is freed with
<a href="#ippDelete"><code>ippDelete</code></a>.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="cupsDoIORequest">cupsDoIORequest</a></h3>
<p class="description">Do an IPP request with file descriptors.</p>
<p class="code">
ipp_t *cupsDoIORequest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *request,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int infile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int outfile<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>request</dt>
<dd class="description">IPP request</dd>
<dt>resource</dt>
<dd class="description">HTTP resource for POST</dd>
<dt>infile</dt>
<dd class="description">File to read from or -1 for none</dd>
<dt>outfile</dt>
<dd class="description">File to write to or -1 for none</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Response data</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function sends the IPP request with the optional input file &quot;infile&quot; to
the specified server, retrying and authenticating as necessary.  The request
is freed with <a href="#ippDelete"><code>ippDelete</code></a>.<br>
<br>
If &quot;infile&quot; is a valid file descriptor, <code>cupsDoIORequest</code> copies
all of the data from the file after the IPP request message.<br>
<br>
If &quot;outfile&quot; is a valid file descriptor, <code>cupsDoIORequest</code> copies
all of the data after the IPP response message to the file.

</p>
<h3 class="function"><a name="cupsDoRequest">cupsDoRequest</a></h3>
<p class="description">Do an IPP request.</p>
<p class="code">
ipp_t *cupsDoRequest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *request,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>request</dt>
<dd class="description">IPP request</dd>
<dt>resource</dt>
<dd class="description">HTTP resource for POST</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Response data</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function sends the IPP request to the specified server, retrying
and authenticating as necessary.  The request is freed with <a href="#ippDelete"><code>ippDelete</code></a>.</p>
<h3 class="function"><a name="cupsEncodeOptions">cupsEncodeOptions</a></h3>
<p class="description">Encode printer options into IPP attributes.</p>
<p class="code">
void cupsEncodeOptions (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">Request to add to</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function adds operation, job, and then subscription attributes,
in that order. Use the cupsEncodeOptions2() function to add attributes
for a single group.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsEncodeOptions2">cupsEncodeOptions2</a></h3>
<p class="description">Encode printer options into IPP attributes for a group.</p>
<p class="code">
void cupsEncodeOptions2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group_tag<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">Request to add to</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
<dt>group_tag</dt>
<dd class="description">Group to encode</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function only adds attributes for a single group. Call this
function multiple times for each group, or use cupsEncodeOptions()
to add the standard groups.

</p>
<h3 class="function"><a name="cupsEncryption">cupsEncryption</a></h3>
<p class="description">Get the current encryption settings.</p>
<p class="code">
http_encryption_t cupsEncryption (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Encryption settings</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The default encryption setting comes from the CUPS_ENCRYPTION
environment variable, then the ~/.cups/client.conf file, and finally the
/etc/cups/client.conf file. If not set, the default is
<code>HTTP_ENCRYPTION_IF_REQUESTED</code>.<br>
<br>
Note: The current encryption setting is tracked separately for each thread
in a program. Multi-threaded programs that override the setting via the
<a href="#cupsSetEncryption"><code>cupsSetEncryption</code></a> function need to do so in each thread for the same
setting to be used.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsEnumDests">cupsEnumDests</a></h3>
<p class="description">Enumerate available destinations with a callback function.</p>
<p class="code">
int cupsEnumDests (<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int msec,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *cancel,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_ptype_t type,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_ptype_t mask,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_cb_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *user_data<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>flags</dt>
<dd class="description">Enumeration flags</dd>
<dt>msec</dt>
<dd class="description">Timeout in milliseconds,
-1 for indefinite</dd>
<dt>cancel</dt>
<dd class="description">Pointer to &quot;cancel&quot; variable</dd>
<dt>type</dt>
<dd class="description">Printer type bits</dd>
<dt>mask</dt>
<dd class="description">Mask for printer type bits</dd>
<dt>cb</dt>
<dd class="description">Callback function</dd>
<dt>user_data</dt>
<dd class="description">User data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Destinations are enumerated from one or more sources. The callback function
receives the <code>user_data</code> pointer, destination name, instance, number of
options, and options which can be used as input to the <a href="#cupsAddDest"><code>cupsAddDest</code></a>
function.  The function must return 1 to continue enumeration or 0 to stop.<br>
<br>
Enumeration happens on the current thread and does not return until all
destinations have been enumerated or the callback function returns 0.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsEnumDestsBlock">cupsEnumDestsBlock</a></h3>
<p class="description">Enumerate available destinations with a block.</p>
<p class="code">
int cupsEnumDestsBlock (<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int timeout,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *cancel,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_ptype_t type,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_ptype_t mask,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_block_t block<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>flags</dt>
<dd class="description">Enumeration flags</dd>
<dt>timeout</dt>
<dd class="description">Timeout in milliseconds, 0 for indefinite</dd>
<dt>cancel</dt>
<dd class="description">Pointer to &quot;cancel&quot; variable</dd>
<dt>type</dt>
<dd class="description">Printer type bits</dd>
<dt>mask</dt>
<dd class="description">Mask for printer type bits</dd>
<dt>block</dt>
<dd class="description">Block</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Destinations are enumerated from one or more sources. The block receives the
destination name, instance, number of options, and options which can be used
as input to the <a href="#cupsAddDest"><code>cupsAddDest</code></a> function.  The block must return 1 to
continue enumeration or 0 to stop.<br>
<br>
Enumeration happens on the current thread and does not return until all
destinations have been enumerated or the block returns 0.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileClose">cupsFileClose</a></h3>
<p class="description">Close a CUPS file.</p>
<p class="code">
int cupsFileClose (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileCompression">cupsFileCompression</a></h3>
<p class="description">Return whether a file is compressed.</p>
<p class="code">
int cupsFileCompression (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description"><code>CUPS_FILE_NONE</code> or <code>CUPS_FILE_GZIP</code></p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileEOF">cupsFileEOF</a></h3>
<p class="description">Return the end-of-file status.</p>
<p class="code">
int cupsFileEOF (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on end of file, 0 otherwise</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileFind">cupsFileFind</a></h3>
<p class="description">Find a file using the specified path.</p>
<p class="code">
const char *cupsFileFind (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *filename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *path,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int executable,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int bufsize<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>filename</dt>
<dd class="description">File to find</dd>
<dt>path</dt>
<dd class="description">Colon/semicolon-separated path</dd>
<dt>executable</dt>
<dd class="description">1 = executable files, 0 = any file/dir</dd>
<dt>buffer</dt>
<dd class="description">Filename buffer</dd>
<dt>bufsize</dt>
<dd class="description">Size of filename buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Full path to file or <code>NULL</code> if not found</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function allows the paths in the path string to be separated by
colons (UNIX standard) or semicolons (Windows standard) and stores the
result in the buffer supplied.  If the file cannot be found in any of
the supplied paths, <code>NULL</code> is returned. A <code>NULL</code> path only
matches the current directory.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileFlush">cupsFileFlush</a></h3>
<p class="description">Flush pending output.</p>
<p class="code">
int cupsFileFlush (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileGetChar">cupsFileGetChar</a></h3>
<p class="description">Get a single character from a file.</p>
<p class="code">
int cupsFileGetChar (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Character or -1 on end of file</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileGetConf">cupsFileGetConf</a></h3>
<p class="description">Get a line from a configuration file.</p>
<p class="code">
char *cupsFileGetConf (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buf,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t buflen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char **value,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *linenum<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>buf</dt>
<dd class="description">String buffer</dd>
<dt>buflen</dt>
<dd class="description">Size of string buffer</dd>
<dt>value</dt>
<dd class="description">Pointer to value</dd>
<dt>linenum</dt>
<dd class="description">Current line number</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Line read or <code>NULL</code> on end of file or error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileGetLine">cupsFileGetLine</a></h3>
<p class="description">Get a CR and/or LF-terminated line that may
contain binary data.</p>
<p class="code">
size_t cupsFileGetLine (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buf,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t buflen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">File to read from</dd>
<dt>buf</dt>
<dd class="description">Buffer</dd>
<dt>buflen</dt>
<dd class="description">Size of buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes on line or 0 on end of file</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function differs from <a href="#cupsFileGets"><code>cupsFileGets</code></a> in that the trailing CR
and LF are preserved, as is any binary data on the line. The buffer is
nul-terminated, however you should use the returned length to determine
the number of bytes on the line.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileGets">cupsFileGets</a></h3>
<p class="description">Get a CR and/or LF-terminated line.</p>
<p class="code">
char *cupsFileGets (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buf,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t buflen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>buf</dt>
<dd class="description">String buffer</dd>
<dt>buflen</dt>
<dd class="description">Size of string buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Line read or <code>NULL</code> on end of file or error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileLock">cupsFileLock</a></h3>
<p class="description">Temporarily lock access to a file.</p>
<p class="code">
int cupsFileLock (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int block<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>block</dt>
<dd class="description">1 to wait for the lock, 0 to fail right away</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileNumber">cupsFileNumber</a></h3>
<p class="description">Return the file descriptor associated with a CUPS file.</p>
<p class="code">
int cupsFileNumber (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">File descriptor</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileOpen">cupsFileOpen</a></h3>
<p class="description">Open a CUPS file.</p>
<p class="code">
cups_file_t *cupsFileOpen (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *filename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *mode<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>filename</dt>
<dd class="description">Name of file</dd>
<dt>mode</dt>
<dd class="description">Open mode</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">CUPS file or <code>NULL</code> if the file or socket cannot be opened</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;mode&quot; parameter can be &quot;r&quot; to read, &quot;w&quot; to write, overwriting any
existing file, &quot;a&quot; to append to an existing file or create a new file,
or &quot;s&quot; to open a socket connection.<br>
<br>
When opening for writing (&quot;w&quot;), an optional number from 1 to 9 can be
supplied which enables Flate compression of the file.  Compression is
not supported for the &quot;a&quot; (append) mode.<br>
<br>
When opening a socket connection, the filename is a string of the form
&quot;address:port&quot; or &quot;hostname:port&quot;. The socket will make an IPv4 or IPv6
connection as needed, generally preferring IPv6 connections when there is
a choice.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileOpenFd">cupsFileOpenFd</a></h3>
<p class="description">Open a CUPS file using a file descriptor.</p>
<p class="code">
cups_file_t *cupsFileOpenFd (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int fd,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *mode<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fd</dt>
<dd class="description">File descriptor</dd>
<dt>mode</dt>
<dd class="description">Open mode</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">CUPS file or <code>NULL</code> if the file could not be opened</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;mode&quot; parameter can be &quot;r&quot; to read, &quot;w&quot; to write, &quot;a&quot; to append,
or &quot;s&quot; to treat the file descriptor as a bidirectional socket connection.<br>
<br>
When opening for writing (&quot;w&quot;), an optional number from 1 to 9 can be
supplied which enables Flate compression of the file.  Compression is
not supported for the &quot;a&quot; (append) mode.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFilePeekChar">cupsFilePeekChar</a></h3>
<p class="description">Peek at the next character from a file.</p>
<p class="code">
int cupsFilePeekChar (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Character or -1 on end of file</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFilePrintf">cupsFilePrintf</a></h3>
<p class="description">Write a formatted string.</p>
<p class="code">
int cupsFilePrintf (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *format,<br>
&nbsp;&nbsp;&nbsp;&nbsp;...<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>format</dt>
<dd class="description">Printf-style format string</dd>
<dt>...</dt>
<dd class="description">Additional args as necessary</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes written or -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFilePutChar">cupsFilePutChar</a></h3>
<p class="description">Write a character.</p>
<p class="code">
int cupsFilePutChar (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int c<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>c</dt>
<dd class="description">Character to write</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsFilePutConf">cupsFilePutConf</a></h3>
<p class="description">Write a configuration line.</p>
<p class="code">
ssize_t cupsFilePutConf (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *directive,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>directive</dt>
<dd class="description">Directive</dd>
<dt>value</dt>
<dd class="description">Value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes written or -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function handles any comment escaping of the value.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFilePuts">cupsFilePuts</a></h3>
<p class="description">Write a string.</p>
<p class="code">
int cupsFilePuts (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *s<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>s</dt>
<dd class="description">String to write</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes written or -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Like the <code>fputs</code> function, no newline is appended to the string.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileRead">cupsFileRead</a></h3>
<p class="description">Read from a file.</p>
<p class="code">
ssize_t cupsFileRead (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buf,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t bytes<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>buf</dt>
<dd class="description">Buffer</dd>
<dt>bytes</dt>
<dd class="description">Number of bytes to read</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes read or -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileRewind">cupsFileRewind</a></h3>
<p class="description">Set the current file position to the beginning of the
file.</p>
<p class="code">
off_t cupsFileRewind (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New file position or -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileSeek">cupsFileSeek</a></h3>
<p class="description">Seek in a file.</p>
<p class="code">
off_t cupsFileSeek (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;off_t pos<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>pos</dt>
<dd class="description">Position in file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New file position or -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileStderr">cupsFileStderr</a></h3>
<p class="description">Return a CUPS file associated with stderr.</p>
<p class="code">
cups_file_t *cupsFileStderr (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">CUPS file</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileStdin">cupsFileStdin</a></h3>
<p class="description">Return a CUPS file associated with stdin.</p>
<p class="code">
cups_file_t *cupsFileStdin (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">CUPS file</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileStdout">cupsFileStdout</a></h3>
<p class="description">Return a CUPS file associated with stdout.</p>
<p class="code">
cups_file_t *cupsFileStdout (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">CUPS file</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileTell">cupsFileTell</a></h3>
<p class="description">Return the current file position.</p>
<p class="code">
off_t cupsFileTell (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">File position</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileUnlock">cupsFileUnlock</a></h3>
<p class="description">Unlock access to a file.</p>
<p class="code">
int cupsFileUnlock (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsFileWrite">cupsFileWrite</a></h3>
<p class="description">Write to a file.</p>
<p class="code">
ssize_t cupsFileWrite (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_file_t *fp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *buf,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t bytes<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fp</dt>
<dd class="description">CUPS file</dd>
<dt>buf</dt>
<dd class="description">Buffer</dd>
<dt>bytes</dt>
<dd class="description">Number of bytes to write</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes written or -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="cupsFindDestDefault">cupsFindDestDefault</a></h3>
<p class="description">Find the default value(s) for the given option.</p>
<p class="code">
ipp_attribute_t *cupsFindDestDefault (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *option<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>option</dt>
<dd class="description">Option/attribute name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Default attribute or <code>NULL</code> for none</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned value is an IPP attribute. Use the <code>ippGetBoolean</code>,
<code>ippGetCollection</code>, <code>ippGetCount</code>, <code>ippGetDate</code>,
<code>ippGetInteger</code>, <code>ippGetOctetString</code>, <code>ippGetRange</code>,
<code>ippGetResolution</code>, <code>ippGetString</code>, and <code>ippGetValueTag</code>
functions to inspect the default value(s) as needed.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="cupsFindDestReady">cupsFindDestReady</a></h3>
<p class="description">Find the default value(s) for the given option.</p>
<p class="code">
ipp_attribute_t *cupsFindDestReady (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *option<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>option</dt>
<dd class="description">Option/attribute name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Default attribute or <code>NULL</code> for none</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned value is an IPP attribute. Use the <code>ippGetBoolean</code>,
<code>ippGetCollection</code>, <code>ippGetCount</code>, <code>ippGetDate</code>,
<code>ippGetInteger</code>, <code>ippGetOctetString</code>, <code>ippGetRange</code>,
<code>ippGetResolution</code>, <code>ippGetString</code>, and <code>ippGetValueTag</code>
functions to inspect the default value(s) as needed.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="cupsFindDestSupported">cupsFindDestSupported</a></h3>
<p class="description">Find the default value(s) for the given option.</p>
<p class="code">
ipp_attribute_t *cupsFindDestSupported (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *option<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>option</dt>
<dd class="description">Option/attribute name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Default attribute or <code>NULL</code> for none</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned value is an IPP attribute. Use the <code>ippGetBoolean</code>,
<code>ippGetCollection</code>, <code>ippGetCount</code>, <code>ippGetDate</code>,
<code>ippGetInteger</code>, <code>ippGetOctetString</code>, <code>ippGetRange</code>,
<code>ippGetResolution</code>, <code>ippGetString</code>, and <code>ippGetValueTag</code>
functions to inspect the default value(s) as needed.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsFinishDestDocument">cupsFinishDestDocument</a></h3>
<p class="description">Finish the current document.</p>
<p class="code">
ipp_status_t cupsFinishDestDocument (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *info<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>info</dt>
<dd class="description">Destination information</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of document submission</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Returns <code>IPP_STATUS_OK</code> or <code>IPP_STATUS_OK_SUBST</code> on success.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsFinishDocument">cupsFinishDocument</a></h3>
<p class="description">Finish sending a document.</p>
<p class="code">
ipp_status_t cupsFinishDocument (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>name</dt>
<dd class="description">Destination name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of document submission</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The document must have been started using <a href="#cupsStartDocument"><code>cupsStartDocument</code></a>.

</p>
<h3 class="function"><a name="cupsFreeDestInfo">cupsFreeDestInfo</a></h3>
<p class="description">Free destination information obtained using
<a href="#cupsCopyDestInfo"><code>cupsCopyDestInfo</code></a>.</p>
<p class="code">
void cupsFreeDestInfo (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
</dl>
<h3 class="function"><a name="cupsFreeDests">cupsFreeDests</a></h3>
<p class="description">Free the memory used by the list of destinations.</p>
<p class="code">
void cupsFreeDests (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_dests,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>num_dests</dt>
<dd class="description">Number of destinations</dd>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h3 class="function"><a name="cupsFreeJobs">cupsFreeJobs</a></h3>
<p class="description">Free memory used by job data.</p>
<p class="code">
void cupsFreeJobs (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_jobs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_job_t *jobs<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>num_jobs</dt>
<dd class="description">Number of jobs</dd>
<dt>jobs</dt>
<dd class="description">Jobs</dd>
</dl>
<h3 class="function"><a name="cupsFreeOptions">cupsFreeOptions</a></h3>
<p class="description">Free all memory used by options.</p>
<p class="code">
void cupsFreeOptions (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Pointer to options</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="cupsGetClasses">cupsGetClasses</a></h3>
<p class="description">Get a list of printer classes from the default server.</p>
<p class="code">
int cupsGetClasses (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char ***classes<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>classes</dt>
<dd class="description">Classes</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of classes</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated and no longer returns a list of printer
classes - use <a href="#cupsGetDests"><code>cupsGetDests</code></a> instead.

</p>
<h3 class="function"><a name="cupsGetDefault">cupsGetDefault</a></h3>
<p class="description">Get the default printer or class for the default server.</p>
<p class="code">
const char *cupsGetDefault (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Default printer or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns the default printer or class as defined by
the LPDEST or PRINTER environment variables. If these environment
variables are not set, the server default destination is returned.
Applications should use the <a href="#cupsGetDests"><code>cupsGetDests</code></a> and <a href="#cupsGetDest"><code>cupsGetDest</code></a>
functions to get the user-defined default printer, as this function does
not support the lpoptions-defined default printer.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="cupsGetDefault2">cupsGetDefault2</a></h3>
<p class="description">Get the default printer or class for the specified server.</p>
<p class="code">
const char *cupsGetDefault2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Default printer or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns the default printer or class as defined by
the LPDEST or PRINTER environment variables. If these environment
variables are not set, the server default destination is returned.
Applications should use the <a href="#cupsGetDests"><code>cupsGetDests</code></a> and <a href="#cupsGetDest"><code>cupsGetDest</code></a>
functions to get the user-defined default printer, as this function does
not support the lpoptions-defined default printer.

</p>
<h3 class="function"><a name="cupsGetDest">cupsGetDest</a></h3>
<p class="description">Get the named destination from the list.</p>
<p class="code">
cups_dest_t *cupsGetDest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *instance,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_dests,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Destination name or <code>NULL</code> for the default destination</dd>
<dt>instance</dt>
<dd class="description">Instance name or <code>NULL</code></dd>
<dt>num_dests</dt>
<dd class="description">Number of destinations</dd>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Destination pointer or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Use the <a href="#cupsGetDests"><code>cupsGetDests</code></a> or <a href="#cupsGetDests2"><code>cupsGetDests2</code></a> functions to get a
list of supported destinations for the current user.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="cupsGetDestMediaByIndex">cupsGetDestMediaByIndex</a></h3>
<p class="description">Get a media name, dimension, and margins for a
specific size.</p>
<p class="code">
int cupsGetDestMediaByIndex (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int n,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_size_t *size<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>n</dt>
<dd class="description">Media size number (0-based)</dd>
<dt>flags</dt>
<dd class="description">Media flags</dd>
<dt>size</dt>
<dd class="description">Media size information</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>flags</code> parameter determines which set of media are indexed.  For
example, passing <code>CUPS_MEDIA_FLAGS_BORDERLESS</code> will get the Nth
borderless size supported by the printer.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsGetDestMediaByName">cupsGetDestMediaByName</a></h3>
<p class="description">Get media names, dimensions, and margins.</p>
<p class="code">
int cupsGetDestMediaByName (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *media,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_size_t *size<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>media</dt>
<dd class="description">Media name</dd>
<dt>flags</dt>
<dd class="description">Media matching flags</dd>
<dt>size</dt>
<dd class="description">Media size information</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on match, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;media&quot; string is a PWG media name.  &quot;Flags&quot; provides some matching
guidance (multiple flags can be combined):<br>
<br>
CUPS_MEDIA_FLAGS_DEFAULT    = find the closest size supported by the printer,
CUPS_MEDIA_FLAGS_BORDERLESS = find a borderless size,
CUPS_MEDIA_FLAGS_DUPLEX     = find a size compatible with 2-sided printing,
CUPS_MEDIA_FLAGS_EXACT      = find an exact match for the size, and
CUPS_MEDIA_FLAGS_READY      = if the printer supports media sensing, find the
size amongst the &quot;ready&quot; media.<br>
<br>
The matching result (if any) is returned in the &quot;cups_size_t&quot; structure.<br>
<br>
Returns 1 when there is a match and 0 if there is not a match.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsGetDestMediaBySize">cupsGetDestMediaBySize</a></h3>
<p class="description">Get media names, dimensions, and margins.</p>
<p class="code">
int cupsGetDestMediaBySize (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int width,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int length,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_size_t *size<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>width</dt>
<dd class="description">Media width in hundredths of
of millimeters</dd>
<dt>length</dt>
<dd class="description">Media length in hundredths of
of millimeters</dd>
<dt>flags</dt>
<dd class="description">Media matching flags</dd>
<dt>size</dt>
<dd class="description">Media size information</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on match, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">&quot;Width&quot; and &quot;length&quot; are the dimensions in hundredths of millimeters.
&quot;Flags&quot; provides some matching guidance (multiple flags can be combined):<br>
<br>
CUPS_MEDIA_FLAGS_DEFAULT    = find the closest size supported by the printer,
CUPS_MEDIA_FLAGS_BORDERLESS = find a borderless size,
CUPS_MEDIA_FLAGS_DUPLEX     = find a size compatible with 2-sided printing,
CUPS_MEDIA_FLAGS_EXACT      = find an exact match for the size, and
CUPS_MEDIA_FLAGS_READY      = if the printer supports media sensing, find the
size amongst the &quot;ready&quot; media.<br>
<br>
The matching result (if any) is returned in the &quot;cups_size_t&quot; structure.<br>
<br>
Returns 1 when there is a match and 0 if there is not a match.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="cupsGetDestMediaCount">cupsGetDestMediaCount</a></h3>
<p class="description">Get the number of sizes supported by a
destination.</p>
<p class="code">
int cupsGetDestMediaCount (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>flags</dt>
<dd class="description">Media flags</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of sizes</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>flags</code> parameter determines the set of media sizes that are
counted.  For example, passing <code>CUPS_MEDIA_FLAGS_BORDERLESS</code> will return
the number of borderless sizes.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="cupsGetDestMediaDefault">cupsGetDestMediaDefault</a></h3>
<p class="description">Get the default size for a destination.</p>
<p class="code">
int cupsGetDestMediaDefault (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_size_t *size<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>flags</dt>
<dd class="description">Media flags</dd>
<dt>size</dt>
<dd class="description">Media size information</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>flags</code> parameter determines which default size is returned.  For
example, passing <code>CUPS_MEDIA_FLAGS_BORDERLESS</code> will return the default
borderless size, typically US Letter or A4, but sometimes 4x6 photo media.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/macOS 10.10&nbsp;</span><a name="cupsGetDestWithURI">cupsGetDestWithURI</a></h3>
<p class="description">Get a destination associated with a URI.</p>
<p class="code">
cups_dest_t *cupsGetDestWithURI (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Desired printer name or <code>NULL</code></dd>
<dt>uri</dt>
<dd class="description">URI for the printer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Destination or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">&quot;name&quot; is the desired name for the printer. If <code>NULL</code>, a name will be
created using the URI.<br>
<br>
&quot;uri&quot; is the &quot;ipp&quot; or &quot;ipps&quot; URI for the printer.

</p>
<h3 class="function"><a name="cupsGetDests">cupsGetDests</a></h3>
<p class="description">Get the list of destinations from the default server.</p>
<p class="code">
int cupsGetDests (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t **dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of destinations</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Starting with CUPS 1.2, the returned list of destinations include the
printer-info, printer-is-accepting-jobs, printer-is-shared,
printer-make-and-model, printer-state, printer-state-change-time,
printer-state-reasons, and printer-type attributes as options.  CUPS 1.4
adds the marker-change-time, marker-colors, marker-high-levels,
marker-levels, marker-low-levels, marker-message, marker-names,
marker-types, and printer-commands attributes as well.<br>
<br>
Use the <a href="#cupsFreeDests"><code>cupsFreeDests</code></a> function to free the destination list and
the <a href="#cupsGetDest"><code>cupsGetDest</code></a> function to find a particular destination.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="cupsGetDests2">cupsGetDests2</a></h3>
<p class="description">Get the list of destinations from the specified server.</p>
<p class="code">
int cupsGetDests2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t **dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of destinations</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Starting with CUPS 1.2, the returned list of destinations include the
printer-info, printer-is-accepting-jobs, printer-is-shared,
printer-make-and-model, printer-state, printer-state-change-time,
printer-state-reasons, and printer-type attributes as options.  CUPS 1.4
adds the marker-change-time, marker-colors, marker-high-levels,
marker-levels, marker-low-levels, marker-message, marker-names,
marker-types, and printer-commands attributes as well.<br>
<br>
Use the <a href="#cupsFreeDests"><code>cupsFreeDests</code></a> function to free the destination list and
the <a href="#cupsGetDest"><code>cupsGetDest</code></a> function to find a particular destination.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.20/macOS 10.4&nbsp;</span><a name="cupsGetFd">cupsGetFd</a></h3>
<p class="description">Get a file from the server.</p>
<p class="code">
http_status_t cupsGetFd (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int fd<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>resource</dt>
<dd class="description">Resource name</dd>
<dt>fd</dt>
<dd class="description">File descriptor</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP status</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns <code>HTTP_STATUS_OK</code> when the file is successfully retrieved.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.20/macOS 10.4&nbsp;</span><a name="cupsGetFile">cupsGetFile</a></h3>
<p class="description">Get a file from the server.</p>
<p class="code">
http_status_t cupsGetFile (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *filename<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>resource</dt>
<dd class="description">Resource name</dd>
<dt>filename</dt>
<dd class="description">Filename</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP status</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns <code>HTTP_STATUS_OK</code> when the file is successfully retrieved.

</p>
<h3 class="function"><a name="cupsGetJobs">cupsGetJobs</a></h3>
<p class="description">Get the jobs from the default server.</p>
<p class="code">
int cupsGetJobs (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_job_t **jobs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int myjobs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int whichjobs<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>jobs</dt>
<dd class="description">Job data</dd>
<dt>name</dt>
<dd class="description"><code>NULL</code> = all destinations, otherwise show jobs for named destination</dd>
<dt>myjobs</dt>
<dd class="description">0 = all users, 1 = mine</dd>
<dt>whichjobs</dt>
<dd class="description"><code>CUPS_WHICHJOBS_ALL</code>, <code>CUPS_WHICHJOBS_ACTIVE</code>, or <code>CUPS_WHICHJOBS_COMPLETED</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of jobs</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">A &quot;whichjobs&quot; value of <code>CUPS_WHICHJOBS_ALL</code> returns all jobs regardless
of state, while <code>CUPS_WHICHJOBS_ACTIVE</code> returns jobs that are
pending, processing, or held and <code>CUPS_WHICHJOBS_COMPLETED</code> returns
jobs that are stopped, canceled, aborted, or completed.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="cupsGetJobs2">cupsGetJobs2</a></h3>
<p class="description">Get the jobs from the specified server.</p>
<p class="code">
int cupsGetJobs2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_job_t **jobs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int myjobs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int whichjobs<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>jobs</dt>
<dd class="description">Job data</dd>
<dt>name</dt>
<dd class="description"><code>NULL</code> = all destinations, otherwise show jobs for named destination</dd>
<dt>myjobs</dt>
<dd class="description">0 = all users, 1 = mine</dd>
<dt>whichjobs</dt>
<dd class="description"><code>CUPS_WHICHJOBS_ALL</code>, <code>CUPS_WHICHJOBS_ACTIVE</code>, or <code>CUPS_WHICHJOBS_COMPLETED</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of jobs</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">A &quot;whichjobs&quot; value of <code>CUPS_WHICHJOBS_ALL</code> returns all jobs regardless
of state, while <code>CUPS_WHICHJOBS_ACTIVE</code> returns jobs that are
pending, processing, or held and <code>CUPS_WHICHJOBS_COMPLETED</code> returns
jobs that are stopped, canceled, aborted, or completed.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsGetNamedDest">cupsGetNamedDest</a></h3>
<p class="description">Get options for the named destination.</p>
<p class="code">
cups_dest_t *cupsGetNamedDest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *instance<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>name</dt>
<dd class="description">Destination name or <code>NULL</code> for the default destination</dd>
<dt>instance</dt>
<dd class="description">Instance name or <code>NULL</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Destination or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is optimized for retrieving a single destination and should
be used instead of <a href="#cupsGetDests"><code>cupsGetDests</code></a> and <a href="#cupsGetDest"><code>cupsGetDest</code></a> when you either
know the name of the destination or want to print to the default destination.
If <code>NULL</code> is returned, the destination does not exist or there is no
default destination.<br>
<br>
If &quot;http&quot; is <code>CUPS_HTTP_DEFAULT</code>, the connection to the default print
server will be used.<br>
<br>
If &quot;name&quot; is <code>NULL</code>, the default printer for the current user will be
returned.<br>
<br>
The returned destination must be freed using <a href="#cupsFreeDests"><code>cupsFreeDests</code></a> with a
&quot;num_dests&quot; value of 1.

</p>
<h3 class="function"><a name="cupsGetOption">cupsGetOption</a></h3>
<p class="description">Get an option value.</p>
<p class="code">
const char *cupsGetOption (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Name of option</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Option value or <code>NULL</code></p>
<h3 class="function"><a name="cupsGetPassword">cupsGetPassword</a></h3>
<p class="description">Get a password from the user.</p>
<p class="code">
const char *cupsGetPassword (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *prompt<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>prompt</dt>
<dd class="description">Prompt string</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Password</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Uses the current password callback function. Returns <code>NULL</code> if the
user does not provide a password.<br>
<br>
Note: The current password callback function is tracked separately for each
thread in a program. Multi-threaded programs that override the setting via
the <a href="#cupsSetPasswordCB"><code>cupsSetPasswordCB</code></a> or <a href="#cupsSetPasswordCB2"><code>cupsSetPasswordCB2</code></a> functions need to
do so in each thread for the same function to be used.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsGetPassword2">cupsGetPassword2</a></h3>
<p class="description">Get a password from the user using the advanced
password callback.</p>
<p class="code">
const char *cupsGetPassword2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *prompt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *method,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>prompt</dt>
<dd class="description">Prompt string</dd>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>method</dt>
<dd class="description">Request method (&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;)</dd>
<dt>resource</dt>
<dd class="description">Resource path</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Password</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Uses the current password callback function. Returns <code>NULL</code> if the
user does not provide a password.<br>
<br>
Note: The current password callback function is tracked separately for each
thread in a program. Multi-threaded programs that override the setting via
the <a href="#cupsSetPasswordCB"><code>cupsSetPasswordCB</code></a> or <a href="#cupsSetPasswordCB2"><code>cupsSetPasswordCB2</code></a> functions need to
do so in each thread for the same function to be used.

</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="cupsGetPrinters">cupsGetPrinters</a></h3>
<p class="description">Get a list of printers from the default server.</p>
<p class="code">
int cupsGetPrinters (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char ***printers<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>printers</dt>
<dd class="description">Printers</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of printers</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated and no longer returns a list of printers - use
<a href="#cupsGetDests"><code>cupsGetDests</code></a> instead.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsGetResponse">cupsGetResponse</a></h3>
<p class="description">Get a response to an IPP request.</p>
<p class="code">
ipp_t *cupsGetResponse (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>resource</dt>
<dd class="description">HTTP resource for POST</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Response or <code>NULL</code> on HTTP error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Use this function to get the response for an IPP request sent using
<a href="#cupsSendRequest"><code>cupsSendRequest</code></a>. For requests that return additional data, use
<a href="#cupsReadResponseData"><code>cupsReadResponseData</code></a> after getting a successful response,
otherwise call <a href="#httpFlush"><code>httpFlush</code></a> to complete the response processing.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.2/macOS 10.12&nbsp;</span><a name="cupsHashData">cupsHashData</a></h3>
<p class="description">Perform a hash function on the given data.</p>
<p class="code">
ssize_t cupsHashData (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *algorithm,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const void *data,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t datalen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned char *hash,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t hashsize<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>algorithm</dt>
<dd class="description">Algorithm name</dd>
<dt>data</dt>
<dd class="description">Data to hash</dd>
<dt>datalen</dt>
<dd class="description">Length of data to hash</dd>
<dt>hash</dt>
<dd class="description">Hash buffer</dd>
<dt>hashsize</dt>
<dd class="description">Size of hash buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Size of hash or -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;algorithm&quot; argument can be any of the registered, non-deprecated IPP
hash algorithms for the &quot;job-password-encryption&quot; attribute, including
&quot;sha&quot; for SHA-1, &quot;sha-256&quot; for SHA2-256, etc.<br>
<br>
The &quot;hash&quot; argument points to a buffer of &quot;hashsize&quot; bytes and should be at
least 64 bytes in length for all of the supported algorithms.<br>
<br>
The returned hash is binary data.

</p>
<h3 class="function"><a name="cupsLangDefault">cupsLangDefault</a></h3>
<p class="description">Return the default language.</p>
<p class="code">
cups_lang_t *cupsLangDefault (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Language data</p>
<h3 class="function"><a name="cupsLangEncoding">cupsLangEncoding</a></h3>
<p class="description">Return the character encoding (us-ascii, etc.)
for the given language.</p>
<p class="code">
const char *cupsLangEncoding (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_lang_t *lang<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>lang</dt>
<dd class="description">Language data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Character encoding</p>
<h3 class="function"><a name="cupsLangFlush">cupsLangFlush</a></h3>
<p class="description">Flush all language data out of the cache.</p>
<p class="code">
void cupsLangFlush (void);</p>
<h3 class="function"><a name="cupsLangFree">cupsLangFree</a></h3>
<p class="description">Free language data.</p>
<p class="code">
void cupsLangFree (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_lang_t *lang<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>lang</dt>
<dd class="description">Language to free</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This does not actually free anything; use <a href="#cupsLangFlush"><code>cupsLangFlush</code></a> for that.</p>
<h3 class="function"><a name="cupsLangGet">cupsLangGet</a></h3>
<p class="description">Get a language.</p>
<p class="code">
cups_lang_t *cupsLangGet (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *language<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>language</dt>
<dd class="description">Language or locale</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Language data</p>
<h3 class="function"><a name="cupsLastError">cupsLastError</a></h3>
<p class="description">Return the last IPP status code received on the current
thread.</p>
<p class="code">
ipp_status_t cupsLastError (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">IPP status code from last request</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsLastErrorString">cupsLastErrorString</a></h3>
<p class="description">Return the last IPP status-message received on the
current thread.</p>
<p class="code">
const char *cupsLastErrorString (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">status-message text from last request</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/macOS 10.10&nbsp;</span><a name="cupsLocalizeDestMedia">cupsLocalizeDestMedia</a></h3>
<p class="description">Get the localized string for a destination media
size.</p>
<p class="code">
const char *cupsLocalizeDestMedia (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned flags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_size_t *size<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>flags</dt>
<dd class="description">Media flags</dd>
<dt>size</dt>
<dd class="description">Media size</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Localized string</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned string is stored in the destination information and will become
invalid if the destination information is deleted.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsLocalizeDestOption">cupsLocalizeDestOption</a></h3>
<p class="description">Get the localized string for a destination
option.</p>
<p class="code">
const char *cupsLocalizeDestOption (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *option<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>option</dt>
<dd class="description">Option to localize</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Localized string</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned string is stored in the destination information and will become
invalid if the destination information is deleted.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsLocalizeDestValue">cupsLocalizeDestValue</a></h3>
<p class="description">Get the localized string for a destination
option+value pair.</p>
<p class="code">
const char *cupsLocalizeDestValue (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *dinfo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *option,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>dinfo</dt>
<dd class="description">Destination information</dd>
<dt>option</dt>
<dd class="description">Option to localize</dd>
<dt>value</dt>
<dd class="description">Value to localize</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Localized string</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned string is stored in the destination information and will become
invalid if the destination information is deleted.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsNotifySubject">cupsNotifySubject</a></h3>
<p class="description">Return the subject for the given notification message.</p>
<p class="code">
char *cupsNotifySubject (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_lang_t *lang,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *event<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>lang</dt>
<dd class="description">Language data</dd>
<dt>event</dt>
<dd class="description">Event data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Subject string or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned string must be freed by the caller using <code>free</code>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsNotifyText">cupsNotifyText</a></h3>
<p class="description">Return the text for the given notification message.</p>
<p class="code">
char *cupsNotifyText (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_lang_t *lang,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *event<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>lang</dt>
<dd class="description">Language data</dd>
<dt>event</dt>
<dd class="description">Event data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Message text or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned string must be freed by the caller using <code>free</code>.

</p>
<h3 class="function"><a name="cupsParseOptions">cupsParseOptions</a></h3>
<p class="description">Parse options from a command-line argument.</p>
<p class="code">
int cupsParseOptions (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *arg,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t **options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>arg</dt>
<dd class="description">Argument to parse</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options found</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of options found</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function converts space-delimited name/value pairs according
to the PAPI text option ABNF specification. Collection values
(&quot;name={a=... b=... c=...}&quot;) are stored with the curley brackets
intact - use <code>cupsParseOptions</code> on the value to extract the
collection attributes.</p>
<h3 class="function"><a name="cupsPrintFile">cupsPrintFile</a></h3>
<p class="description">Print a file to a printer or class on the default server.</p>
<p class="code">
int cupsPrintFile (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *filename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *title,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>filename</dt>
<dd class="description">File to print</dd>
<dt>title</dt>
<dd class="description">Title of job</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Job ID or 0 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="cupsPrintFile2">cupsPrintFile2</a></h3>
<p class="description">Print a file to a printer or class on the specified
server.</p>
<p class="code">
int cupsPrintFile2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *filename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *title,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server</dd>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>filename</dt>
<dd class="description">File to print</dd>
<dt>title</dt>
<dd class="description">Title of job</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Job ID or 0 on error</p>
<h3 class="function"><a name="cupsPrintFiles">cupsPrintFiles</a></h3>
<p class="description">Print one or more files to a printer or class on the
default server.</p>
<p class="code">
int cupsPrintFiles (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_files,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char **files,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *title,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>num_files</dt>
<dd class="description">Number of files</dd>
<dt>files</dt>
<dd class="description">File(s) to print</dd>
<dt>title</dt>
<dd class="description">Title of job</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Job ID or 0 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="cupsPrintFiles2">cupsPrintFiles2</a></h3>
<p class="description">Print one or more files to a printer or class on the
specified server.</p>
<p class="code">
int cupsPrintFiles2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_files,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char **files,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *title,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>num_files</dt>
<dd class="description">Number of files</dd>
<dt>files</dt>
<dd class="description">File(s) to print</dd>
<dt>title</dt>
<dd class="description">Title of job</dd>
<dt>num_options</dt>
<dd class="description">Number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Job ID or 0 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.20/macOS 10.4&nbsp;</span><a name="cupsPutFd">cupsPutFd</a></h3>
<p class="description">Put a file on the server.</p>
<p class="code">
http_status_t cupsPutFd (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int fd<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>resource</dt>
<dd class="description">Resource name</dd>
<dt>fd</dt>
<dd class="description">File descriptor</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP status</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns <code>HTTP_STATUS_CREATED</code> when the file is stored
successfully.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.20/macOS 10.4&nbsp;</span><a name="cupsPutFile">cupsPutFile</a></h3>
<p class="description">Put a file on the server.</p>
<p class="code">
http_status_t cupsPutFile (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *filename<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>resource</dt>
<dd class="description">Resource name</dd>
<dt>filename</dt>
<dd class="description">Filename</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP status</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns <code>HTTP_CREATED</code> when the file is stored
successfully.

</p>
<h3 class="function"><a name="cupsRasterClose">cupsRasterClose</a></h3>
<p class="description">Close a raster stream.</p>
<p class="code">
void cupsRasterClose (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_raster_t *r<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>r</dt>
<dd class="description">Stream to close</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The file descriptor associated with the raster stream must be closed
separately as needed.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="cupsRasterErrorString">cupsRasterErrorString</a></h3>
<p class="description">Return the last error from a raster function.</p>
<p class="code">
const char *cupsRasterErrorString (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Last error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">If there are no recent errors, NULL is returned.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.2&nbsp;</span><a name="cupsRasterInitPWGHeader">cupsRasterInitPWGHeader</a></h3>
<p class="description">Initialize a page header for PWG Raster output.</p>
<p class="code">
int cupsRasterInitPWGHeader (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_page_header2_t *h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;pwg_media_t *media,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *type,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int xdpi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int ydpi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *sides,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *sheet_back<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>h</dt>
<dd class="description">Page header</dd>
<dt>media</dt>
<dd class="description">PWG media information</dd>
<dt>type</dt>
<dd class="description">PWG raster type string</dd>
<dt>xdpi</dt>
<dd class="description">Cross-feed direction (horizontal) resolution</dd>
<dt>ydpi</dt>
<dd class="description">Feed direction (vertical) resolution</dd>
<dt>sides</dt>
<dd class="description">IPP &quot;sides&quot; option value</dd>
<dt>sheet_back</dt>
<dd class="description">Transform for back side or <code>NULL</code> for none</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;media&quot; argument specifies the media to use.<br>
<br>
The &quot;type&quot; argument specifies a &quot;pwg-raster-document-type-supported&quot; value
that controls the color space and bit depth of the raster data.<br>
<br>
The &quot;xres&quot; and &quot;yres&quot; arguments specify the raster resolution in dots per
inch.<br>
<br>
The &quot;sheet_back&quot; argument specifies a &quot;pwg-raster-document-sheet-back&quot; value
to apply for the back side of a page.  Pass <code>NULL</code> for the front side.

</p>
<h3 class="function"><a name="cupsRasterOpen">cupsRasterOpen</a></h3>
<p class="description">Open a raster stream using a file descriptor.</p>
<p class="code">
cups_raster_t *cupsRasterOpen (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int fd,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_mode_t mode<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fd</dt>
<dd class="description">File descriptor</dd>
<dt>mode</dt>
<dd class="description">Mode - <code>CUPS_RASTER_READ</code>,
<code>CUPS_RASTER_WRITE</code>,
<code>CUPS_RASTER_WRITE_COMPRESSED</code>,
or <code>CUPS_RASTER_WRITE_PWG</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New stream</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function associates a raster stream with the given file descriptor.
For most printer driver filters, &quot;fd&quot; will be 0 (stdin).  For most raster
image processor (RIP) filters that generate raster data, &quot;fd&quot; will be 1
(stdout).<br>
<br>
When writing raster data, the <code>CUPS_RASTER_WRITE</code>,
<code>CUPS_RASTER_WRITE_COMPRESS</code>, or <code>CUPS_RASTER_WRITE_PWG</code> mode can
be used - compressed and PWG output is generally 25-50% smaller but adds a
100-300% execution time overhead.</p>
<h3 class="function"><a name="cupsRasterOpenIO">cupsRasterOpenIO</a></h3>
<p class="description">Open a raster stream using a callback function.</p>
<p class="code">
cups_raster_t *cupsRasterOpenIO (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_raster_iocb_t iocb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *ctx,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_mode_t mode<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>iocb</dt>
<dd class="description">Read/write callback</dd>
<dt>ctx</dt>
<dd class="description">Context pointer for callback</dd>
<dt>mode</dt>
<dd class="description">Mode - <code>CUPS_RASTER_READ</code>,
<code>CUPS_RASTER_WRITE</code>,
<code>CUPS_RASTER_WRITE_COMPRESSED</code>,
or <code>CUPS_RASTER_WRITE_PWG</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New stream</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function associates a raster stream with the given callback function and
context pointer.<br>
<br>
When writing raster data, the <code>CUPS_RASTER_WRITE</code>,
<code>CUPS_RASTER_WRITE_COMPRESS</code>, or <code>CUPS_RASTER_WRITE_PWG</code> mode can
be used - compressed and PWG output is generally 25-50% smaller but adds a
100-300% execution time overhead.</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="cupsRasterReadHeader">cupsRasterReadHeader</a></h3>
<p class="description">Read a raster page header and store it in a
version 1 page header structure.</p>
<p class="code">
unsigned cupsRasterReadHeader (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_raster_t *r,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_page_header_t *h<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>r</dt>
<dd class="description">Raster stream</dd>
<dt>h</dt>
<dd class="description">Pointer to header data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure/end-of-file</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated. Use <a href="#cupsRasterReadHeader2"><code>cupsRasterReadHeader2</code></a> instead.<br>
<br>
Version 1 page headers were used in CUPS 1.0 and 1.1 and contain a subset
of the version 2 page header data. This function handles reading version 2
page headers and copying only the version 1 data into the provided buffer.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsRasterReadHeader2">cupsRasterReadHeader2</a></h3>
<p class="description">Read a raster page header and store it in a
version 2 page header structure.</p>
<p class="code">
unsigned cupsRasterReadHeader2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_raster_t *r,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_page_header2_t *h<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>r</dt>
<dd class="description">Raster stream</dd>
<dt>h</dt>
<dd class="description">Pointer to header data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure/end-of-file</p>
<h3 class="function"><a name="cupsRasterReadPixels">cupsRasterReadPixels</a></h3>
<p class="description">Read raster pixels.</p>
<p class="code">
unsigned cupsRasterReadPixels (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_raster_t *r,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned char *p,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned len<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>r</dt>
<dd class="description">Raster stream</dd>
<dt>p</dt>
<dd class="description">Pointer to pixel buffer</dd>
<dt>len</dt>
<dd class="description">Number of bytes to read</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes read</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">For best performance, filters should read one or more whole lines.
The &quot;cupsBytesPerLine&quot; value from the page header can be used to allocate
the line buffer and as the number of bytes to read.</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="cupsRasterWriteHeader">cupsRasterWriteHeader</a></h3>
<p class="description">Write a raster page header from a version 1 page
header structure.</p>
<p class="code">
unsigned cupsRasterWriteHeader (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_raster_t *r,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_page_header_t *h<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>r</dt>
<dd class="description">Raster stream</dd>
<dt>h</dt>
<dd class="description">Raster page header</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated. Use <a href="#cupsRasterWriteHeader2"><code>cupsRasterWriteHeader2</code></a> instead.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsRasterWriteHeader2">cupsRasterWriteHeader2</a></h3>
<p class="description">Write a raster page header from a version 2
page header structure.</p>
<p class="code">
unsigned cupsRasterWriteHeader2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_raster_t *r,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_page_header2_t *h<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>r</dt>
<dd class="description">Raster stream</dd>
<dt>h</dt>
<dd class="description">Raster page header</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The page header can be initialized using <a href="#cupsRasterInterpretPPD"><code>cupsRasterInterpretPPD</code></a>.

</p>
<h3 class="function"><a name="cupsRasterWritePixels">cupsRasterWritePixels</a></h3>
<p class="description">Write raster pixels.</p>
<p class="code">
unsigned cupsRasterWritePixels (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_raster_t *r,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned char *p,<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsigned len<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>r</dt>
<dd class="description">Raster stream</dd>
<dt>p</dt>
<dd class="description">Bytes to write</dd>
<dt>len</dt>
<dd class="description">Number of bytes to write</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes written</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">For best performance, filters should write one or more whole lines.
The &quot;cupsBytesPerLine&quot; value from the page header can be used to allocate
the line buffer and as the number of bytes to write.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsReadResponseData">cupsReadResponseData</a></h3>
<p class="description">Read additional data after the IPP response.</p>
<p class="code">
ssize_t cupsReadResponseData (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>buffer</dt>
<dd class="description">Buffer to use</dd>
<dt>length</dt>
<dd class="description">Number of bytes to read</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Bytes read, 0 on EOF, -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is used after <a href="#cupsGetResponse"><code>cupsGetResponse</code></a> to read the PPD or document
files from <code>CUPS_GET_PPD</code> and <code>CUPS_GET_DOCUMENT</code> requests,
respectively.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="cupsRemoveDest">cupsRemoveDest</a></h3>
<p class="description">Remove a destination from the destination list.</p>
<p class="code">
int cupsRemoveDest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *instance,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_dests,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t **dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>instance</dt>
<dd class="description">Instance name or <code>NULL</code></dd>
<dt>num_dests</dt>
<dd class="description">Number of destinations</dd>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New number of destinations</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Removing a destination/instance does not delete the class or printer
queue, merely the lpoptions for that destination/instance.  Use the
<a href="#cupsSetDests"><code>cupsSetDests</code></a> or <a href="#cupsSetDests2"><code>cupsSetDests2</code></a> functions to save the new
options for the user.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsRemoveOption">cupsRemoveOption</a></h3>
<p class="description">Remove an option from an option array.</p>
<p class="code">
int cupsRemoveOption (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t **options<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Option name</dd>
<dt>num_options</dt>
<dd class="description">Current number of options</dd>
<dt>options</dt>
<dd class="description">Options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New number of options</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsSendRequest">cupsSendRequest</a></h3>
<p class="description">Send an IPP request.</p>
<p class="code">
http_status_t cupsSendRequest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *request,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>request</dt>
<dd class="description">IPP request</dd>
<dt>resource</dt>
<dd class="description">Resource path</dd>
<dt>length</dt>
<dd class="description">Length of data to follow or <code>CUPS_LENGTH_VARIABLE</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Initial HTTP status</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Use <a href="#cupsWriteRequestData"><code>cupsWriteRequestData</code></a> to write any additional data (document, PPD
file, etc.) for the request, <a href="#cupsGetResponse"><code>cupsGetResponse</code></a> to get the IPP response,
and <a href="#cupsReadResponseData"><code>cupsReadResponseData</code></a> to read any additional data following the
response. Only one request can be sent/queued at a time per <code>http_t</code>
connection.<br>
<br>
Returns the initial HTTP status code, which will be <code>HTTP_STATUS_CONTINUE</code>
on a successful send of the request.<br>
<br>
Note: Unlike <a href="#cupsDoFileRequest"><code>cupsDoFileRequest</code></a>, <a href="#cupsDoIORequest"><code>cupsDoIORequest</code></a>, and
<a href="#cupsDoRequest"><code>cupsDoRequest</code></a>, the request is NOT freed with <a href="#ippDelete"><code>ippDelete</code></a>.

</p>
<h3 class="function"><a name="cupsServer">cupsServer</a></h3>
<p class="description">Return the hostname/address of the current server.</p>
<p class="code">
const char *cupsServer (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Server name</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The default server comes from the CUPS_SERVER environment variable, then the
~/.cups/client.conf file, and finally the /etc/cups/client.conf file. If not
set, the default is the local system - either &quot;localhost&quot; or a domain socket
path.<br>
<br>
The returned value can be a fully-qualified hostname, a numeric IPv4 or IPv6
address, or a domain socket pathname.<br>
<br>
Note: The current server is tracked separately for each thread in a program.
Multi-threaded programs that override the server via the
<a href="#cupsSetServer"><code>cupsSetServer</code></a> function need to do so in each thread for the same
server to be used.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.5/macOS 10.7&nbsp;</span><a name="cupsSetClientCertCB">cupsSetClientCertCB</a></h3>
<p class="description">Set the client certificate callback.</p>
<p class="code">
void cupsSetClientCertCB (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_client_cert_cb_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *user_data<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>cb</dt>
<dd class="description">Callback function</dd>
<dt>user_data</dt>
<dd class="description">User data pointer</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Pass <code>NULL</code> to restore the default callback.<br>
<br>
Note: The current certificate callback is tracked separately for each thread
in a program. Multi-threaded programs that override the callback need to do
so in each thread for the same callback to be used.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.5/macOS 10.7&nbsp;</span><a name="cupsSetCredentials">cupsSetCredentials</a></h3>
<p class="description">Set the default credentials to be used for SSL/TLS
connections.</p>
<p class="code">
int cupsSetCredentials (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>credentials</dt>
<dd class="description">Array of credentials</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Note: The default credentials are tracked separately for each thread in a
program. Multi-threaded programs that override the setting need to do so in
each thread for the same setting to be used.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="cupsSetDefaultDest">cupsSetDefaultDest</a></h3>
<p class="description">Set the default destination.</p>
<p class="code">
void cupsSetDefaultDest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *instance,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_dests,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>instance</dt>
<dd class="description">Instance name or <code>NULL</code></dd>
<dt>num_dests</dt>
<dd class="description">Number of destinations</dd>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h3 class="function"><a name="cupsSetDests">cupsSetDests</a></h3>
<p class="description">Save the list of destinations for the default server.</p>
<p class="code">
void cupsSetDests (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_dests,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>num_dests</dt>
<dd class="description">Number of destinations</dd>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function saves the destinations to /etc/cups/lpoptions when run
as root and ~/.cups/lpoptions when run as a normal user.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="cupsSetDests2">cupsSetDests2</a></h3>
<p class="description">Save the list of destinations for the specified server.</p>
<p class="code">
int cupsSetDests2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_dests,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dests<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>num_dests</dt>
<dd class="description">Number of destinations</dd>
<dt>dests</dt>
<dd class="description">Destinations</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function saves the destinations to /etc/cups/lpoptions when run
as root and ~/.cups/lpoptions when run as a normal user.

</p>
<h3 class="function"><a name="cupsSetEncryption">cupsSetEncryption</a></h3>
<p class="description">Set the encryption preference.</p>
<p class="code">
void cupsSetEncryption (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_encryption_t e<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>e</dt>
<dd class="description">New encryption preference</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The default encryption setting comes from the CUPS_ENCRYPTION
environment variable, then the ~/.cups/client.conf file, and finally the
/etc/cups/client.conf file. If not set, the default is
<code>HTTP_ENCRYPTION_IF_REQUESTED</code>.<br>
<br>
Note: The current encryption setting is tracked separately for each thread
in a program. Multi-threaded programs that override the setting need to do
so in each thread for the same setting to be used.</p>
<h3 class="function"><a name="cupsSetPasswordCB">cupsSetPasswordCB</a></h3>
<p class="description">Set the password callback for CUPS.</p>
<p class="code">
void cupsSetPasswordCB (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_password_cb_t cb<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>cb</dt>
<dd class="description">Callback function</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Pass <code>NULL</code> to restore the default (console) password callback, which
reads the password from the console. Programs should call either this
function or <a href="#cupsSetPasswordCB2"><code>cupsSetPasswordCB2</code></a>, as only one callback can be registered
by a program per thread.<br>
<br>
Note: The current password callback is tracked separately for each thread
in a program. Multi-threaded programs that override the callback need to do
so in each thread for the same callback to be used.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsSetPasswordCB2">cupsSetPasswordCB2</a></h3>
<p class="description">Set the advanced password callback for CUPS.</p>
<p class="code">
void cupsSetPasswordCB2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_password_cb2_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *user_data<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>cb</dt>
<dd class="description">Callback function</dd>
<dt>user_data</dt>
<dd class="description">User data pointer</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Pass <code>NULL</code> to restore the default (console) password callback, which
reads the password from the console. Programs should call either this
function or <a href="#cupsSetPasswordCB2"><code>cupsSetPasswordCB2</code></a>, as only one callback can be registered
by a program per thread.<br>
<br>
Note: The current password callback is tracked separately for each thread
in a program. Multi-threaded programs that override the callback need to do
so in each thread for the same callback to be used.

</p>
<h3 class="function"><a name="cupsSetServer">cupsSetServer</a></h3>
<p class="description">Set the default server name and port.</p>
<p class="code">
void cupsSetServer (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *server<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>server</dt>
<dd class="description">Server name</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;server&quot; string can be a fully-qualified hostname, a numeric
IPv4 or IPv6 address, or a domain socket pathname. Hostnames and numeric IP
addresses can be optionally followed by a colon and port number to override
the default port 631, e.g. &quot;hostname:8631&quot;. Pass <code>NULL</code> to restore the
default server name and port.<br>
<br>
Note: The current server is tracked separately for each thread in a program.
Multi-threaded programs that override the server need to do so in each
thread for the same server to be used.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.5/macOS 10.7&nbsp;</span><a name="cupsSetServerCertCB">cupsSetServerCertCB</a></h3>
<p class="description">Set the server certificate callback.</p>
<p class="code">
void cupsSetServerCertCB (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_server_cert_cb_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *user_data<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>cb</dt>
<dd class="description">Callback function</dd>
<dt>user_data</dt>
<dd class="description">User data pointer</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Pass <code>NULL</code> to restore the default callback.<br>
<br>
Note: The current credentials callback is tracked separately for each thread
in a program. Multi-threaded programs that override the callback need to do
so in each thread for the same callback to be used.

</p>
<h3 class="function"><a name="cupsSetUser">cupsSetUser</a></h3>
<p class="description">Set the default user name.</p>
<p class="code">
void cupsSetUser (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *user<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>user</dt>
<dd class="description">User name</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Pass <code>NULL</code> to restore the default user name.<br>
<br>
Note: The current user name is tracked separately for each thread in a
program. Multi-threaded programs that override the user name need to do so
in each thread for the same user name to be used.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="cupsSetUserAgent">cupsSetUserAgent</a></h3>
<p class="description">Set the default HTTP User-Agent string.</p>
<p class="code">
void cupsSetUserAgent (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *user_agent<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>user_agent</dt>
<dd class="description">User-Agent string or <code>NULL</code></dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Setting the string to NULL forces the default value containing the CUPS
version, IPP version, and operating system version and architecture.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="cupsStartDestDocument">cupsStartDestDocument</a></h3>
<p class="description">Start a new document.</p>
<p class="code">
http_status_t cupsStartDestDocument (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dest_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_dinfo_t *info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int job_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *docname,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *format,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_option_t *options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int last_document<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to destination</dd>
<dt>dest</dt>
<dd class="description">Destination</dd>
<dt>info</dt>
<dd class="description">Destination information</dd>
<dt>job_id</dt>
<dd class="description">Job ID</dd>
<dt>docname</dt>
<dd class="description">Document name</dd>
<dt>format</dt>
<dd class="description">Document format</dd>
<dt>num_options</dt>
<dd class="description">Number of document options</dd>
<dt>options</dt>
<dd class="description">Document options</dd>
<dt>last_document</dt>
<dd class="description">1 if this is the last document</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of document creation</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">&quot;job_id&quot; is the job ID returned by cupsCreateDestJob.  &quot;docname&quot; is the name
of the document/file being printed, &quot;format&quot; is the MIME media type for the
document (see CUPS_FORMAT_xxx constants), and &quot;num_options&quot; and &quot;options&quot;
are the options do be applied to the document. &quot;last_document&quot; should be 1
if this is the last document to be submitted in the job.  Returns
<code>HTTP_CONTINUE</code> on success.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsStartDocument">cupsStartDocument</a></h3>
<p class="description">Add a document to a job created with cupsCreateJob().</p>
<p class="code">
http_status_t cupsStartDocument (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int job_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *docname,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *format,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int last_document<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>name</dt>
<dd class="description">Destination name</dd>
<dt>job_id</dt>
<dd class="description">Job ID from <a href="#cupsCreateJob"><code>cupsCreateJob</code></a></dd>
<dt>docname</dt>
<dd class="description">Name of document</dd>
<dt>format</dt>
<dd class="description">MIME type or <code>CUPS_FORMAT_foo</code></dd>
<dt>last_document</dt>
<dd class="description">1 for last document in job, 0 otherwise</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP status of request</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Use <a href="#cupsWriteRequestData"><code>cupsWriteRequestData</code></a> to write data for the document and
<a href="#cupsFinishDocument"><code>cupsFinishDocument</code></a> to finish the document and get the submission status.<br>
<br>
The MIME type constants <code>CUPS_FORMAT_AUTO</code>, <code>CUPS_FORMAT_PDF</code>,
<code>CUPS_FORMAT_POSTSCRIPT</code>, <code>CUPS_FORMAT_RAW</code>, and
<code>CUPS_FORMAT_TEXT</code> are provided for the &quot;format&quot; argument, although
any supported MIME type string can be supplied.

</p>
<h3 class="function"><a name="cupsTempFd">cupsTempFd</a></h3>
<p class="description">Creates a temporary file.</p>
<p class="code">
int cupsTempFd (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *filename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int len<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>filename</dt>
<dd class="description">Pointer to buffer</dd>
<dt>len</dt>
<dd class="description">Size of buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New file descriptor or -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The temporary filename is returned in the filename buffer.
The temporary file is opened for reading and writing.</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="cupsTempFile">cupsTempFile</a></h3>
<p class="description">Generates a temporary filename.</p>
<p class="code">
char *cupsTempFile (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *filename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int len<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>filename</dt>
<dd class="description">Pointer to buffer</dd>
<dt>len</dt>
<dd class="description">Size of buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Filename or <code>NULL</code> on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The temporary filename is returned in the filename buffer.
This function is deprecated and will no longer generate a temporary
filename - use <a href="#cupsTempFd"><code>cupsTempFd</code></a> or <a href="#cupsTempFile2"><code>cupsTempFile2</code></a> instead.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="cupsTempFile2">cupsTempFile2</a></h3>
<p class="description">Creates a temporary CUPS file.</p>
<p class="code">
cups_file_t *cupsTempFile2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *filename,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int len<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>filename</dt>
<dd class="description">Pointer to buffer</dd>
<dt>len</dt>
<dd class="description">Size of buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">CUPS file or <code>NULL</code> on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The temporary filename is returned in the filename buffer.
The temporary file is opened for writing.

</p>
<h3 class="function"><a name="cupsUTF32ToUTF8">cupsUTF32ToUTF8</a></h3>
<p class="description">Convert UTF-32 to UTF-8.</p>
<p class="code">
int cupsUTF32ToUTF8 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_utf8_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const cups_utf32_t *src,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int maxout<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dest</dt>
<dd class="description">Target string</dd>
<dt>src</dt>
<dd class="description">Source string</dd>
<dt>maxout</dt>
<dd class="description">Max output</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Count or -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">32-bit UTF-32 (actually 21-bit) maps to UTF-8 as follows...<br>
<br>
UTF-32 char     UTF-8 char(s)
--------------------------------------------------
0 to 127 = 0xxxxxxx (US-ASCII)
128 to 2047 = 110xxxxx 10yyyyyy
2048 to 65535 = 1110xxxx 10yyyyyy 10zzzzzz
&gt; 65535 = 11110xxx 10yyyyyy 10zzzzzz 10xxxxxx<br>
<br>
UTF-32 prohibits chars beyond Plane 16 (&gt; 0x10ffff) in UCS-4,
which would convert to five- or six-octet UTF-8 sequences...</p>
<h3 class="function"><a name="cupsUTF8ToCharset">cupsUTF8ToCharset</a></h3>
<p class="description">Convert UTF-8 to legacy character set.</p>
<p class="code">
int cupsUTF8ToCharset (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const cups_utf8_t *src,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int maxout,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const cups_encoding_t encoding<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dest</dt>
<dd class="description">Target string</dd>
<dt>src</dt>
<dd class="description">Source string</dd>
<dt>maxout</dt>
<dd class="description">Max output</dd>
<dt>encoding</dt>
<dd class="description">Encoding</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Count or -1 on error</p>
<h3 class="function"><a name="cupsUTF8ToUTF32">cupsUTF8ToUTF32</a></h3>
<p class="description">Convert UTF-8 to UTF-32.</p>
<p class="code">
int cupsUTF8ToUTF32 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_utf32_t *dest,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const cups_utf8_t *src,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int maxout<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dest</dt>
<dd class="description">Target string</dd>
<dt>src</dt>
<dd class="description">Source string</dd>
<dt>maxout</dt>
<dd class="description">Max output</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Count or -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">32-bit UTF-32 (actually 21-bit) maps to UTF-8 as follows...<br>
<br>
UTF-32 char     UTF-8 char(s)
--------------------------------------------------
0 to 127 = 0xxxxxxx (US-ASCII)
128 to 2047 = 110xxxxx 10yyyyyy
2048 to 65535 = 1110xxxx 10yyyyyy 10zzzzzz
&gt; 65535 = 11110xxx 10yyyyyy 10zzzzzz 10xxxxxx<br>
<br>
UTF-32 prohibits chars beyond Plane 16 (&gt; 0x10ffff) in UCS-4,
which would convert to five- or six-octet UTF-8 sequences...</p>
<h3 class="function"><a name="cupsUser">cupsUser</a></h3>
<p class="description">Return the current user's name.</p>
<p class="code">
const char *cupsUser (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">User name</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Note: The current user name is tracked separately for each thread in a
program. Multi-threaded programs that override the user name with the
<a href="#cupsSetUser"><code>cupsSetUser</code></a> function need to do so in each thread for the same user
name to be used.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="cupsUserAgent">cupsUserAgent</a></h3>
<p class="description">Return the default HTTP User-Agent string.</p>
<p class="code">
const char *cupsUserAgent (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">User-Agent string</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="cupsWriteRequestData">cupsWriteRequestData</a></h3>
<p class="description">Write additional data after an IPP request.</p>
<p class="code">
http_status_t cupsWriteRequestData (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection to server or <code>CUPS_HTTP_DEFAULT</code></dd>
<dt>buffer</dt>
<dd class="description">Bytes to write</dd>
<dt>length</dt>
<dd class="description">Number of bytes to write</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description"><code>HTTP_STATUS_CONTINUE</code> if OK or HTTP status on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is used after <a href="#cupsSendRequest"><code>cupsSendRequest</code></a> to provide a PPD and
after <a href="#cupsStartDocument"><code>cupsStartDocument</code></a> to provide a document file.

</p>
<h3 class="function"><a name="get_error_buffer">get_error_buffer</a></h3>
<p class="description">Return a pointer to thread local storage.</p>
<p class="code">
_cups_raster_error_t *get_error_buffer (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Pointer to error buffer</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpAcceptConnection">httpAcceptConnection</a></h3>
<p class="description">Accept a new HTTP client connection from the
specified listening socket.</p>
<p class="code">
http_t *httpAcceptConnection (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int fd,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int blocking<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fd</dt>
<dd class="description">Listen socket file descriptor</dd>
<dt>blocking</dt>
<dd class="description">1 if the connection should be
blocking, 0 otherwise</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP connection or <code>NULL</code></p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.5/macOS 10.7&nbsp;</span><a name="httpAddCredential">httpAddCredential</a></h3>
<p class="description">Allocates and adds a single credential to an array.</p>
<p class="code">
int httpAddCredential (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const void *data,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t datalen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>credentials</dt>
<dd class="description">Credentials array</dd>
<dt>data</dt>
<dd class="description">PEM-encoded X.509 data</dd>
<dt>datalen</dt>
<dd class="description">Length of data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Use <code>cupsArrayNew(NULL, NULL)</code> to create a credentials array.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrAny">httpAddrAny</a></h3>
<p class="description">Check for the &quot;any&quot; address.</p>
<p class="code">
int httpAddrAny (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const http_addr_t *addr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Address to check</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if &quot;any&quot;, 0 otherwise</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpAddrClose">httpAddrClose</a></h3>
<p class="description">Close a socket created by <a href="#httpAddrConnect"><code>httpAddrConnect</code></a> or
<a href="#httpAddrListen"><code>httpAddrListen</code></a>.</p>
<p class="code">
int httpAddrClose (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addr_t *addr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int fd<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Listen address or <code>NULL</code></dd>
<dt>fd</dt>
<dd class="description">Socket file descriptor</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Pass <code>NULL</code> for sockets created with <a href="#httpAddrConnect"><code>httpAddrConnect</code></a> and the
listen address for sockets created with <a href="#httpAddrListen"><code>httpAddrListen</code></a>. This will
ensure that domain sockets are removed when closed.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrConnect">httpAddrConnect</a></h3>
<p class="description">Connect to any of the addresses in the list.</p>
<p class="code">
http_addrlist_t *httpAddrConnect (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addrlist_t *addrlist,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *sock<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addrlist</dt>
<dd class="description">List of potential addresses</dd>
<dt>sock</dt>
<dd class="description">Socket</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Connected address or NULL on failure</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpAddrConnect2">httpAddrConnect2</a></h3>
<p class="description">Connect to any of the addresses in the list with a
timeout and optional cancel.</p>
<p class="code">
http_addrlist_t *httpAddrConnect2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addrlist_t *addrlist,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *sock,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int msec,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *cancel<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addrlist</dt>
<dd class="description">List of potential addresses</dd>
<dt>sock</dt>
<dd class="description">Socket</dd>
<dt>msec</dt>
<dd class="description">Timeout in milliseconds</dd>
<dt>cancel</dt>
<dd class="description">Pointer to &quot;cancel&quot; variable</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Connected address or NULL on failure</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpAddrCopyList">httpAddrCopyList</a></h3>
<p class="description">Copy an address list.</p>
<p class="code">
http_addrlist_t *httpAddrCopyList (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addrlist_t *src<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>src</dt>
<dd class="description">Source address list</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New address list or <code>NULL</code> on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrEqual">httpAddrEqual</a></h3>
<p class="description">Compare two addresses.</p>
<p class="code">
int httpAddrEqual (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const http_addr_t *addr1,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const http_addr_t *addr2<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr1</dt>
<dd class="description">First address</dd>
<dt>addr2</dt>
<dd class="description">Second address</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if equal, 0 if not</p>
<h3 class="function"><a name="httpAddrFamily">httpAddrFamily</a></h3>
<p class="description">Get the address family of an address.</p>
<p class="code">
int httpAddrFamily (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addr_t *addr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Address</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Address family</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrFreeList">httpAddrFreeList</a></h3>
<p class="description">Free an address list.</p>
<p class="code">
void httpAddrFreeList (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addrlist_t *addrlist<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addrlist</dt>
<dd class="description">Address list to free</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrGetList">httpAddrGetList</a></h3>
<p class="description">Get a list of addresses for a hostname.</p>
<p class="code">
http_addrlist_t *httpAddrGetList (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *hostname,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int family,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *service<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>hostname</dt>
<dd class="description">Hostname, IP address, or NULL for passive listen address</dd>
<dt>family</dt>
<dd class="description">Address family or AF_UNSPEC</dd>
<dt>service</dt>
<dd class="description">Service name or port number</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">List of addresses or NULL</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrLength">httpAddrLength</a></h3>
<p class="description">Return the length of the address in bytes.</p>
<p class="code">
int httpAddrLength (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const http_addr_t *addr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Address</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Length in bytes</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpAddrListen">httpAddrListen</a></h3>
<p class="description">Create a listening socket bound to the specified
address and port.</p>
<p class="code">
int httpAddrListen (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addr_t *addr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int port<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Address to bind to</dd>
<dt>port</dt>
<dd class="description">Port number to bind to</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Socket or -1 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrLocalhost">httpAddrLocalhost</a></h3>
<p class="description">Check for the local loopback address.</p>
<p class="code">
int httpAddrLocalhost (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const http_addr_t *addr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Address to check</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if local host, 0 otherwise</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrLookup">httpAddrLookup</a></h3>
<p class="description">Lookup the hostname associated with the address.</p>
<p class="code">
char *httpAddrLookup (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const http_addr_t *addr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int namelen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Address to lookup</dd>
<dt>name</dt>
<dd class="description">Host name buffer</dd>
<dt>namelen</dt>
<dd class="description">Size of name buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Host name</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpAddrPort">httpAddrPort</a></h3>
<p class="description">Get the port number associated with an address.</p>
<p class="code">
int httpAddrPort (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addr_t *addr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Address</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Port number</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAddrString">httpAddrString</a></h3>
<p class="description">Convert an address to a numeric string.</p>
<p class="code">
char *httpAddrString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const http_addr_t *addr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *s,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int slen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>addr</dt>
<dd class="description">Address to convert</dd>
<dt>s</dt>
<dd class="description">String buffer</dd>
<dt>slen</dt>
<dd class="description">Length of string</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Numeric address string</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAssembleURI">httpAssembleURI</a></h3>
<p class="description">Assemble a uniform resource identifier from its
components.</p>
<p class="code">
http_uri_status_t httpAssembleURI (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_uri_coding_t encoding,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *uri,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int urilen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *scheme,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *host,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int port,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>encoding</dt>
<dd class="description">Encoding flags</dd>
<dt>uri</dt>
<dd class="description">URI buffer</dd>
<dt>urilen</dt>
<dd class="description">Size of URI buffer</dd>
<dt>scheme</dt>
<dd class="description">Scheme name</dd>
<dt>username</dt>
<dd class="description">Username</dd>
<dt>host</dt>
<dd class="description">Hostname or address</dd>
<dt>port</dt>
<dd class="description">Port number</dd>
<dt>resource</dt>
<dd class="description">Resource</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">URI status</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function escapes reserved characters in the URI depending on the
value of the &quot;encoding&quot; argument.  You should use this function in
place of traditional string functions whenever you need to create a
URI string.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpAssembleURIf">httpAssembleURIf</a></h3>
<p class="description">Assemble a uniform resource identifier from its
components with a formatted resource.</p>
<p class="code">
http_uri_status_t httpAssembleURIf (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_uri_coding_t encoding,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *uri,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int urilen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *scheme,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *host,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int port,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resourcef,<br>
&nbsp;&nbsp;&nbsp;&nbsp;...<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>encoding</dt>
<dd class="description">Encoding flags</dd>
<dt>uri</dt>
<dd class="description">URI buffer</dd>
<dt>urilen</dt>
<dd class="description">Size of URI buffer</dd>
<dt>scheme</dt>
<dd class="description">Scheme name</dd>
<dt>username</dt>
<dd class="description">Username</dd>
<dt>host</dt>
<dd class="description">Hostname or address</dd>
<dt>port</dt>
<dd class="description">Port number</dd>
<dt>resourcef</dt>
<dd class="description">Printf-style resource</dd>
<dt>...</dt>
<dd class="description">Additional arguments as needed</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">URI status</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function creates a formatted version of the resource string
argument &quot;resourcef&quot; and escapes reserved characters in the URI
depending on the value of the &quot;encoding&quot; argument.  You should use
this function in place of traditional string functions whenever
you need to create a URI string.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpAssembleUUID">httpAssembleUUID</a></h3>
<p class="description">Assemble a name-based UUID URN conforming to RFC 4122.</p>
<p class="code">
char *httpAssembleUUID (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *server,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int port,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int number,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t bufsize<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>server</dt>
<dd class="description">Server name</dd>
<dt>port</dt>
<dd class="description">Port number</dd>
<dt>name</dt>
<dd class="description">Object name or NULL</dd>
<dt>number</dt>
<dd class="description">Object number or 0</dd>
<dt>buffer</dt>
<dd class="description">String buffer</dd>
<dt>bufsize</dt>
<dd class="description">Size of buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">UUID string</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function creates a unique 128-bit identifying number using the server
name, port number, random data, and optionally an object name and/or object
number.  The result is formatted as a UUID URN as defined in RFC 4122.<br>
<br>
The buffer needs to be at least 46 bytes in size.

</p>
<h3 class="function"><a name="httpBlocking">httpBlocking</a></h3>
<p class="description">Set blocking/non-blocking behavior on a connection.</p>
<p class="code">
void httpBlocking (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int b<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>b</dt>
<dd class="description">1 = blocking, 0 = non-blocking</dd>
</dl>
<h3 class="function"><a name="httpCheck">httpCheck</a></h3>
<p class="description">Check to see if there is a pending response from the server.</p>
<p class="code">
int httpCheck (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 = no data, 1 = data available</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="httpClearCookie">httpClearCookie</a></h3>
<p class="description">Clear the cookie value(s).</p>
<p class="code">
void httpClearCookie (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h3 class="function"><a name="httpClearFields">httpClearFields</a></h3>
<p class="description">Clear HTTP request fields.</p>
<p class="code">
void httpClearFields (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h3 class="function"><a name="httpClose">httpClose</a></h3>
<p class="description">Close an HTTP connection.</p>
<p class="code">
void httpClose (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpCompareCredentials">httpCompareCredentials</a></h3>
<p class="description">Compare two sets of X.509 credentials.</p>
<p class="code">
int httpCompareCredentials (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *cred1,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *cred2<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>cred1</dt>
<dd class="description">First set of X.509 credentials</dd>
<dt>cred2</dt>
<dd class="description">Second set of X.509 credentials</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if they match, 0 if they do not</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpConnect">httpConnect</a></h3>
<p class="description">Connect to a HTTP server.</p>
<p class="code">
http_t *httpConnect (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *host,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int port<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>host</dt>
<dd class="description">Host to connect to</dd>
<dt>port</dt>
<dd class="description">Port number</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New HTTP connection</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated - use <a href="#httpConnect2"><code>httpConnect2</code></a> instead.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpConnect2">httpConnect2</a></h3>
<p class="description">Connect to a HTTP server.</p>
<p class="code">
http_t *httpConnect2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *host,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int port,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_addrlist_t *addrlist,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int family,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_encryption_t encryption,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int blocking,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int msec,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *cancel<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>host</dt>
<dd class="description">Host to connect to</dd>
<dt>port</dt>
<dd class="description">Port number</dd>
<dt>addrlist</dt>
<dd class="description">List of addresses or NULL to lookup</dd>
<dt>family</dt>
<dd class="description">Address family to use or <code>AF_UNSPEC</code> for any</dd>
<dt>encryption</dt>
<dd class="description">Type of encryption to use</dd>
<dt>blocking</dt>
<dd class="description">1 for blocking connection, 0 for non-blocking</dd>
<dt>msec</dt>
<dd class="description">Connection timeout in milliseconds, 0 means don't connect</dd>
<dt>cancel</dt>
<dd class="description">Pointer to &quot;cancel&quot; variable</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New HTTP connection</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpConnectEncrypt">httpConnectEncrypt</a></h3>
<p class="description">Connect to a HTTP server using encryption.</p>
<p class="code">
http_t *httpConnectEncrypt (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *host,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int port,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_encryption_t encryption<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>host</dt>
<dd class="description">Host to connect to</dd>
<dt>port</dt>
<dd class="description">Port number</dd>
<dt>encryption</dt>
<dd class="description">Type of encryption to use</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New HTTP connection</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is now deprecated. Please use the <a href="#httpConnect2"><code>httpConnect2</code></a> function
instead.

</p>
<h3 class="function"><a name="httpCopyCredentials">httpCopyCredentials</a></h3>
<p class="description">Local functions...</p>
<p class="code">
int httpCopyCredentials (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t **credentials<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dt>credentials</dt>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Stubs for when TLS is not supported/available</p>
<h3 class="function"><a name="httpCredentialsAreValidForName">httpCredentialsAreValidForName</a></h3>
<p class="description"></p>
<p class="code">
int httpCredentialsAreValidForName (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *common_name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>credentials</dt>
<dt>common_name</dt>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description"></p>
<h3 class="function"><a name="httpCredentialsGetExpiration">httpCredentialsGetExpiration</a></h3>
<p class="description"></p>
<p class="code">
time_t httpCredentialsGetExpiration (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>credentials</dt>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description"></p>
<h3 class="function"><a name="httpCredentialsGetTrust">httpCredentialsGetTrust</a></h3>
<p class="description"></p>
<p class="code">
http_trust_t httpCredentialsGetTrust (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *common_name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>credentials</dt>
<dt>common_name</dt>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description"></p>
<h3 class="function"><a name="httpCredentialsString">httpCredentialsString</a></h3>
<p class="description"></p>
<p class="code">
size_t httpCredentialsString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t bufsize<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>credentials</dt>
<dt>buffer</dt>
<dt>bufsize</dt>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description"></p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpDecode64">httpDecode64</a></h3>
<p class="description">Base64-decode a string.</p>
<p class="code">
char *httpDecode64 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *out,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *in<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>out</dt>
<dd class="description">String to write to</dd>
<dt>in</dt>
<dd class="description">String to read from</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Decoded string</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated. Use the httpDecode64_2() function instead
which provides buffer length arguments.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="httpDecode64_2">httpDecode64_2</a></h3>
<p class="description">Base64-decode a string.</p>
<p class="code">
char *httpDecode64_2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *out,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *outlen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *in<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>out</dt>
<dd class="description">String to write to</dd>
<dt>outlen</dt>
<dd class="description">Size of output string</dd>
<dt>in</dt>
<dd class="description">String to read from</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Decoded string</p>
<h3 class="function"><a name="httpDelete">httpDelete</a></h3>
<p class="description">Send a DELETE request to the server.</p>
<p class="code">
int httpDelete (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>uri</dt>
<dd class="description">URI to delete</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpEncode64">httpEncode64</a></h3>
<p class="description">Base64-encode a string.</p>
<p class="code">
char *httpEncode64 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *out,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *in<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>out</dt>
<dd class="description">String to write to</dd>
<dt>in</dt>
<dd class="description">String to read from</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Encoded string</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated. Use the httpEncode64_2() function instead
which provides buffer length arguments.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="httpEncode64_2">httpEncode64_2</a></h3>
<p class="description">Base64-encode a string.</p>
<p class="code">
char *httpEncode64_2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *out,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int outlen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int inlen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>out</dt>
<dd class="description">String to write to</dd>
<dt>outlen</dt>
<dd class="description">Size of output string</dd>
<dt>in</dt>
<dd class="description">String to read from</dd>
<dt>inlen</dt>
<dd class="description">Size of input string</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Encoded string</p>
<h3 class="function"><a name="httpEncryption">httpEncryption</a></h3>
<p class="description">Set the required encryption on the link.</p>
<p class="code">
int httpEncryption (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_encryption_t e<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>e</dt>
<dd class="description">New encryption preference</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">-1 on error, 0 on success</p>
<h3 class="function"><a name="httpError">httpError</a></h3>
<p class="description">Get the last error on a connection.</p>
<p class="code">
int httpError (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Error code (errno) value</p>
<h3 class="function"><a name="httpFieldValue">httpFieldValue</a></h3>
<p class="description">Return the HTTP field enumeration value for a field
name.</p>
<p class="code">
http_field_t httpFieldValue (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">String name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Field index</p>
<h3 class="function"><a name="httpFlush">httpFlush</a></h3>
<p class="description">Flush data from a HTTP connection.</p>
<p class="code">
void httpFlush (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpFlushWrite">httpFlushWrite</a></h3>
<p class="description">Flush data in write buffer.</p>
<p class="code">
int httpFlushWrite (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Bytes written or -1 on error</p>
<h3 class="function"><a name="httpFreeCredentials">httpFreeCredentials</a></h3>
<p class="description">Free an array of credentials.</p>
<p class="code">
void httpFreeCredentials (<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>credentials</dt>
<dd class="description">Array of credentials</dd>
</dl>
<h3 class="function"><a name="httpGet">httpGet</a></h3>
<p class="description">Send a GET request to the server.</p>
<p class="code">
int httpGet (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>uri</dt>
<dd class="description">URI to get</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpGetActivity">httpGetActivity</a></h3>
<p class="description">Get the most recent activity for a connection.</p>
<p class="code">
time_t httpGetActivity (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Time of last read or write</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The return value is the UNIX time of the last read or write.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpGetAddress">httpGetAddress</a></h3>
<p class="description">Get the address of the connected peer of a connection.</p>
<p class="code">
http_addr_t *httpGetAddress (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Connected address or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Returns <code>NULL</code> if the socket is currently unconnected.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="httpGetAuthString">httpGetAuthString</a></h3>
<p class="description">Get the current authorization string.</p>
<p class="code">
char *httpGetAuthString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Authorization string</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The authorization string is set by cupsDoAuthentication() and
httpSetAuthString().  Use httpGetAuthString() to retrieve the
string to use with httpSetField() for the HTTP_FIELD_AUTHORIZATION
value.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpGetBlocking">httpGetBlocking</a></h3>
<p class="description">Get the blocking/non-block state of a connection.</p>
<p class="code">
int httpGetBlocking (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if blocking, 0 if non-blocking</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpGetContentEncoding">httpGetContentEncoding</a></h3>
<p class="description">Get a common content encoding, if any, between
the client and server.</p>
<p class="code">
const char *httpGetContentEncoding (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Content-Coding value or
<code>NULL</code> for the identity
coding.</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function uses the value of the Accepts-Encoding HTTP header and must be
called after receiving a response from the server or a request from the
client.  The value returned can be use in subsequent requests (for clients)
or in the response (for servers) in order to compress the content stream.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="httpGetCookie">httpGetCookie</a></h3>
<p class="description">Get any cookie data from the response.</p>
<p class="code">
const char *httpGetCookie (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Cookie data or NULL</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpGetDateString">httpGetDateString</a></h3>
<p class="description">Get a formatted date/time string from a time value.</p>
<p class="code">
const char *httpGetDateString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;time_t t<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>t</dt>
<dd class="description">UNIX time</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Date/time string</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpGetDateString2">httpGetDateString2</a></h3>
<p class="description">Get a formatted date/time string from a time value.</p>
<p class="code">
const char *httpGetDateString2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;time_t t,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *s,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int slen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>t</dt>
<dd class="description">UNIX time</dd>
<dt>s</dt>
<dd class="description">String buffer</dd>
<dt>slen</dt>
<dd class="description">Size of string buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Date/time string</p>
<h3 class="function"><a name="httpGetDateTime">httpGetDateTime</a></h3>
<p class="description">Get a time value from a formatted date/time string.</p>
<p class="code">
time_t httpGetDateTime (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *s<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>s</dt>
<dd class="description">Date/time string</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">UNIX time</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpGetEncryption">httpGetEncryption</a></h3>
<p class="description">Get the current encryption mode of a connection.</p>
<p class="code">
http_encryption_t httpGetEncryption (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Current encryption mode</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns the encryption mode for the connection. Use the
<a href="#httpIsEncrypted"><code>httpIsEncrypted</code></a> function to determine whether a TLS session has
been established.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpGetExpect">httpGetExpect</a></h3>
<p class="description">Get the value of the Expect header, if any.</p>
<p class="code">
http_status_t httpGetExpect (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Expect: status, if any</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Returns <code>HTTP_STATUS_NONE</code> if there is no Expect header, otherwise
returns the expected HTTP status code, typically <code>HTTP_STATUS_CONTINUE</code>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpGetFd">httpGetFd</a></h3>
<p class="description">Get the file descriptor associated with a connection.</p>
<p class="code">
int httpGetFd (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">File descriptor or -1 if none</p>
<h3 class="function"><a name="httpGetField">httpGetField</a></h3>
<p class="description">Get a field value from a request/response.</p>
<p class="code">
const char *httpGetField (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_field_t field<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>field</dt>
<dd class="description">Field to get</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Field value</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpGetHostByName">httpGetHostByName</a></h3>
<p class="description">Lookup a hostname or IPv4 address, and return
address records for the specified name.</p>
<p class="code">
struct hostent *httpGetHostByName (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Hostname or IP address</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Host entry</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpGetHostname">httpGetHostname</a></h3>
<p class="description">Get the FQDN for the connection or local system.</p>
<p class="code">
const char *httpGetHostname (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *s,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int slen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection or NULL</dd>
<dt>s</dt>
<dd class="description">String buffer for name</dd>
<dt>slen</dt>
<dd class="description">Size of buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">FQDN for connection or system</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">When &quot;http&quot; points to a connected socket, return the hostname or
address that was used in the call to httpConnect() or httpConnectEncrypt(),
or the address of the client for the connection from httpAcceptConnection().
Otherwise, return the FQDN for the local system using both gethostname()
and gethostbyname() to get the local hostname with domain.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpGetKeepAlive">httpGetKeepAlive</a></h3>
<p class="description">Get the current Keep-Alive state of the connection.</p>
<p class="code">
http_keepalive_t httpGetKeepAlive (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Keep-Alive state</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpGetLength">httpGetLength</a></h3>
<p class="description">Get the amount of data remaining from the
content-length or transfer-encoding fields.</p>
<p class="code">
int httpGetLength (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Content length</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated and will not return lengths larger than
2^31 - 1; use httpGetLength2() instead.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpGetLength2">httpGetLength2</a></h3>
<p class="description">Get the amount of data remaining from the
content-length or transfer-encoding fields.</p>
<p class="code">
off_t httpGetLength2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Content length</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns the complete content length, even for
content larger than 2^31 - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpGetPending">httpGetPending</a></h3>
<p class="description">Get the number of bytes that are buffered for writing.</p>
<p class="code">
size_t httpGetPending (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes buffered</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpGetReady">httpGetReady</a></h3>
<p class="description">Get the number of bytes that can be read without blocking.</p>
<p class="code">
size_t httpGetReady (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes available</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpGetRemaining">httpGetRemaining</a></h3>
<p class="description">Get the number of remaining bytes in the message
body or current chunk.</p>
<p class="code">
size_t httpGetRemaining (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Remaining bytes</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <a href="#httpIsChunked"><code>httpIsChunked</code></a> function can be used to determine whether the
message body is chunked or fixed-length.

</p>
<h3 class="function"><a name="httpGetState">httpGetState</a></h3>
<p class="description">Get the current state of the HTTP request.</p>
<p class="code">
http_state_t httpGetState (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP state</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpGetStatus">httpGetStatus</a></h3>
<p class="description">Get the status of the last HTTP request.</p>
<p class="code">
http_status_t httpGetStatus (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP status</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpGetSubField">httpGetSubField</a></h3>
<p class="description">Get a sub-field value.</p>
<p class="code">
char *httpGetSubField (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_field_t field,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>field</dt>
<dd class="description">Field index</dd>
<dt>name</dt>
<dd class="description">Name of sub-field</dd>
<dt>value</dt>
<dd class="description">Value string</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Value or NULL</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpGetSubField2">httpGetSubField2</a></h3>
<p class="description">Get a sub-field value.</p>
<p class="code">
char *httpGetSubField2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_field_t field,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *value,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int valuelen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>field</dt>
<dd class="description">Field index</dd>
<dt>name</dt>
<dd class="description">Name of sub-field</dd>
<dt>value</dt>
<dd class="description">Value string</dd>
<dt>valuelen</dt>
<dd class="description">Size of value buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Value or NULL</p>
<h3 class="function"><a name="httpGetVersion">httpGetVersion</a></h3>
<p class="description">Get the HTTP version at the other end.</p>
<p class="code">
http_version_t httpGetVersion (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Version number</p>
<h3 class="function"><a name="httpGets">httpGets</a></h3>
<p class="description">Get a line of text from a HTTP connection.</p>
<p class="code">
char *httpGets (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *line,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int length,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>line</dt>
<dd class="description">Line to read into</dd>
<dt>length</dt>
<dd class="description">Max length of buffer</dd>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Line or NULL</p>
<h3 class="function"><a name="httpHead">httpHead</a></h3>
<p class="description">Send a HEAD request to the server.</p>
<p class="code">
int httpHead (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>uri</dt>
<dd class="description">URI for head</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h3 class="function"><a name="httpInitialize">httpInitialize</a></h3>
<p class="description">Initialize the HTTP interface library and set the
default HTTP proxy (if any).</p>
<p class="code">
void httpInitialize (void);</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpIsChunked">httpIsChunked</a></h3>
<p class="description">Report whether a message body is chunked.</p>
<p class="code">
int httpIsChunked (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if chunked, 0 if not</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns non-zero if the message body is composed of
variable-length chunks.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpIsEncrypted">httpIsEncrypted</a></h3>
<p class="description">Report whether a connection is encrypted.</p>
<p class="code">
int httpIsEncrypted (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if encrypted, 0 if not</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function returns non-zero if the connection is currently encrypted.

</p>
<h3 class="function"><a name="httpLoadCredentials">httpLoadCredentials</a></h3>
<p class="description"></p>
<p class="code">
int httpLoadCredentials (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *path,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t **credentials,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *common_name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>path</dt>
<dt>credentials</dt>
<dt>common_name</dt>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description"></p>
<h3 class="function"><a name="httpMD5">httpMD5</a></h3>
<p class="description">Compute the MD5 sum of the username:group:password.</p>
<p class="code">
char *httpMD5 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *realm,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *passwd,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char md5[33]<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>username</dt>
<dd class="description">User name</dd>
<dt>realm</dt>
<dd class="description">Realm name</dd>
<dt>passwd</dt>
<dd class="description">Password string</dd>
<dt>md5[33]</dt>
<dd class="description">MD5 string</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">MD5 sum</p>
<h3 class="function"><a name="httpMD5Final">httpMD5Final</a></h3>
<p class="description">Combine the MD5 sum of the username, group, and password
with the server-supplied nonce value, method, and
request-uri.</p>
<p class="code">
char *httpMD5Final (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *nonce,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *method,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char md5[33]<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>nonce</dt>
<dd class="description">Server nonce value</dd>
<dt>method</dt>
<dd class="description">METHOD (GET, POST, etc.)</dd>
<dt>resource</dt>
<dd class="description">Resource path</dd>
<dt>md5[33]</dt>
<dd class="description">MD5 sum</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New sum</p>
<h3 class="function"><a name="httpMD5String">httpMD5String</a></h3>
<p class="description">Convert an MD5 sum to a character string.</p>
<p class="code">
char *httpMD5String (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const unsigned char *sum,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char md5[33]<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>sum</dt>
<dd class="description">MD5 sum data</dd>
<dt>md5[33]</dt>
<dd class="description">MD5 sum in hex</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">MD5 sum in hex</p>
<h3 class="function"><a name="httpOptions">httpOptions</a></h3>
<p class="description">Send an OPTIONS request to the server.</p>
<p class="code">
int httpOptions (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>uri</dt>
<dd class="description">URI for options</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpPeek">httpPeek</a></h3>
<p class="description">Peek at data from a HTTP connection.</p>
<p class="code">
ssize_t httpPeek (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>buffer</dt>
<dd class="description">Buffer for data</dd>
<dt>length</dt>
<dd class="description">Maximum number of bytes</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes copied</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function copies available data from the given HTTP connection, reading
a buffer as needed.  The data is still available for reading using
<a href="#httpRead"><code>httpRead</code></a> or <a href="#httpRead2"><code>httpRead2</code></a>.<br>
<br>
For non-blocking connections the usual timeouts apply.

</p>
<h3 class="function"><a name="httpPost">httpPost</a></h3>
<p class="description">Send a POST request to the server.</p>
<p class="code">
int httpPost (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>uri</dt>
<dd class="description">URI for post</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h3 class="function"><a name="httpPut">httpPut</a></h3>
<p class="description">Send a PUT request to the server.</p>
<p class="code">
int httpPut (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>uri</dt>
<dd class="description">URI to put</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpRead">httpRead</a></h3>
<p class="description">Read data from a HTTP connection.</p>
<p class="code">
int httpRead (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>buffer</dt>
<dd class="description">Buffer for data</dd>
<dt>length</dt>
<dd class="description">Maximum number of bytes</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes read</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated. Use the httpRead2() function which can
read more than 2GB of data.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpRead2">httpRead2</a></h3>
<p class="description">Read data from a HTTP connection.</p>
<p class="code">
ssize_t httpRead2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>buffer</dt>
<dd class="description">Buffer for data</dd>
<dt>length</dt>
<dd class="description">Maximum number of bytes</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes read</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpReadRequest">httpReadRequest</a></h3>
<p class="description">Read a HTTP request from a connection.</p>
<p class="code">
http_state_t httpReadRequest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *uri,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t urilen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>uri</dt>
<dd class="description">URI buffer</dd>
<dt>urilen</dt>
<dd class="description">Size of URI buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New state of connection</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpReconnect">httpReconnect</a></h3>
<p class="description">Reconnect to a HTTP server.</p>
<p class="code">
int httpReconnect (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, non-zero on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated. Please use the <a href="#httpReconnect2"><code>httpReconnect2</code></a> function
instead.

</p>
<h3 class="function"><a name="httpReconnect2">httpReconnect2</a></h3>
<p class="description">Reconnect to a HTTP server with timeout and optional
cancel.</p>
<p class="code">
int httpReconnect2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int msec,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *cancel<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>msec</dt>
<dd class="description">Timeout in milliseconds</dd>
<dt>cancel</dt>
<dd class="description">Pointer to &quot;cancel&quot; variable</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, non-zero on failure</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpResolveHostname">httpResolveHostname</a></h3>
<p class="description">Resolve the hostname of the HTTP connection
address.</p>
<p class="code">
const char *httpResolveHostname (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t bufsize<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>buffer</dt>
<dd class="description">Hostname buffer</dd>
<dt>bufsize</dt>
<dd class="description">Size of buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Resolved hostname or <code>NULL</code></p>
<h3 class="function"><a name="httpSaveCredentials">httpSaveCredentials</a></h3>
<p class="description"></p>
<p class="code">
int httpSaveCredentials (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *path,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *common_name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>path</dt>
<dt>credentials</dt>
<dt>common_name</dt>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description"></p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpSeparate">httpSeparate</a></h3>
<p class="description">Separate a Universal Resource Identifier into its
components.</p>
<p class="code">
void httpSeparate (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *scheme,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *host,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *port,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *resource<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>uri</dt>
<dd class="description">Universal Resource Identifier</dd>
<dt>scheme</dt>
<dd class="description">Scheme [32] (http, https, etc.)</dd>
<dt>username</dt>
<dd class="description">Username [1024]</dd>
<dt>host</dt>
<dd class="description">Hostname [1024]</dd>
<dt>port</dt>
<dd class="description">Port number to use</dd>
<dt>resource</dt>
<dd class="description">Resource/filename [1024]</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated; use the httpSeparateURI() function instead.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.21/macOS 10.4&nbsp;</span><a name="httpSeparate2">httpSeparate2</a></h3>
<p class="description">Separate a Universal Resource Identifier into its
components.</p>
<p class="code">
void httpSeparate2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *scheme,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int schemelen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int usernamelen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *host,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int hostlen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *port,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int resourcelen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>uri</dt>
<dd class="description">Universal Resource Identifier</dd>
<dt>scheme</dt>
<dd class="description">Scheme (http, https, etc.)</dd>
<dt>schemelen</dt>
<dd class="description">Size of scheme buffer</dd>
<dt>username</dt>
<dd class="description">Username</dd>
<dt>usernamelen</dt>
<dd class="description">Size of username buffer</dd>
<dt>host</dt>
<dd class="description">Hostname</dd>
<dt>hostlen</dt>
<dd class="description">Size of hostname buffer</dd>
<dt>port</dt>
<dd class="description">Port number to use</dd>
<dt>resource</dt>
<dd class="description">Resource/filename</dd>
<dt>resourcelen</dt>
<dd class="description">Size of resource buffer</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated; use the httpSeparateURI() function instead.


</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpSeparateURI">httpSeparateURI</a></h3>
<p class="description">Separate a Universal Resource Identifier into its
components.</p>
<p class="code">
http_uri_status_t httpSeparateURI (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_uri_coding_t decoding,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *scheme,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int schemelen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int usernamelen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *host,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int hostlen,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *port,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *resource,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int resourcelen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>decoding</dt>
<dd class="description">Decoding flags</dd>
<dt>uri</dt>
<dd class="description">Universal Resource Identifier</dd>
<dt>scheme</dt>
<dd class="description">Scheme (http, https, etc.)</dd>
<dt>schemelen</dt>
<dd class="description">Size of scheme buffer</dd>
<dt>username</dt>
<dd class="description">Username</dd>
<dt>usernamelen</dt>
<dd class="description">Size of username buffer</dd>
<dt>host</dt>
<dd class="description">Hostname</dd>
<dt>hostlen</dt>
<dd class="description">Size of hostname buffer</dd>
<dt>port</dt>
<dd class="description">Port number to use</dd>
<dt>resource</dt>
<dd class="description">Resource/filename</dd>
<dt>resourcelen</dt>
<dd class="description">Size of resource buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Result of separation</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.3/macOS 10.5&nbsp;</span><a name="httpSetAuthString">httpSetAuthString</a></h3>
<p class="description">Set the current authorization string.</p>
<p class="code">
void httpSetAuthString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *scheme,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *data<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>scheme</dt>
<dd class="description">Auth scheme (NULL to clear it)</dd>
<dt>data</dt>
<dd class="description">Auth data (NULL for none)</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function just stores a copy of the current authorization string in
the HTTP connection object.  You must still call httpSetField() to set
HTTP_FIELD_AUTHORIZATION prior to issuing a HTTP request using httpGet(),
httpHead(), httpOptions(), httpPost, or httpPut().

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="httpSetCookie">httpSetCookie</a></h3>
<p class="description">Set the cookie value(s).</p>
<p class="code">
void httpSetCookie (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *cookie<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">Connection</dd>
<dt>cookie</dt>
<dd class="description">Cookie string</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.5/macOS 10.7&nbsp;</span><a name="httpSetCredentials">httpSetCredentials</a></h3>
<p class="description">Set the credentials associated with an encrypted
connection.</p>
<p class="code">
int httpSetCredentials (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;cups_array_t *credentials<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>credentials</dt>
<dd class="description">Array of credentials</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpSetDefaultField">httpSetDefaultField</a></h3>
<p class="description">Set the default value of an HTTP header.</p>
<p class="code">
void httpSetDefaultField (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_field_t field,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>field</dt>
<dd class="description">Field index</dd>
<dt>value</dt>
<dd class="description">Value</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Currently only <code>HTTP_FIELD_ACCEPT_ENCODING</code>, <code>HTTP_FIELD_SERVER</code>,
and <code>HTTP_FIELD_USER_AGENT</code> can be set.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpSetExpect">httpSetExpect</a></h3>
<p class="description">Set the Expect: header in a request.</p>
<p class="code">
void httpSetExpect (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_status_t expect<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>expect</dt>
<dd class="description">HTTP status to expect
(<code>HTTP_STATUS_CONTINUE</code>)</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Currently only <code>HTTP_STATUS_CONTINUE</code> is supported for the &quot;expect&quot;
argument.

</p>
<h3 class="function"><a name="httpSetField">httpSetField</a></h3>
<p class="description">Set the value of an HTTP header.</p>
<p class="code">
void httpSetField (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_field_t field,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>field</dt>
<dd class="description">Field index</dd>
<dt>value</dt>
<dd class="description">Value</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpSetKeepAlive">httpSetKeepAlive</a></h3>
<p class="description">Set the current Keep-Alive state of a connection.</p>
<p class="code">
void httpSetKeepAlive (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_keepalive_t keep_alive<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>keep_alive</dt>
<dd class="description">New Keep-Alive value</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpSetLength">httpSetLength</a></h3>
<p class="description">Set the content-length and content-encoding.</p>
<p class="code">
void httpSetLength (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>length</dt>
<dd class="description">Length (0 for chunked)</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.5/macOS 10.7&nbsp;</span><a name="httpSetTimeout">httpSetTimeout</a></h3>
<p class="description">Set read/write timeouts and an optional callback.</p>
<p class="code">
void httpSetTimeout (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;double timeout,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_timeout_cb_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *user_data<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>timeout</dt>
<dd class="description">Number of seconds for timeout,
must be greater than 0</dd>
<dt>cb</dt>
<dd class="description">Callback function or NULL</dd>
<dt>user_data</dt>
<dd class="description">User data pointer</dd>
</dl>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The optional timeout callback receives both the HTTP connection and a user
data pointer and must return 1 to continue or 0 to error (time) out.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpShutdown">httpShutdown</a></h3>
<p class="description">Shutdown one side of an HTTP connection.</p>
<p class="code">
void httpShutdown (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpStateString">httpStateString</a></h3>
<p class="description">Return the string describing a HTTP state value.</p>
<p class="code">
const char *httpStateString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_state_t state<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>state</dt>
<dd class="description">HTTP state value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">State string</p>
<h3 class="function"><a name="httpStatus">httpStatus</a></h3>
<p class="description">Return a short string describing a HTTP status code.</p>
<p class="code">
const char *httpStatus (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_status_t status<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>status</dt>
<dd class="description">HTTP status code</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Localized status string</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned string is localized to the current POSIX locale and is based
on the status strings defined in RFC 2616.</p>
<h3 class="function"><a name="httpTrace">httpTrace</a></h3>
<p class="description">Send an TRACE request to the server.</p>
<p class="code">
int httpTrace (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *uri<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>uri</dt>
<dd class="description">URI for trace</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status of call (0 = success)</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="httpURIStatusString">httpURIStatusString</a></h3>
<p class="description">Return a string describing a URI status code.</p>
<p class="code">
const char *httpURIStatusString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_uri_status_t status<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>status</dt>
<dd class="description">URI status code</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Localized status string</p>
<h3 class="function"><a name="httpUpdate">httpUpdate</a></h3>
<p class="description">Update the current HTTP state for incoming data.</p>
<p class="code">
http_status_t httpUpdate (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">HTTP status</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="httpWait">httpWait</a></h3>
<p class="description">Wait for data available on a connection.</p>
<p class="code">
int httpWait (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int msec<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>msec</dt>
<dd class="description">Milliseconds to wait</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if data is available, 0 otherwise</p>
<h3 class="function"><span class="info">&nbsp;DEPRECATED&nbsp;</span><a name="httpWrite">httpWrite</a></h3>
<p class="description">Write data to a HTTP connection.</p>
<p class="code">
int httpWrite (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>buffer</dt>
<dd class="description">Buffer for data</dd>
<dt>length</dt>
<dd class="description">Number of bytes to write</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes written</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function is deprecated. Use the httpWrite2() function which can
write more than 2GB of data.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="httpWrite2">httpWrite2</a></h3>
<p class="description">Write data to a HTTP connection.</p>
<p class="code">
ssize_t httpWrite2 (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>buffer</dt>
<dd class="description">Buffer for data</dd>
<dt>length</dt>
<dd class="description">Number of bytes to write</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes written</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="httpWriteResponse">httpWriteResponse</a></h3>
<p class="description">Write a HTTP response to a client connection.</p>
<p class="code">
int httpWriteResponse (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_status_t status<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>status</dt>
<dd class="description">Status code</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">0 on success, -1 on error</p>
<h3 class="function"><a name="ippAddBoolean">ippAddBoolean</a></h3>
<p class="description">Add a boolean attribute to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddBoolean (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>value</dt>
<dd class="description">Value of attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).</p>
<h3 class="function"><a name="ippAddBooleans">ippAddBooleans</a></h3>
<p class="description">Add an array of boolean values.</p>
<p class="code">
ipp_attribute_t *ippAddBooleans (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_values,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *values<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>num_values</dt>
<dd class="description">Number of values</dd>
<dt>values</dt>
<dd class="description">Values</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="ippAddCollection">ippAddCollection</a></h3>
<p class="description">Add a collection value.</p>
<p class="code">
ipp_attribute_t *ippAddCollection (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>value</dt>
<dd class="description">Value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="ippAddCollections">ippAddCollections</a></h3>
<p class="description">Add an array of collection values.</p>
<p class="code">
ipp_attribute_t *ippAddCollections (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_values,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const ipp_t **values<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>num_values</dt>
<dd class="description">Number of values</dd>
<dt>values</dt>
<dd class="description">Values</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).

</p>
<h3 class="function"><a name="ippAddDate">ippAddDate</a></h3>
<p class="description">Add a date attribute to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddDate (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const ipp_uchar_t *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>value</dt>
<dd class="description">Value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).</p>
<h3 class="function"><a name="ippAddInteger">ippAddInteger</a></h3>
<p class="description">Add a integer attribute to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddInteger (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t value_tag,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>value_tag</dt>
<dd class="description">Type of attribute</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>value</dt>
<dd class="description">Value of attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).<br>
<br>
Supported values include enum (<code>IPP_TAG_ENUM</code>) and integer
(<code>IPP_TAG_INTEGER</code>).</p>
<h3 class="function"><a name="ippAddIntegers">ippAddIntegers</a></h3>
<p class="description">Add an array of integer values.</p>
<p class="code">
ipp_attribute_t *ippAddIntegers (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t value_tag,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_values,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int *values<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>value_tag</dt>
<dd class="description">Type of attribute</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>num_values</dt>
<dd class="description">Number of values</dd>
<dt>values</dt>
<dd class="description">Values</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).<br>
<br>
Supported values include enum (<code>IPP_TAG_ENUM</code>) and integer
(<code>IPP_TAG_INTEGER</code>).</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="ippAddOctetString">ippAddOctetString</a></h3>
<p class="description">Add an octetString value to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddOctetString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const void *data,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int datalen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>data</dt>
<dd class="description">octetString data</dd>
<dt>datalen</dt>
<dd class="description">Length of data in bytes</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippAddOutOfBand">ippAddOutOfBand</a></h3>
<p class="description">Add an out-of-band value to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddOutOfBand (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t value_tag,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>value_tag</dt>
<dd class="description">Type of attribute</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).<br>
<br>
Supported out-of-band values include unsupported-value
(<code>IPP_TAG_UNSUPPORTED_VALUE</code>), default (<code>IPP_TAG_DEFAULT</code>), unknown
(<code>IPP_TAG_UNKNOWN</code>), no-value (<code>IPP_TAG_NOVALUE</code>), not-settable
(<code>IPP_TAG_NOTSETTABLE</code>), delete-attribute (<code>IPP_TAG_DELETEATTR</code>), and
admin-define (<code>IPP_TAG_ADMINDEFINE</code>).

</p>
<h3 class="function"><a name="ippAddRange">ippAddRange</a></h3>
<p class="description">Add a range of values to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddRange (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int lower,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int upper<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>lower</dt>
<dd class="description">Lower value</dd>
<dt>upper</dt>
<dd class="description">Upper value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).<br>
<br>
The <code>lower</code> parameter must be less than or equal to the <code>upper</code> parameter.</p>
<h3 class="function"><a name="ippAddRanges">ippAddRanges</a></h3>
<p class="description">Add ranges of values to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddRanges (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_values,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int *lower,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int *upper<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>num_values</dt>
<dd class="description">Number of values</dd>
<dt>lower</dt>
<dd class="description">Lower values</dd>
<dt>upper</dt>
<dd class="description">Upper values</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).</p>
<h3 class="function"><a name="ippAddResolution">ippAddResolution</a></h3>
<p class="description">Add a resolution value to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddResolution (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_res_t units,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int xres,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int yres<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>units</dt>
<dd class="description">Units for resolution</dd>
<dt>xres</dt>
<dd class="description">X resolution</dd>
<dt>yres</dt>
<dd class="description">Y resolution</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).</p>
<h3 class="function"><a name="ippAddResolutions">ippAddResolutions</a></h3>
<p class="description">Add resolution values to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddResolutions (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_values,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_res_t units,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int *xres,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const int *yres<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>num_values</dt>
<dd class="description">Number of values</dd>
<dt>units</dt>
<dd class="description">Units for resolution</dd>
<dt>xres</dt>
<dd class="description">X resolutions</dd>
<dt>yres</dt>
<dd class="description">Y resolutions</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).</p>
<h3 class="function"><a name="ippAddSeparator">ippAddSeparator</a></h3>
<p class="description">Add a group separator to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddSeparator (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.</p>
<h3 class="function"><a name="ippAddString">ippAddString</a></h3>
<p class="description">Add a language-encoded string to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t value_tag,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *language,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>value_tag</dt>
<dd class="description">Type of attribute</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>language</dt>
<dd class="description">Language code</dd>
<dt>value</dt>
<dd class="description">Value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).<br>
<br>
Supported string values include charset (<code>IPP_TAG_CHARSET</code>), keyword
(<code>IPP_TAG_KEYWORD</code>), language (<code>IPP_TAG_LANGUAGE</code>), mimeMediaType
(<code>IPP_TAG_MIMETYPE</code>), name (<code>IPP_TAG_NAME</code>), nameWithLanguage
(<code>IPP_TAG_NAMELANG), text (</code>code IPP_TAG_TEXT@), textWithLanguage
(<code>IPP_TAG_TEXTLANG</code>), uri (<code>IPP_TAG_URI</code>), and uriScheme
(<code>IPP_TAG_URISCHEME</code>).<br>
<br>
The <code>language</code> parameter must be non-<code>NULL</code> for nameWithLanguage and
textWithLanguage string values and must be <code>NULL</code> for all other string values.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippAddStringf">ippAddStringf</a></h3>
<p class="description">Add a formatted string to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddStringf (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t value_tag,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *language,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *format,<br>
&nbsp;&nbsp;&nbsp;&nbsp;...<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>value_tag</dt>
<dd class="description">Type of attribute</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>language</dt>
<dd class="description">Language code (<code>NULL</code> for default)</dd>
<dt>format</dt>
<dd class="description">Printf-style format string</dd>
<dt>...</dt>
<dd class="description">Additional arguments as needed</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document
(<code>IPP_TAG_DOCUMENT</code>), event notification
(<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation (<code>IPP_TAG_OPERATION</code>),
printer (<code>IPP_TAG_PRINTER</code>), subscription (<code>IPP_TAG_SUBSCRIPTION</code>),
or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).<br>
<br>
Supported string values include charset (<code>IPP_TAG_CHARSET</code>), keyword
(<code>IPP_TAG_KEYWORD</code>), language (<code>IPP_TAG_LANGUAGE</code>), mimeMediaType
(<code>IPP_TAG_MIMETYPE</code>), name (<code>IPP_TAG_NAME</code>), nameWithLanguage
(<code>IPP_TAG_NAMELANG), text (</code>code IPP_TAG_TEXT@), textWithLanguage
(<code>IPP_TAG_TEXTLANG</code>), uri (<code>IPP_TAG_URI</code>), and uriScheme
(<code>IPP_TAG_URISCHEME</code>).<br>
<br>
The <code>language</code> parameter must be non-<code>NULL</code> for nameWithLanguage
and textWithLanguage string values and must be <code>NULL</code> for all other
string values.<br>
<br>
The <code>format</code> parameter uses formatting characters compatible with the
printf family of standard functions.  Additional arguments follow it as
needed.  The formatted string is truncated as needed to the maximum length of
the corresponding value type.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippAddStringfv">ippAddStringfv</a></h3>
<p class="description">Add a formatted string to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddStringfv (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t value_tag,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *language,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *format,<br>
&nbsp;&nbsp;&nbsp;&nbsp;va_list ap<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>value_tag</dt>
<dd class="description">Type of attribute</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>language</dt>
<dd class="description">Language code (<code>NULL</code> for default)</dd>
<dt>format</dt>
<dd class="description">Printf-style format string</dd>
<dt>ap</dt>
<dd class="description">Additional arguments</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document
(<code>IPP_TAG_DOCUMENT</code>), event notification
(<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation (<code>IPP_TAG_OPERATION</code>),
printer (<code>IPP_TAG_PRINTER</code>), subscription (<code>IPP_TAG_SUBSCRIPTION</code>),
or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).<br>
<br>
Supported string values include charset (<code>IPP_TAG_CHARSET</code>), keyword
(<code>IPP_TAG_KEYWORD</code>), language (<code>IPP_TAG_LANGUAGE</code>), mimeMediaType
(<code>IPP_TAG_MIMETYPE</code>), name (<code>IPP_TAG_NAME</code>), nameWithLanguage
(<code>IPP_TAG_NAMELANG), text (</code>code IPP_TAG_TEXT@), textWithLanguage
(<code>IPP_TAG_TEXTLANG</code>), uri (<code>IPP_TAG_URI</code>), and uriScheme
(<code>IPP_TAG_URISCHEME</code>).<br>
<br>
The <code>language</code> parameter must be non-<code>NULL</code> for nameWithLanguage
and textWithLanguage string values and must be <code>NULL</code> for all other
string values.<br>
<br>
The <code>format</code> parameter uses formatting characters compatible with the
printf family of standard functions.  Additional arguments are passed in the
stdarg pointer <code>ap</code>.  The formatted string is truncated as needed to the
maximum length of the corresponding value type.

</p>
<h3 class="function"><a name="ippAddStrings">ippAddStrings</a></h3>
<p class="description">Add language-encoded strings to an IPP message.</p>
<p class="code">
ipp_attribute_t *ippAddStrings (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t value_tag,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int num_values,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *language,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *const *values<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>group</dt>
<dd class="description">IPP group</dd>
<dt>value_tag</dt>
<dd class="description">Type of attribute</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>num_values</dt>
<dd class="description">Number of values</dd>
<dt>language</dt>
<dd class="description">Language code (<code>NULL</code> for default)</dd>
<dt>values</dt>
<dd class="description">Values</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).<br>
<br>
Supported string values include charset (<code>IPP_TAG_CHARSET</code>), keyword
(<code>IPP_TAG_KEYWORD</code>), language (<code>IPP_TAG_LANGUAGE</code>), mimeMediaType
(<code>IPP_TAG_MIMETYPE</code>), name (<code>IPP_TAG_NAME</code>), nameWithLanguage
(<code>IPP_TAG_NAMELANG), text (</code>code IPP_TAG_TEXT@), textWithLanguage
(<code>IPP_TAG_TEXTLANG</code>), uri (<code>IPP_TAG_URI</code>), and uriScheme
(<code>IPP_TAG_URISCHEME</code>).<br>
<br>
The <code>language</code> parameter must be non-<code>NULL</code> for nameWithLanguage and
textWithLanguage string values and must be <code>NULL</code> for all other string values.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippAttributeString">ippAttributeString</a></h3>
<p class="description">Convert the attribute's value to a string.</p>
<p class="code">
size_t ippAttributeString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *buffer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t bufsize<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">Attribute</dd>
<dt>buffer</dt>
<dd class="description">String buffer or NULL</dd>
<dt>bufsize</dt>
<dd class="description">Size of string buffer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of bytes less nul</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Returns the number of bytes that would be written, not including the
trailing nul. The buffer pointer can be NULL to get the required length,
just like (v)snprintf.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippContainsInteger">ippContainsInteger</a></h3>
<p class="description">Determine whether an attribute contains the
specified value or is within the list of ranges.</p>
<p class="code">
int ippContainsInteger (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">Attribute</dd>
<dt>value</dt>
<dd class="description">Integer/enum value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on a match, 0 on no match</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Returns non-zero when the attribute contains either a matching integer or
enum value, or the value falls within one of the rangeOfInteger values for
the attribute.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippContainsString">ippContainsString</a></h3>
<p class="description">Determine whether an attribute contains the
specified string value.</p>
<p class="code">
int ippContainsString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *value<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">Attribute</dd>
<dt>value</dt>
<dd class="description">String value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on a match, 0 on no match</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Returns non-zero when the attribute contains a matching charset, keyword,
language, mimeMediaType, name, text, URI, or URI scheme value.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippCopyAttribute">ippCopyAttribute</a></h3>
<p class="description">Copy an attribute.</p>
<p class="code">
ipp_attribute_t *ippCopyAttribute (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *dst,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *srcattr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int quickcopy<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dst</dt>
<dd class="description">Destination IPP message</dd>
<dt>srcattr</dt>
<dd class="description">Attribute to copy</dd>
<dt>quickcopy</dt>
<dd class="description">1 for a referenced copy, 0 for normal</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The specified attribute, <code>attr</code>, is copied to the destination IPP message.
When <code>quickcopy</code> is non-zero, a &quot;shallow&quot; reference copy of the attribute is
created - this should only be done as long as the original source IPP message will
not be freed for the life of the destination.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippCopyAttributes">ippCopyAttributes</a></h3>
<p class="description">Copy attributes from one IPP message to another.</p>
<p class="code">
int ippCopyAttributes (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *dst,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *src,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int quickcopy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_copycb_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *context<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dst</dt>
<dd class="description">Destination IPP message</dd>
<dt>src</dt>
<dd class="description">Source IPP message</dd>
<dt>quickcopy</dt>
<dd class="description">1 for a referenced copy, 0 for normal</dd>
<dt>cb</dt>
<dd class="description">Copy callback or <code>NULL</code> for none</dd>
<dt>context</dt>
<dd class="description">Context pointer</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Zero or more attributes are copied from the source IPP message, <code>src</code>, to the
destination IPP message, <code>dst</code>. When <code>quickcopy</code> is non-zero, a &quot;shallow&quot;
reference copy of the attribute is created - this should only be done as long as the
original source IPP message will not be freed for the life of the destination.<br>
<br>
The <code>cb</code> and <code>context</code> parameters provide a generic way to &quot;filter&quot; the
attributes that are copied - the function must return 1 to copy the attribute or
0 to skip it. The function may also choose to do a partial copy of the source attribute
itself.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippCreateRequestedArray">ippCreateRequestedArray</a></h3>
<p class="description">Create a CUPS array of attribute names from the
given requested-attributes attribute.</p>
<p class="code">
cups_array_t *ippCreateRequestedArray (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *request<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>request</dt>
<dd class="description">IPP request</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">CUPS array or <code>NULL</code> if all</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function creates a (sorted) CUPS array of attribute names matching the
list of &quot;requested-attribute&quot; values supplied in an IPP request.  All IANA-
registered values are supported in addition to the CUPS IPP extension
attributes.<br>
<br>
The <code>request</code> parameter specifies the request message that was read from
the client.

<code>NULL</code> is returned if all attributes should be returned.  Otherwise, the
result is a sorted array of attribute names, where <code>cupsArrayFind(array,
"attribute-name")</code> will return a non-NULL pointer.  The array must be freed
using the <code>cupsArrayDelete</code> function.

</p>
<h3 class="function"><a name="ippDateToTime">ippDateToTime</a></h3>
<p class="description">Convert from RFC 1903 Date/Time format to UNIX time
in seconds.</p>
<p class="code">
time_t ippDateToTime (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const ipp_uchar_t *date<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>date</dt>
<dd class="description">RFC 1903 date info</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">UNIX time value</p>
<h3 class="function"><a name="ippDelete">ippDelete</a></h3>
<p class="description">Delete an IPP message.</p>
<p class="code">
void ippDelete (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="ippDeleteAttribute">ippDeleteAttribute</a></h3>
<p class="description">Delete a single attribute in an IPP message.</p>
<p class="code">
void ippDeleteAttribute (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">Attribute to delete</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippDeleteValues">ippDeleteValues</a></h3>
<p class="description">Delete values in an attribute.</p>
<p class="code">
int ippDeleteValues (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int count<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">Attribute</dd>
<dt>element</dt>
<dd class="description">Index of first value to delete (0-based)</dd>
<dt>count</dt>
<dd class="description">Number of values to delete</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>element</code> parameter specifies the first value to delete, starting at
0. It must be less than the number of values returned by <a href="#ippGetCount"><code>ippGetCount</code></a>.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
Deleting all values in an attribute deletes the attribute.

</p>
<h3 class="function"><a name="ippEnumString">ippEnumString</a></h3>
<p class="description">Return a string corresponding to the enum value.</p>
<p class="code">
const char *ippEnumString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *attrname,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int enumvalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attrname</dt>
<dd class="description">Attribute name</dd>
<dt>enumvalue</dt>
<dd class="description">Enum value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Enum string</p>
<h3 class="function"><a name="ippEnumValue">ippEnumValue</a></h3>
<p class="description">Return the value associated with a given enum string.</p>
<p class="code">
int ippEnumValue (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *attrname,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *enumstring<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attrname</dt>
<dd class="description">Attribute name</dd>
<dt>enumstring</dt>
<dd class="description">Enum string</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Enum value or -1 if unknown</p>
<h3 class="function"><a name="ippErrorString">ippErrorString</a></h3>
<p class="description">Return a name for the given status code.</p>
<p class="code">
const char *ippErrorString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_status_t error<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>error</dt>
<dd class="description">Error status</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Text string</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="ippErrorValue">ippErrorValue</a></h3>
<p class="description">Return a status code for the given name.</p>
<p class="code">
ipp_status_t ippErrorValue (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">IPP status code</p>
<h3 class="function"><a name="ippFindAttribute">ippFindAttribute</a></h3>
<p class="description">Find a named attribute in a request.</p>
<p class="code">
ipp_attribute_t *ippFindAttribute (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t type<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>type</dt>
<dd class="description">Type of attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Matching attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Starting with CUPS 2.0, the attribute name can contain a hierarchical list
of attribute and member names separated by slashes, for example
&quot;media-col/media-size&quot;.</p>
<h3 class="function"><a name="ippFindNextAttribute">ippFindNextAttribute</a></h3>
<p class="description">Find the next named attribute in a request.</p>
<p class="code">
ipp_attribute_t *ippFindNextAttribute (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t type<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>name</dt>
<dd class="description">Name of attribute</dd>
<dt>type</dt>
<dd class="description">Type of attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Matching attribute</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">Starting with CUPS 2.0, the attribute name can contain a hierarchical list
of attribute and member names separated by slashes, for example
&quot;media-col/media-size&quot;.</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippFirstAttribute">ippFirstAttribute</a></h3>
<p class="description">Return the first attribute in the message.</p>
<p class="code">
ipp_attribute_t *ippFirstAttribute (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">First attribute or <code>NULL</code> if none</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetBoolean">ippGetBoolean</a></h3>
<p class="description">Get a boolean value for an attribute.</p>
<p class="code">
int ippGetBoolean (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Boolean value or 0 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>element</code> parameter specifies which value to get from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a> - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetCollection">ippGetCollection</a></h3>
<p class="description">Get a collection value for an attribute.</p>
<p class="code">
ipp_t *ippGetCollection (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Collection value or <code>NULL</code> on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>element</code> parameter specifies which value to get from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a> - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetCount">ippGetCount</a></h3>
<p class="description">Get the number of values in an attribute.</p>
<p class="code">
int ippGetCount (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Number of values or 0 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetDate">ippGetDate</a></h3>
<p class="description">Get a date value for an attribute.</p>
<p class="code">
const ipp_uchar_t *ippGetDate (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Date value or <code>NULL</code></p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>element</code> parameter specifies which value to get from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a> - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetGroupTag">ippGetGroupTag</a></h3>
<p class="description">Get the group associated with an attribute.</p>
<p class="code">
ipp_tag_t ippGetGroupTag (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Group tag or <code>IPP_TAG_ZERO</code> on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetInteger">ippGetInteger</a></h3>
<p class="description">Get the integer/enum value for an attribute.</p>
<p class="code">
int ippGetInteger (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Value or 0 on error</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>element</code> parameter specifies which value to get from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a> - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetName">ippGetName</a></h3>
<p class="description">Get the attribute name.</p>
<p class="code">
const char *ippGetName (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Attribute name or <code>NULL</code> for separators</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippGetOctetString">ippGetOctetString</a></h3>
<p class="description">Get an octetString value from an IPP attribute.</p>
<p class="code">
void *ippGetOctetString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *datalen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>datalen</dt>
<dd class="description">Length of octetString data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Pointer to octetString data</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>element</code> parameter specifies which value to get from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a> - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetOperation">ippGetOperation</a></h3>
<p class="description">Get the operation ID in an IPP message.</p>
<p class="code">
ipp_op_t ippGetOperation (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP request message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Operation ID or 0 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetRange">ippGetRange</a></h3>
<p class="description">Get a rangeOfInteger value from an attribute.</p>
<p class="code">
int ippGetRange (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *uppervalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>uppervalue</dt>
<dd class="description">Upper value of range</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Lower value of range or 0</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>element</code> parameter specifies which value to get from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a> - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetRequestId">ippGetRequestId</a></h3>
<p class="description">Get the request ID from an IPP message.</p>
<p class="code">
int ippGetRequestId (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Request ID or 0 on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetResolution">ippGetResolution</a></h3>
<p class="description">Get a resolution value for an attribute.</p>
<p class="code">
int ippGetResolution (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *yres,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_res_t *units<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>yres</dt>
<dd class="description">Vertical/feed resolution</dd>
<dt>units</dt>
<dd class="description">Units for resolution</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Horizontal/cross feed resolution or 0</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>element</code> parameter specifies which value to get from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a> - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetState">ippGetState</a></h3>
<p class="description">Get the IPP message state.</p>
<p class="code">
ipp_state_t ippGetState (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">IPP message state value</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetStatusCode">ippGetStatusCode</a></h3>
<p class="description">Get the status code from an IPP response or event message.</p>
<p class="code">
ipp_status_t ippGetStatusCode (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP response or event message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Status code in IPP message</p>
<h3 class="function"><a name="ippGetString">ippGetString</a></h3>
<p class="description">Return the value...</p>
<p class="code">
const char *ippGetString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char **language<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>language</dt>
<dd class="description">Language code (<code>NULL</code> for don't care)</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Get the string and optionally the language code for an attribute.</p>
<p class="discussion">The <code>element</code> parameter specifies which value to get from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a> - 1.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetValueTag">ippGetValueTag</a></h3>
<p class="description">Get the value tag for an attribute.</p>
<p class="code">
ipp_tag_t ippGetValueTag (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Value tag or <code>IPP_TAG_ZERO</code> on error</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippGetVersion">ippGetVersion</a></h3>
<p class="description">Get the major and minor version number from an IPP message.</p>
<p class="code">
int ippGetVersion (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *minor<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>minor</dt>
<dd class="description">Minor version number or <code>NULL</code></dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Major version number or 0 on error</p>
<h3 class="function"><a name="ippLength">ippLength</a></h3>
<p class="description">Compute the length of an IPP message.</p>
<p class="code">
size_t ippLength (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Size of IPP message</p>
<h3 class="function"><a name="ippNew">ippNew</a></h3>
<p class="description">Allocate a new IPP message.</p>
<p class="code">
ipp_t *ippNew (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">New IPP message</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="ippNewRequest">ippNewRequest</a></h3>
<p class="description">Allocate a new IPP request message.</p>
<p class="code">
ipp_t *ippNewRequest (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_op_t op<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>op</dt>
<dd class="description">Operation code</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">IPP request message</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The new request message is initialized with the attributes-charset and
attributes-natural-language attributes added. The
attributes-natural-language value is derived from the current locale.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippNewResponse">ippNewResponse</a></h3>
<p class="description">Allocate a new IPP response message.</p>
<p class="code">
ipp_t *ippNewResponse (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *request<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>request</dt>
<dd class="description">IPP request message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">IPP response message</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The new response message is initialized with the same version-number,
request-id, attributes-charset, and attributes-natural-language as the
provided request message.  If the attributes-charset or
attributes-natural-language attributes are missing from the request,
&quot;utf-8&quot; and a value derived from the current locale are substituted,
respectively.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippNextAttribute">ippNextAttribute</a></h3>
<p class="description">Return the next attribute in the message.</p>
<p class="code">
ipp_attribute_t *ippNextAttribute (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Next attribute or <code>NULL</code> if none</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="ippOpString">ippOpString</a></h3>
<p class="description">Return a name for the given operation id.</p>
<p class="code">
const char *ippOpString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_op_t op<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>op</dt>
<dd class="description">Operation ID</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Name</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="ippOpValue">ippOpValue</a></h3>
<p class="description">Return an operation id for the given name.</p>
<p class="code">
ipp_op_t ippOpValue (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Textual name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Operation ID</p>
<h3 class="function"><a name="ippPort">ippPort</a></h3>
<p class="description">Return the default IPP port number.</p>
<p class="code">
int ippPort (void);</p>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Port number</p>
<h3 class="function"><a name="ippRead">ippRead</a></h3>
<p class="description">Read data for an IPP message from a HTTP connection.</p>
<p class="code">
ipp_state_t ippRead (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>ipp</dt>
<dd class="description">IPP data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Current state</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="ippReadFile">ippReadFile</a></h3>
<p class="description">Read data for an IPP message from a file.</p>
<p class="code">
ipp_state_t ippReadFile (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int fd,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fd</dt>
<dd class="description">HTTP data</dd>
<dt>ipp</dt>
<dd class="description">IPP data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Current state</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="ippReadIO">ippReadIO</a></h3>
<p class="description">Read data for an IPP message.</p>
<p class="code">
ipp_state_t ippReadIO (<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *src,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_iocb_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int blocking,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *parent,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>src</dt>
<dd class="description">Data source</dd>
<dt>cb</dt>
<dd class="description">Read callback function</dd>
<dt>blocking</dt>
<dd class="description">Use blocking IO?</dd>
<dt>parent</dt>
<dd class="description">Parent request, if any</dd>
<dt>ipp</dt>
<dd class="description">IPP data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Current state</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetBoolean">ippSetBoolean</a></h3>
<p class="description">Set a boolean value in an attribute.</p>
<p class="code">
int ippSetBoolean (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int boolvalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>boolvalue</dt>
<dd class="description">Boolean value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetCollection">ippSetCollection</a></h3>
<p class="description">Set a collection value in an attribute.</p>
<p class="code">
int ippSetCollection (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *colvalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>colvalue</dt>
<dd class="description">Collection value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetDate">ippSetDate</a></h3>
<p class="description">Set a date value in an attribute.</p>
<p class="code">
int ippSetDate (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const ipp_uchar_t *datevalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>datevalue</dt>
<dd class="description">Date value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetGroupTag">ippSetGroupTag</a></h3>
<p class="description">Set the group tag of an attribute.</p>
<p class="code">
int ippSetGroupTag (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t group_tag<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">Attribute</dd>
<dt>group_tag</dt>
<dd class="description">Group tag</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>group</code> parameter specifies the IPP attribute group tag: none
(<code>IPP_TAG_ZERO</code>, for member attributes), document (<code>IPP_TAG_DOCUMENT</code>),
event notification (<code>IPP_TAG_EVENT_NOTIFICATION</code>), operation
(<code>IPP_TAG_OPERATION</code>), printer (<code>IPP_TAG_PRINTER</code>), subscription
(<code>IPP_TAG_SUBSCRIPTION</code>), or unsupported (<code>IPP_TAG_UNSUPPORTED_GROUP</code>).

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetInteger">ippSetInteger</a></h3>
<p class="description">Set an integer or enum value in an attribute.</p>
<p class="code">
int ippSetInteger (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int intvalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>intvalue</dt>
<dd class="description">Integer/enum value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetName">ippSetName</a></h3>
<p class="description">Set the name of an attribute.</p>
<p class="code">
int ippSetName (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>name</dt>
<dd class="description">Attribute name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippSetOctetString">ippSetOctetString</a></h3>
<p class="description">Set an octetString value in an IPP attribute.</p>
<p class="code">
int ippSetOctetString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const void *data,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int datalen<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>data</dt>
<dd class="description">Pointer to octetString data</dd>
<dt>datalen</dt>
<dd class="description">Length of octetString data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetOperation">ippSetOperation</a></h3>
<p class="description">Set the operation ID in an IPP request message.</p>
<p class="code">
int ippSetOperation (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_op_t op<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP request message</dd>
<dt>op</dt>
<dd class="description">Operation ID</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.

</p>
<h3 class="function"><a name="ippSetPort">ippSetPort</a></h3>
<p class="description">Set the default port number.</p>
<p class="code">
void ippSetPort (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int p<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>p</dt>
<dd class="description">Port number to use</dd>
</dl>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetRange">ippSetRange</a></h3>
<p class="description">Set a rangeOfInteger value in an attribute.</p>
<p class="code">
int ippSetRange (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int lowervalue,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int uppervalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>lowervalue</dt>
<dd class="description">Lower bound for range</dd>
<dt>uppervalue</dt>
<dd class="description">Upper bound for range</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetRequestId">ippSetRequestId</a></h3>
<p class="description">Set the request ID in an IPP message.</p>
<p class="code">
int ippSetRequestId (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int request_id<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>request_id</dt>
<dd class="description">Request ID</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>request_id</code> parameter must be greater than 0.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetResolution">ippSetResolution</a></h3>
<p class="description">Set a resolution value in an attribute.</p>
<p class="code">
int ippSetResolution (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_res_t unitsvalue,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int xresvalue,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int yresvalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>unitsvalue</dt>
<dd class="description">Resolution units</dd>
<dt>xresvalue</dt>
<dd class="description">Horizontal/cross feed resolution</dd>
<dt>yresvalue</dt>
<dd class="description">Vertical/feed resolution</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetState">ippSetState</a></h3>
<p class="description">Set the current state of the IPP message.</p>
<p class="code">
int ippSetState (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_state_t state<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>state</dt>
<dd class="description">IPP state value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetStatusCode">ippSetStatusCode</a></h3>
<p class="description">Set the status code in an IPP response or event message.</p>
<p class="code">
int ippSetStatusCode (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_status_t status<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP response or event message</dd>
<dt>status</dt>
<dd class="description">Status code</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetString">ippSetString</a></h3>
<p class="description">Set a string value in an attribute.</p>
<p class="code">
int ippSetString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *strvalue<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>strvalue</dt>
<dd class="description">String value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippSetStringf">ippSetStringf</a></h3>
<p class="description">Set a formatted string value of an attribute.</p>
<p class="code">
int ippSetStringf (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *format,<br>
&nbsp;&nbsp;&nbsp;&nbsp;...<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>format</dt>
<dd class="description">Printf-style format string</dd>
<dt>...</dt>
<dd class="description">Additional arguments as needed</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.<br>
<br>
The <code>format</code> parameter uses formatting characters compatible with the
printf family of standard functions.  Additional arguments follow it as
needed.  The formatted string is truncated as needed to the maximum length of
the corresponding value type.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippSetStringfv">ippSetStringfv</a></h3>
<p class="description">Set a formatted string value of an attribute.</p>
<p class="code">
int ippSetStringfv (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int element,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *format,<br>
&nbsp;&nbsp;&nbsp;&nbsp;va_list ap<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>element</dt>
<dd class="description">Value number (0-based)</dd>
<dt>format</dt>
<dd class="description">Printf-style format string</dd>
<dt>ap</dt>
<dd class="description">Pointer to additional arguments</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
The <code>element</code> parameter specifies which value to set from 0 to
<a href="#ippGetCount(attr)"><code>ippGetCount(attr)</code></a>.<br>
<br>
The <code>format</code> parameter uses formatting characters compatible with the
printf family of standard functions.  Additional arguments follow it as
needed.  The formatted string is truncated as needed to the maximum length of
the corresponding value type.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetValueTag">ippSetValueTag</a></h3>
<p class="description">Set the value tag of an attribute.</p>
<p class="code">
int ippSetValueTag (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t **attr,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t value_tag<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>attr</dt>
<dd class="description">IPP attribute</dd>
<dt>value_tag</dt>
<dd class="description">Value tag</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The <code>attr</code> parameter may be modified as a result of setting the value.<br>
<br>
Integer (<code>IPP_TAG_INTEGER</code>) values can be promoted to rangeOfInteger
(<code>IPP_TAG_RANGE</code>) values, the various string tags can be promoted to name
(<code>IPP_TAG_NAME</code>) or nameWithLanguage (<code>IPP_TAG_NAMELANG</code>) values, text
(<code>IPP_TAG_TEXT</code>) values can be promoted to textWithLanguage
(<code>IPP_TAG_TEXTLANG</code>) values, and all values can be demoted to the various
out-of-band value tags such as no-value (<code>IPP_TAG_NOVALUE</code>). All other changes
will be rejected.<br>
<br>
Promoting a string attribute to nameWithLanguage or textWithLanguage adds the language
code in the &quot;attributes-natural-language&quot; attribute or, if not present, the language
code for the current locale.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.6/macOS 10.8&nbsp;</span><a name="ippSetVersion">ippSetVersion</a></h3>
<p class="description">Set the version number in an IPP message.</p>
<p class="code">
int ippSetVersion (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int major,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int minor<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
<dt>major</dt>
<dd class="description">Major version number (major.minor)</dd>
<dt>minor</dt>
<dd class="description">Minor version number (major.minor)</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The <code>ipp</code> parameter refers to an IPP message previously created using
the <a href="#ippNew"><code>ippNew</code></a>, <a href="#ippNewRequest"><code>ippNewRequest</code></a>, or  <a href="#ippNewResponse"><code>ippNewResponse</code></a> functions.<br>
<br>
The valid version numbers are currently 1.0, 1.1, 2.0, 2.1, and 2.2.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 2.0/OS 10.10&nbsp;</span><a name="ippStateString">ippStateString</a></h3>
<p class="description">Return the name corresponding to a state value.</p>
<p class="code">
const char *ippStateString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_state_t state<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>state</dt>
<dd class="description">State value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">State name</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="ippTagString">ippTagString</a></h3>
<p class="description">Return the tag name corresponding to a tag value.</p>
<p class="code">
const char *ippTagString (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_tag_t tag<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>tag</dt>
<dd class="description">Tag value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Tag name</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The returned names are defined in RFC 2911 and 3382.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.4/macOS 10.6&nbsp;</span><a name="ippTagValue">ippTagValue</a></h3>
<p class="description">Return the tag value corresponding to a tag name.</p>
<p class="code">
ipp_tag_t ippTagValue (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>name</dt>
<dd class="description">Tag name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Tag value</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The tag names are defined in RFC 2911 and 3382.

</p>
<h3 class="function"><a name="ippTimeToDate">ippTimeToDate</a></h3>
<p class="description">Convert from UNIX time to RFC 1903 format.</p>
<p class="code">
const ipp_uchar_t *ippTimeToDate (<br>
&nbsp;&nbsp;&nbsp;&nbsp;time_t t<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>t</dt>
<dd class="description">UNIX time value</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">RFC-1903 date/time data</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippValidateAttribute">ippValidateAttribute</a></h3>
<p class="description">Validate the contents of an attribute.</p>
<p class="code">
int ippValidateAttribute (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_attribute_t *attr<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>attr</dt>
<dd class="description">Attribute</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if valid, 0 otherwise</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function validates the contents of an attribute based on the name and
value tag.  1 is returned if the attribute is valid, 0 otherwise.  On
failure, cupsLastErrorString() is set to a human-readable message.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="ippValidateAttributes">ippValidateAttributes</a></h3>
<p class="description">Validate all attributes in an IPP message.</p>
<p class="code">
int ippValidateAttributes (<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ipp</dt>
<dd class="description">IPP message</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if valid, 0 otherwise</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function validates the contents of the IPP message, including each
attribute.  Like <a href="#ippValidateAttribute"><code>ippValidateAttribute</code></a>, cupsLastErrorString() is set
to a human-readable message on failure.

</p>
<h3 class="function"><a name="ippWrite">ippWrite</a></h3>
<p class="description">Write data for an IPP message to a HTTP connection.</p>
<p class="code">
ipp_state_t ippWrite (<br>
&nbsp;&nbsp;&nbsp;&nbsp;http_t *http,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>http</dt>
<dd class="description">HTTP connection</dd>
<dt>ipp</dt>
<dd class="description">IPP data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Current state</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.1.19/macOS 10.3&nbsp;</span><a name="ippWriteFile">ippWriteFile</a></h3>
<p class="description">Write data for an IPP message to a file.</p>
<p class="code">
ipp_state_t ippWriteFile (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int fd,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>fd</dt>
<dd class="description">HTTP data</dd>
<dt>ipp</dt>
<dd class="description">IPP data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Current state</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.2/macOS 10.5&nbsp;</span><a name="ippWriteIO">ippWriteIO</a></h3>
<p class="description">Write data for an IPP message.</p>
<p class="code">
ipp_state_t ippWriteIO (<br>
&nbsp;&nbsp;&nbsp;&nbsp;void *dst,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_iocb_t cb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int blocking,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *parent,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *ipp<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>dst</dt>
<dd class="description">Destination</dd>
<dt>cb</dt>
<dd class="description">Write callback function</dd>
<dt>blocking</dt>
<dd class="description">Use blocking IO?</dd>
<dt>parent</dt>
<dd class="description">Parent IPP message</dd>
<dt>ipp</dt>
<dd class="description">IPP data</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Current state</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="pwgFormatSizeName">pwgFormatSizeName</a></h3>
<p class="description">Generate a PWG self-describing media size name.</p>
<p class="code">
int pwgFormatSizeName (<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *keyword,<br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t keysize,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *prefix,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *name,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int width,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int length,<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *units<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>keyword</dt>
<dd class="description">Keyword buffer</dd>
<dt>keysize</dt>
<dd class="description">Size of keyword buffer</dd>
<dt>prefix</dt>
<dd class="description">Prefix for PWG size or <code>NULL</code> for automatic</dd>
<dt>name</dt>
<dd class="description">Size name or <code>NULL</code></dd>
<dt>width</dt>
<dd class="description">Width of page in 2540ths</dd>
<dt>length</dt>
<dd class="description">Length of page in 2540ths</dd>
<dt>units</dt>
<dd class="description">Units - &quot;in&quot;, &quot;mm&quot;, or <code>NULL</code> for automatic</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 on success, 0 on failure</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function generates a PWG self-describing media size name of the form
&quot;prefix_name_WIDTHxLENGTHunits&quot;.  The prefix is typically &quot;custom&quot; or &quot;roll&quot;
for user-supplied sizes but can also be &quot;disc&quot;, &quot;iso&quot;, &quot;jis&quot;, &quot;jpn&quot;, &quot;na&quot;,
&quot;oe&quot;, &quot;om&quot;, &quot;prc&quot;, or &quot;roc&quot;.  A value of <code>NULL</code> automatically chooses
&quot;oe&quot; or &quot;om&quot; depending on the units.<br>
<br>
The size name may only contain lowercase letters, numbers, &quot;-&quot;, and &quot;.&quot;.  If
<code>NULL</code> is passed, the size name will contain the formatted dimensions.<br>
<br>
The width and length are specified in hundredths of millimeters, equivalent
to 1/100000th of a meter or 1/2540th of an inch.  The width, length, and
units used for the generated size name are calculated automatically if the
units string is <code>NULL</code>, otherwise inches (&quot;in&quot;) or millimeters (&quot;mm&quot;)
are used.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="pwgInitSize">pwgInitSize</a></h3>
<p class="description">Initialize a pwg_size_t structure using IPP Job Template
attributes.</p>
<p class="code">
int pwgInitSize (<br>
&nbsp;&nbsp;&nbsp;&nbsp;pwg_size_t *size,<br>
&nbsp;&nbsp;&nbsp;&nbsp;ipp_t *job,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int *margins_set<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>size</dt>
<dd class="description">Size to initialize</dd>
<dt>job</dt>
<dd class="description">Job template attributes</dd>
<dt>margins_set</dt>
<dd class="description">1 if margins were set, 0 otherwise</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">1 if size was initialized, 0 otherwise</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">This function initializes a pwg_size_t structure from an IPP &quot;media&quot; or
&quot;media-col&quot; attribute in the specified IPP message.  0 is returned if neither
attribute is found in the message or the values are not valid.<br>
<br>
The &quot;margins_set&quot; variable is initialized to 1 if any &quot;media-xxx-margin&quot;
member attribute was specified in the &quot;media-col&quot; Job Template attribute,
otherwise it is initialized to 0.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="pwgMediaForLegacy">pwgMediaForLegacy</a></h3>
<p class="description">Find a PWG media size by ISO/IPP legacy name.</p>
<p class="code">
pwg_media_t *pwgMediaForLegacy (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *legacy<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>legacy</dt>
<dd class="description">Legacy size name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Matching size or NULL</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;name&quot; argument specifies the legacy ISO media size name, for example
&quot;iso-a4&quot; or &quot;na-letter&quot;.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="pwgMediaForPPD">pwgMediaForPPD</a></h3>
<p class="description">Find a PWG media size by Adobe PPD name.</p>
<p class="code">
pwg_media_t *pwgMediaForPPD (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *ppd<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>ppd</dt>
<dd class="description">PPD size name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Matching size or NULL</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;ppd&quot; argument specifies an Adobe page size name as defined in Table B.1
of the Adobe PostScript Printer Description File Format Specification Version
4.3.<br>
<br>
If the name is non-standard, the returned PWG media size is stored in
thread-local storage and is overwritten by each call to the function in the
thread.  Custom names can be of the form &quot;Custom.WIDTHxLENGTH[units]&quot; or
&quot;WIDTHxLENGTH[units]&quot;.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="pwgMediaForPWG">pwgMediaForPWG</a></h3>
<p class="description">Find a PWG media size by 5101.1 self-describing name.</p>
<p class="code">
pwg_media_t *pwgMediaForPWG (<br>
&nbsp;&nbsp;&nbsp;&nbsp;const char *pwg<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>pwg</dt>
<dd class="description">PWG size name</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">Matching size or NULL</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;pwg&quot; argument specifies a self-describing media size name of the form
&quot;prefix_name_WIDTHxLENGTHunits&quot; as defined in PWG 5101.1.<br>
<br>
If the name is non-standard, the returned PWG media size is stored in
thread-local storage and is overwritten by each call to the function in the
thread.

</p>
<h3 class="function"><span class="info">&nbsp;CUPS 1.7/macOS 10.9&nbsp;</span><a name="pwgMediaForSize">pwgMediaForSize</a></h3>
<p class="description">Get the PWG media size for the given dimensions.</p>
<p class="code">
pwg_media_t *pwgMediaForSize (<br>
&nbsp;&nbsp;&nbsp;&nbsp;int width,<br>
&nbsp;&nbsp;&nbsp;&nbsp;int length<br>
);</p>
<h4 class="parameters">Parameters</h4>
<dl>
<dt>width</dt>
<dd class="description">Width in hundredths of millimeters</dd>
<dt>length</dt>
<dd class="description">Length in hundredths of millimeters</dd>
</dl>
<h4 class="returnvalue">Return Value</h4>
<p class="description">PWG media name</p>
<h4 class="discussion">Discussion</h4>
<p class="discussion">The &quot;width&quot; and &quot;length&quot; are in hundredths of millimeters, equivalent to
1/100000th of a meter or 1/2540th of an inch.<br>
<br>
If the dimensions are non-standard, the returned PWG media size is stored in
thread-local storage and is overwritten by each call to the function in the
thread.

</p>
<h2 class="title"><a name="TYPES">Data Types</a></h2>
<h3 class="typedef"><a name="gss_auth_identity_desc">gss_auth_identity_desc</a></h3>
<p class="description">Local functions...</p>
<p class="code">
typedef struct <a href="#gss_auth_identity">gss_auth_identity</a> gss_auth_identity_desc;
</p>
<h2 class="title"><a name="STRUCTURES">Structures</a></h2>
<h3 class="struct"><a name="gss_auth_identity">gss_auth_identity</a></h3>
<p class="description">Local functions...</p>
<p class="code">struct gss_auth_identity {<br>
&nbsp;&nbsp;&nbsp;&nbsp;gss_buffer_t *credentialsRef;<br>
&nbsp;&nbsp;&nbsp;&nbsp;uint32_t flags;<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *password;<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *realm;<br>
&nbsp;&nbsp;&nbsp;&nbsp;uint32_t type;<br>
&nbsp;&nbsp;&nbsp;&nbsp;char *username;<br>
};</p>
<h4 class="members">Members</h4>
<dl>
<dt>credentialsRef </dt>
<dt>flags </dt>
<dt>password </dt>
<dt>realm </dt>
<dt>type </dt>
<dt>username </dt>
</dl>
<h3 class="struct"><a name="pollfd">pollfd</a></h3>
<p class="description">User data (unused)</p>
<p class="code">struct pollfd *pollfds, unsigned int num_pollfds, int timeout, void *context) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;void) context;<br>
&nbsp;&nbsp;&nbsp;&nbsp;void) timeout;<br>
};</p>
<h4 class="members">Members</h4>
<dl>
<dt>context </dt>
<dt>timeout </dt>
</dl>
<h2 class="title"><a name="VARIABLES">Variables</a></h2>
<h3 class="variable"><a name="CF_RETURNS_RETAINED">CF_RETURNS_RETAINED</a></h3>
<p class="description">Get the Apple language identifier associated with a
locale ID.</p>
<p class="code">const char *locale) CF_RETURNS_RETAINED;</p>
</div>
